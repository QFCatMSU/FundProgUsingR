<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta charset="UTF-8">
  <noscript>
  <link rel="stylesheet" type="text/css" href="/content/DEVELOPMENT/2018/courses/DEV-belinsky-2018-BackendTest/Programming/editor.css">
  </noscript>
  <script src="https://cdn.jsdelivr.net/gh/QFCatMSU/OnlineClassBackEnd/module.js">
  </script>
</head>
<body>

<p class="previousLesson">Outputs</p>
<p class="nextLesson">If-Else statements</p>
<h1 class="title">1-08: Conditional Operations</h1>
<h3>Changes</h3>
<h2>Purpose</h2>
<ul>
<li>Creating "decision points" in a script using if-statements</li>
<li>Introduce the six different conditional operators</li>
<li>Code conditional statements on strings and numbers</li>
</ul>
<h2>Material</h2>
<p><a href="https://raw.githubusercontent.com/QFCatMSU/FundProgUsingR/master/scripts/1-08_ConditionalOperations.R" title="">The script for this lesson is here</a> (right-click and choose<em><strong> Save File As...</strong></em>).</p>
<p>The&nbsp;<a href="../sccripts/twoWeekWeatherData.csv?_&amp;d2lSessionVal=E3dG9hOwbtH96KknXIbfYiST3&amp;ou=1247781" target="_blank" rel="noopener">data for this lesson is here</a> (just left-click)</p>
<p></p>
<p>If you have any questions about the material in this lesson <em class="email">feel free to email them to the instructor here</em>.</p>
<h2>Four structures in programming</h2>
<p>As mentioned in the second lesson on variables,&nbsp;there are basically 4 main structures that cover almost every aspect of programming:</p>
<ol>
<li>Variables</li>
<li>If-Else Statements</li>
<li>For Loops</li>
<li>Functions</li>
</ol>
<p></p>
<p>In the next three lessons we cover <em><strong>If-Else</strong></em> statements</p>
<h2>Non-linear scripts</h2>
<p>So far all of our scripts have been linear -- in other words, the execution of the script goes line-by-line, or command-by-command, until the end of the script.&nbsp; However, most scripts do not work like this -- most scripts have multiple points where the execution of code is:</p>
<ul>
<li>moved to another location (i.e., <em><strong>functions </strong></em>-- future lesson)</li>
<li>done multiple times (i.e., <em><strong>for </strong></em>loops -- future lesson)</li>
<li>dependent on some condition (i.e., <em><strong>if-else</strong></em> statements -- this and next lesson)&nbsp;</li>
</ul>
<p></p>
<p>And you will often find combinations of the above.&nbsp; When dealing with data frames, <em><strong>if-else</strong></em> statements are often found within <em><strong>for </strong></em>loops.&nbsp; For example, a <em><strong>for </strong></em>loop goes through every value in a temperature column and an embedded <em><strong>if-else </strong></em>statement executes code if the temperature is above a certain amount.</p>
<p></p>
<p>For the next couple of lessons we are just going to focus on <em><strong>if-else</strong></em> statements.&nbsp; After that, we will introduce <em><strong>for </strong></em>loops with embedded <em><strong>if-else </strong></em>statements.</p>
<h2>Questions and Statements</h2>
<p>The <em><strong>if()</strong></em> statement can <em class="hl">almost </em>be thought of as a question with a <strong>yes/no</strong> answer:<em> </em></p>
<ul>
<li><em>Is the fish's weight below 100 grams?</em>&nbsp; (yes/no)<em> </em></li>
<li><em>Is the first runner's speed greater than the second runner's speed? &nbsp;</em>(yes/no)</li>
<li><em>Is the location Silver Lake?&nbsp;</em>(yes/no)</li>
<li><em>Is the temperature less than or equal to 30?</em>&nbsp;(yes/no)</li>
</ul>
<p></p>
<p>Except, instead of questions with <strong>yes/no</strong> answer,<em class="hl"> <strong>if()</strong> contains statements with <strong>TRUE/FALSE</strong> conditions</em>:</p>
<ul>
<li><em>The fish's weight is below 100 grams.</em> (TRUE/FALSE)<em> </em></li>
<li><em>The first runner's speed is greater than the second runner's speed. &nbsp;</em>(TRUE/FALSE)</li>
<li><em>The location is Silver Lake. &nbsp;</em>(TRUE/FALSE)</li>
<li><em>The temperature is less than or equal to 30. </em>(TRUE/FALSE)<em><br></em></li>
</ul>
<h3>Structure of an if() statement</h3>
<p>The basic structure of an <em><strong>if() </strong></em>statement is:</p>
<p class="code partial">if (<em>some conditional statement goes here)</em></p>
<p class="code">{&nbsp;</p>
<p class="code">&nbsp;&nbsp; # Execute the code in this codeblock</p>
<p class="code">&nbsp;&nbsp; # if the conditional statement is TRUE.</p>
<blockquote>
<p>&nbsp;&nbsp; # note: All command within the codeblock are indented</p>
</blockquote>
<p class="code">}</p>
<p class="code"># next lesson we will cover what happens if the conditional statement is FALSE.</p>
<p class="fig" id="structure">Structure of an if() statement</p>
<p></p>
<p>Inside the curly brackets (<em><strong> {&nbsp; }</strong></em> ) attached to the <em><strong>if()</strong></em> is a <em class="hl">codeblock</em> that gets executed if the statement is <strong>TRUE</strong>.&nbsp; If the statement is <strong>FALSE</strong>,&nbsp; the codeblock is ignored.</p>
<p></p>
<p>Let's do a simple example where a random number is picked and an <em><strong>if()</strong></em> statement checks the random number:</p>
<p class="code partial">randomTemp = sample(30:80, size=1);&nbsp; # pick a random number between 30 and 80</p>
<p class="code partial"></p>
<p class="code partial">if (<em></em>randomTemp <em>&gt; 50)</em></p>
<p class="code">{&nbsp;</p>
<p class="code">&nbsp; cat("The temperature is", randomTemp);</p>
<blockquote>
<p>&nbsp; cat("warm enough to go outside\n");</p>
</blockquote>
<p class="code">}</p>
<p class="code"># next lesson we will cover what happens if the conditional statement is FALSE.</p>
<p class="fig" id="firstexample">An example of an if() statement</p>
<h3>Alternate codeblock format</h3>
<p>The curly brackets (<strong> {&nbsp; }</strong> ) designate the beginning and the end of the codeblock.&nbsp; There are many ways to space the curly brackets but only two methods that are generally accepted in the programming world:</p>
<ul>
<li><em class="ref" id="r-firstexample"> fig ##</em> where the curly brackets are on their own line and lined up at the same level as the<em><strong> if()</strong></em> and all code inside is indented</li>
<li><em class="ref" id="r-altstructure">fig ##</em>&nbsp; where the start bracket is on the same line as the <em><strong>if()</strong></em> statement -- everything else is the same as the first example</li>
</ul>
<p></p>
<p class="code partial">if (<em></em>randomTemp <em>&gt; 50)&nbsp; </em>{&nbsp;</p>
<p class="code">&nbsp; cat("The temperature is", randomTemp);</p>
<blockquote>
<p>&nbsp; cat("warm enough to go outside\n");</p>
</blockquote>
<p class="code">}</p>
<p class="code"># next lesson we will cover what happens if the conditional statement is FALSE.</p>
<p class="fig" id="altstructure">Alternate structure of an if() statement</p>
<p></p>
<p>I prefer the first method because it makes it easier to visualize the hierarchy of the codeblocks in your script. <em class="hl">You are required to use one of these two methods in this class</em><span class="hl">.</span></p>
<p><span></span></p>
<p><span id="r-curlybracket" class="ref">Extension: Curly bracket placement</span></p>
<h2>If() statements</h2>
<p>The conditional statement inside the parentheses of the<em><strong> if() </strong></em>contains at least two values being compared with a conditional operation:</p>
<ul>
<li>if( <strong>fishWeight </strong> <em class="hl">&lt;</em> 100 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; # is greater than</li>
<li>if( <strong>runner1Speed </strong><em class="hl">&gt;</em> <em><strong>runner2Speed</strong></em>)&nbsp; # is less than</li>
<li>if( <strong>location </strong><em class="hl">==</em> "Silver Lake" )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # is equal to</li>
<li>if( <strong>temperature </strong><em class="hl">&lt;=</em> 30 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; # is less than or equal to<em></em></li>
</ul>
<p></p>
<p>A<em><span class="hl"> conditional operator</span> </em>does two things:</p>
<p>1) It compares the two values on both sides of the operator.&nbsp;</p>
<p>2) It outputs either <em><strong>TRUE</strong> </em>or <em><strong>FALSE</strong> </em>based on results of the comparison.</p>
<p class="note">Note: TRUE/ FALSE statements are often called <strong>Boolean </strong>statements</p>
<h3>Conditional Operators in R</h3>
<p>There are six conditional operators in programming:</p>
<table style="width: 670px; height: 137.2px;">
<tbody>
<tr style="height: 19.6px;">
<td style="height: 19.6px; width: 63px;"><strong>Operator</strong></td>
<td style="height: 19.6px; width: 181px;"><strong>Meaning</strong></td>
<td style="height: 19.6px; width: 398px;"><strong><em>notes</em></strong></td>
</tr>
<tr style="height: 19.6px;">
<td style="text-align: center; height: 19.6px; width: 63px;"><strong>==</strong></td>
<td style="height: 19.6px; width: 181px;">equal to</td>
<td style="height: 19.6px; width: 398px;">
<p>Easily confused with ( <em><strong>=</strong></em> ), which is the assignment operator<br><em><strong></strong></em></p>
</td>
</tr>
<tr style="height: 19.6px;">
<td style="text-align: center; height: 19.6px; width: 63px;"><strong>!=</strong></td>
<td style="height: 19.6px; width: 181px;">not equal to</td>
<td style="height: 19.6px; width: 398px;">
<p>Reverses the logic of ==</p>
</td>
</tr>
<tr style="height: 19.6px;">
<td style="text-align: center; height: 19.6px; width: 63px;"><strong>&gt;=</strong></td>
<td style="height: 19.6px; width: 181px;">greater than or equal to</td>
<td style="height: 78.4px; width: 398px;" rowspan="4">
<p>These four operators are usually used to compares two numeric value.&nbsp; If used with string values, these operators will sort using the Unicode character value, which is similar to using the alphabetical relationship.&nbsp; <br><em><strong></strong></em></p>
<p></p>
<p><em id="r-strings" class="ref">Extension: Comparisons on string characters</em></p>
</td>
</tr>
<tr style="height: 19.6px;">
<td style="text-align: center; height: 19.6px; width: 63px;"><strong>&lt;=</strong></td>
<td style="height: 19.6px; width: 181px;">less than or equal to</td>
</tr>
<tr style="height: 19.6px;">
<td style="height: 19.6px; text-align: center; width: 63px;"><strong>&gt;</strong></td>
<td style="height: 19.6px; width: 181px;">only greater than</td>
</tr>
<tr style="height: 19.6px;">
<td style="height: 19.6px; text-align: center; width: 63px;"><strong>&lt;</strong></td>
<td style="height: 19.6px; width: 181px;">only less than</td>
</tr>
</tbody>
</table>
<p></p>
<p>Putting the conditional operator in:</p>
<blockquote>
<p>if( <em><strong>fishWeight </strong></em><em class="hl">&lt;</em> 100 )</p>
<p>{</p>
<p>&nbsp; # code that gets executed if <em><strong>fishWeight &lt;</strong></em> 100</p>
<p>}</p>
<p>if( <em><strong>runner1Speed </strong></em> <em class="hl">&gt;</em> <em><strong>runner2Speed </strong></em>)</p>
<p>{</p>
<p>&nbsp; # code that gets executed if <em><strong>runner1Speed </strong></em>&gt; <em><strong>runner2Speed</strong></em></p>
<p>}</p>
<p>if( <strong><em>location </em></strong><em class="hl">==</em> "Silver Lake" )</p>
<p>{</p>
<p>&nbsp; # code that gets executed if <em><strong>location </strong></em>&gt; "Silver Lake"</p>
<p>}</p>
<p>if( <strong><em>temperature </em></strong><em class="hl">&lt;= </em> 30)</p>
<p>{</p>
<p>&nbsp; # code that gets executed if <em><strong>temperature </strong></em>&lt;= 30</p>
<p>}</p>
</blockquote>
<p></p>
<p><em class="note">Note: Conditional Operators exclusively compare two values (e.g., <strong>location </strong>== "Silver Lake")</em>.&nbsp; In a future lesson, we will learn how to deal with more complex conditions (e.g., how to check if <em><strong>location </strong></em>is "Silver Lake" or "Round Lake").</p>
<h2>Using if() statements</h2>
<p>To set up the script to use <em><strong>if()</strong></em> statements we will:</p>
<ul>
<li>read in the data from <em><strong>twoWeekWeatherData.csv</strong></em></li>
<li>save the <em><strong>highTemp </strong></em>and <em><strong>noonCondition </strong></em>column to a vector</li>
</ul>
<p></p>
<blockquote>
<p>&nbsp; rm(list=ls()); &nbsp;# cleans out the Environment every time the code is executed<br>&nbsp; options(show.error.locations = TRUE); &nbsp;# show the line # of errors in the Console</p>
<p></p>
<p>&nbsp; ### read in data from twoWeekWeatherData.csv<br>&nbsp; weatherData = read.csv(file="data/twoWeekWeatherData.csv",&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sep=",",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;header=TRUE,&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;stringsAsFactors = FALSE); &nbsp;<br>&nbsp;&nbsp;<br>&nbsp; ### Extract the highTemps column from the data frame -- save it to a variable<br>&nbsp; highTemps = weatherData$highTemp;<br>&nbsp; noonCond = weatherData$noonCondition;</p>
</blockquote>
<p></p>
<p>Our first example will check three value in <em><strong>highTemps </strong></em>(3<sup>rd</sup>, 4<sup>th</sup>, and 5<sup>th</sup>) and see which of them are greater than <strong>50</strong>.&nbsp;</p>
<p class="ref" id="r-string-number"></p>
<blockquote>
<p>cat("---------\nChecking highTemps 3, 4, and 5 to see which are &gt; 50:\n");</p>
<p></p>
<p>if(highTemps[3] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 3 is greater than 50\n");<br>}</p>
<p>if(highTemps[4] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 4 is greater than 50\n");<br>}&nbsp;</p>
<p>if(highTemps[5] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 5 is greater than 50\n");<br>}</p>
</blockquote>
<p></p>
<p>Only the <em><strong>cat()</strong></em> in the first codeblock (<em><strong>highTemps[3] &gt; 50</strong></em>) was executed because<em><strong> highTemps[3]</strong></em> was the only value greater than <strong>50</strong>. The other two codeblocks were ignored. In a later lesson we will show how to check multiple values at once using <em><strong>for()</strong></em>.</p>
<p></p>
<blockquote>
<p class="nn" title="Console">Checking highTemps 3, 4, and 5 to see which are &gt; 50:<br>&nbsp; high temp 3 is greater than 50</p>
</blockquote>
<p></p>
<p class="ref" id="r-onecommand">Extension: Removing curly brackets when there is only one command</p>
<p class="ref" id="r-forloops">Extension: Check all value in a vector at once (for loops)</p>
<h3>Using all 6 conditional operators</h3>
<p>The above example used ( <em><strong>&gt;</strong></em> ) to compare the values in <em><strong>highTemps </strong></em>to the value <em><strong>50.</strong> </em><em><strong></strong> </em></p>
<p></p>
<p>Let's use all six conditional operator to compare <em><strong>highTemp[2]</strong></em>, which is <strong>50</strong><em>,</em> to the value <strong>50</strong><em>:</em></p>
<blockquote>
<p>&nbsp; cat("\n---------\nChecking high temp 2 using all 6 conditional operators:\n");</p>
<p></p>
<p>&nbsp; if(highTemps[2] &gt;= 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp is greater than or equal to 50\n")<br>&nbsp; }<br>&nbsp; if(highTemps[2] &lt;= 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp is less than or equal to 50\n")<br>&nbsp; }<br>&nbsp; if(highTemps[2] &gt; 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp is greater than 50\n")<br>&nbsp; }<br>&nbsp; if(highTemps[2] &lt; 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp is less than 50\n")<br>&nbsp; }<br>&nbsp; if(highTemps[2] == 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp is equal to 50\n")<br>&nbsp; }<br>&nbsp; if(highTemps[2] != 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp is not equal to 50\n")<br>&nbsp; }</p>
</blockquote>
<p></p>
<p>In the <em><strong>Console, </strong></em>we see that <em><strong>highTemps[2]</strong></em> was <strong>&gt;=</strong>, <strong>&lt;=</strong>, and <strong>==</strong> <strong>50</strong>:</p>
<blockquote>
<p class="nn" title="Console">Checking high temp 2 using all 6 conditional operators:<br>&nbsp; high temp is greater than or equal to 50<br>&nbsp; high temp is less than or equal to 50<br>&nbsp; high temp is equal to 50</p>
</blockquote>
<h2>Conditional Operators with characters/strings</h2>
<p>We can use all same six conditional operators to compare characters/strings -- but only ( <strong>==</strong> ) and ( <strong>!=</strong> ) are commonly used.&nbsp; <em class="ref" id="r-strings">Extension: The other four conditional operators on strings</em>.</p>
<p></p>
<p>We are going to use conditional operators on the values in the <em><strong>noonCondition </strong></em>vector.&nbsp; The <em><strong>noonCondition </strong></em>vector consists of character values, or, as they are more commonly called, <em class="hl">string values</em> (labelled <em><strong>chr</strong></em> in the <em><strong>Environment</strong></em> tab).&nbsp; Since the value is a <em><strong>string/chr</strong></em>, we want to compare it to a value in quotes</p>
<p>&nbsp;</p>
<p>The following code will check the second value in <em><strong>noonCond&nbsp; </strong></em>using the <em>equal</em> ( <em><strong>==</strong> </em>) condition and the <em>not equal to</em> ( !<em><strong>=</strong> </em>) condition:</p>
<p></p>
<blockquote>
<p class="nn">&nbsp; cat("\n---------\nCheck to see the noon condition on the day 2:\n");</p>
<p class="nn"></p>
<p class="nn">&nbsp; # checking the second noonCond, which is "Cloudy"</p>
<p class="nn">&nbsp; if(noonCond[2] == "Cloudy")&nbsp; # noonCond[2] is "Cloudy"<br>&nbsp; {<br>&nbsp; &nbsp; cat("&nbsp; Day was cloudy\n");</p>
<p class="nn">&nbsp; }<br>&nbsp; if(noonCond[2] != "Sunny")&nbsp;&nbsp; # noonCond[2] is not "Sunny"<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;Day was not Sunny\n")<br>&nbsp; }</p>
</blockquote>
<p></p>
<p>In the <em><strong>Console, </strong></em>we see that <strong><em>noonCond</em></strong><em><strong>[2]</strong></em> was equal to "Cloudy" and not equal to "Sunny":</p>
<blockquote>
<p class="nn" title="Console">Check to see the noon condition on the day 2:<br>&nbsp; Day was Cloudy<br>&nbsp; Day was not Sunny</p>
</blockquote>
<h3 class="">Quotes around numeric and string values</h3>
<p>When we compared a numeric value within a vector to a number we do not use quotes:</p>
<blockquote>
<p>&nbsp; if(highTemps[2] &gt;= 50)</p>
</blockquote>
<p></p>
<p>But, when we compare a string/character value within a vector to a string we need quotes around the latter:</p>
<blockquote>
<p>&nbsp; if(noonCond[2] == "Cloudy")</p>
</blockquote>
<p></p>
<p>If we do not use quotes then R thinks there is some variable named Cloudy and you will get an <em class="hl">object 'Cloudy' not found</em> error:</p>
<blockquote>
<p>&nbsp; if(noonCond[2] == Cloudy)&nbsp; # error because there is no variable (Object) named Cloudy</p>
</blockquote>
<p></p>
<p>Remember that, in R, a variable name can only start with a letter, underscore, or a dot.&nbsp; So, a number is unambiguously not a variable.&nbsp;</p>
<p>However, you can put quotes around a number:</p>
<blockquote>
<p>&nbsp; if(highTemps[2] &gt;= "50")&nbsp; # this will often give a wrong answer...</p>
</blockquote>
<p></p>
<p>This change the number 50 to the character "5" followed by the character "0".&nbsp; Coincidentally, the<em><strong> if()</strong></em> statement above is also TRUE, but for the wrong reason.&nbsp; <em id="r-numberstrings" class="ref">Extension: conditional operators on numbers given as strings.</em></p>
<h3 class="">Case counts with strings</h3>
<p>When comparing two strings, <em class="hl">any difference between the two strings means they are not equal</em> (so, == would be FALSE and != would be TRUE).&nbsp; This includes capital and lowercase letters.&nbsp;</p>
<p></p>
<p><em><strong>noonCond[2]</strong></em> is "Cloudy" but "Cloudy" is not the same as "cloudy":</p>
<blockquote>
<p class="nn">&nbsp; cat("\n---------\nChecking same condition but changed 'Cloudy' to 'cloudy':\n");</p>
<p class="nn"></p>
<p class="nn">&nbsp; if(noonCond[2] == "cloudy")&nbsp;&nbsp; # This will be FALSE because of the lowercase c<br>&nbsp; {<br>&nbsp; &nbsp; cat("&nbsp; Day was cloudy\n");</p>
<p class="nn">&nbsp; }</p>
<p class="nn">&nbsp; if(noonCond[2] != "cloudy")&nbsp;&nbsp; # This will be TRUE <br>&nbsp; {<br>&nbsp; &nbsp; cat("&nbsp; Day was NOT cloudy\n");&nbsp;</p>
<p class="nn">&nbsp; }</p>
</blockquote>
<p></p>
<p>And in the Console we see that "Cloudy" does not equal "cloudy":</p>
<blockquote>
<p class="nn" title="Console">Checking same condition but changed 'Cloudy' to 'cloudy':<br>&nbsp; Day was NOT cloudy</p>
</blockquote>
<h2>Checking other columns</h2>
<p class="">Many times, when we are checking values within a data frame, we want to know more about other values within that row.&nbsp; In the case of the <em><strong>weatherData </strong></em>data frame, these are the weather readings that occurred on the same day:</p>
<blockquote>
<p class="nn">&nbsp; cat("\n---------\nOutputting information from another column:\n");</p>
<p class="nn">&nbsp; if(noonCond[2] == "Cloudy")&nbsp;&nbsp; # checking if they are equal<br>&nbsp; {<br>&nbsp; &nbsp; cat("&nbsp; Day was Cloudy");</p>
<p class="nn">&nbsp;&nbsp;&nbsp; cat(" and the high temperature that day was", highTemps[2], "\n");</p>
<p class="nn">&nbsp; }</p>
</blockquote>
<p class=""></p>
<blockquote>
<p class="nn" title="Console">Outputting information from another column:<br>&nbsp; Day was Cloudy and the high temperature that day was 50&nbsp;</p>
</blockquote>
<h2>if() within if()</h2>
<p>We often want to check multiple conditions and one way to do this is to embed an<em><strong> if() </strong></em>statement within an<em><strong> if() </strong></em>statement.</p>
<p></p>
<p>For instance, if the condition is cloudy, we might also want to check the temperature for that day:</p>
<blockquote>
<p>if(noonCond[2] == "Cloudy")&nbsp;&nbsp; # checking if they are equal<br>{</p>
<p>&nbsp; # the following if statement are only checked if conditions are cloudy</p>
<p>&nbsp; if( highTemps[2] &gt; 60 )</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; cat("Still nice enough to go out!");</p>
<p>&nbsp; }</p>
<p>&nbsp; if( highTemps[2] &lt; 60 )</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; cat("Best to stay indoors");</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<p></p>
<p>The two inner <em><strong>if()</strong></em> statements (checking <em><strong>highTemps</strong></em>) are only checked if the outer <em><strong>if()</strong></em> statement (checking <em><strong>noonCond</strong></em>) is <em><strong>TRUE</strong></em>.</p>
<h2 class="" id="app">Application</h2>
<p class="note">If you have any questions regarding this application, feel free to <em class="email">email them to the instructor here</em>.</p>
<p class="">You can attach files to the email above or send the whole Project Folder as a zipped file. &nbsp;<a href="1-01_Setup_and_RStudio_Projects.html#zip" target="_blank" rel="noopener">Instructions for zipping the Project Folder are here.</a></p>
<p></p>
<p><strong>All of the following code should be in <em class="hl">one script file</em>.</strong></p>
<p>A) Using<em><strong> if()</strong></em>, find which of the first five days had at least 1 inch of rain.&nbsp; For those days, output to the <em><strong>Console </strong></em>the high and low temperature.</p>
<p class="note">Note: this is an inefficient way to do the problem -- the more efficient way is for loops, which we will do in a couple lessons.</p>
<p></p>
<p>B) Using <em><strong>if(),</strong></em> find which of the last five days had a low temperature that was 40 degrees or less.&nbsp; For those days output <em><strong>date </strong></em>to the <em><strong>Console</strong></em>. <em><br></em></p>
<p></p>
<p>C) Use <em><strong>sample()</strong></em> to pick a random temperature from <strong>40-80</strong> (make sure you save the value to a variable)</p>
<p></p>
<p>D) Use <em><strong>sample()</strong></em> to pick a random weather condition from these four choices: "Cloudy", "Sunny", "Rainy", "Foggy"</p>
<p></p>
<blockquote>
<p>sample(x=c('a', 'b', 'c'), size=1) # randomly picks a, b, or c</p>
</blockquote>
<p></p>
<p>E) Using <em><strong>if() </strong></em>with embedded<strong></strong><em><strong> if() </strong></em>output a single message to the <em><strong>Console </strong></em>for each of these four scenarios:</p>
<ol>
<li>&nbsp;&nbsp; random temperature (part C) is<strong> more than or equal to 60 </strong>and the weather condition (part D) <strong>is sunny</strong></li>
<li>&nbsp;&nbsp; random temperature (part C) is <strong>less than 60</strong> and the weather condition (part D) <strong>is sunny</strong></li>
<li>&nbsp;&nbsp; random temperature (part C) is <strong>more than or equal to 60</strong> and the weather condition (part D) <strong>is not sunny</strong></li>
<li>&nbsp;&nbsp; random temperature (part C) is<strong> less than 60</strong> and the weather condition (part D) <strong>is not sunny</strong></li>
</ol>
<p>The four scenario are mutually exclusive (do not overlap each other) and complete (cover every possible scenario).&nbsp;</p>
<p><span class="hl">If </span><em class="hl">you do this right, then exactly one of the four messages will appear every time you run your script.</em></p>
<h3>Questions to answer</h3>
<p>Answer the following in comments inside your application script:</p>
<ol>
<li>What was your level of comfort with the lesson/application?</li>
<li>What areas of the lesson/application confused or still confuses you?</li>
<li>What are some things you would like to know more about that is related to, but not covered in, this lesson?</li>
</ol>
<p></p>
<p><em class="hl">Save you script file as <strong>app1-08.r</strong>&nbsp; in the <strong>scripts</strong> folder of your RStudio Project for the class.</em>&nbsp;</p>
<h2 class="extension" id="curlybracket">Extension: Curly bracket placement</h2>
<p>The curly brackets attached to a <em><strong>if() </strong></em>statement are used to encapsulate the codeblock and, functionally, all the curly brackets have to do is begin and end the codeblock -- so there are many ways you could place the curly brackets.&nbsp;</p>
<p></p>
<p>Here are three bad ways that work:</p>
<blockquote>
<p class="code">if (randomTemp <em>&gt; 50) </em>{&nbsp;cat("The temperature is", randomTemp);</p>
<p class="code">cat("warm enough to go outside\n");&nbsp; }</p>
</blockquote>
<p class="nn"></p>
<p class="code">if (<em></em>randomTemp <em>&gt; 50)</em></p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;</p>
<p class="code">cat("The temperature is", randomTemp);</p>
<blockquote>
<p>cat("warm enough to go outside\n");</p>
</blockquote>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p></p>
<p class="code">if (<em></em>randomTemp <em>&gt; 50)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</em></p>
<p class="code">&nbsp; cat("The temperature is", randomTemp);</p>
<blockquote>
<p>&nbsp; cat("warm enough to go outside\n");&nbsp;&nbsp;&nbsp;&nbsp; }</p>
</blockquote>
<p></p>
<p>The three <em><strong>if()</strong></em> statement above would all execute correctly because the codeblock is in between the curly brackets.&nbsp; But, in programming there are standards to how curly brackets get placed.&nbsp; Here are the two main standards -- and you need to use one of these two in this class:</p>
<blockquote>
<p class="nn"># standard 1</p>
<p class="code partial">if (<em></em>randomTemp <em>&gt; 50)</em></p>
<p class="code">{&nbsp;</p>
<p class="code">&nbsp; cat("The temperature is", randomTemp);</p>
<blockquote>
<p>&nbsp; cat("warm enough to go outside\n");</p>
</blockquote>
<p class="code">}</p>
<p></p>
<p># standard 2</p>
<p class="code partial">if (<em></em>randomTemp <em>&gt; 50)&nbsp; </em>{&nbsp;</p>
<p class="code">&nbsp; cat("The temperature is", randomTemp);</p>
<blockquote>
<p>&nbsp; cat("warm enough to go outside\n");</p>
</blockquote>
<p class="code">}</p>
</blockquote>
<p></p>
<p>In both these standards, the commands inside the codeblock are also indented -- this is to make it easier the code that is attached to the<em><strong> if()</strong></em> statement.&nbsp;</p>
<h2 class="extension" id="onecommand">Extension: Removing curly brackets in if() statements</h2>
<p>If there is only one command in a codeblock as in the 3<em><strong> if()</strong></em> statements below:&nbsp;</p>
<blockquote>
<p class="nn">if(highTemps[3] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 3 is greater than 50\n");<br>}</p>
<p>if(highTemps[4] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 4 is greater than 50\n");<br>}&nbsp;</p>
<p>if(highTemps[5] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 5 is greater than 50\n");<br>}</p>
</blockquote>
<p></p>
<p>Then you can take out the curly brackets and the code below will execute exactly the same:</p>
<blockquote>
<p class="nn">if(highTemps[3] &gt; 50)<br>&nbsp; cat(" &nbsp;high temp 3 is greater than 50\n");</p>
<p>if(highTemps[4] &gt; 50)<br>&nbsp; cat(" &nbsp;high temp 4 is greater than 50\n");</p>
<p>if(highTemps[5] &gt; 50)<br>&nbsp; cat(" &nbsp;high temp 5 is greater than 50\n");</p>
</blockquote>
<p></p>
<p>But, that is only because <em class="hl">there is only one command </em>attached to each <em><strong>if()</strong></em> statement.&nbsp; The curly brackets are needed if there is more than one command:</p>
<!--<blockquote>
<p class="nn">if(highTemps[3] &gt; 50)<br>{<br>&nbsp; cat(" &nbsp;high temp 3 is greater than 50\n");&nbsp; # first command</p>
<p>&nbsp; over50Temp = TRUE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # second command<br>}</p>
</blockquote>
<p></p>
<p>You quite often see programmers forgo the curly brackets when there is only one command.&nbsp; In general, <em class="hl">I always recommend using curly brackets even when you only have one command</em> attached to the <em><strong>if()</strong></em> statement.&nbsp; It keeps the code more consistent and allows you to easily add more commands to an <em><strong>if() </strong></em>statement codeblock.</p>
<h2 class="extension" id="stringnumbers">Extension: Conditional operations on numbers given as strings</h2>
<p>In programming there is a difference between 50 and "50".&nbsp; 50 is a number whereas "50" is the character "5" followed by the character "0".</p>
<p></p>
<p>If you try to perform mathematical operation on "50", you will get an error:</p>
<blockquote>
<p>&gt; 50 + 30</p>
<p>[1] 80</p>
<p>"50" + 30</p>
<p>Error in "50" + 30 : non-numeric argument to binary operator</p>
</blockquote>
<p></p>
<p class="note">Note: in some programming language "50" + 30 = "5030"</p>
<p></p>
<p>However, conditional operations on "50" will still work:</p>
<blockquote>
<p>&gt; 50 &gt; 30</p>
<p>[1] TRUE</p>
<p>&gt; "50" &gt; 30</p>
<p>[1] TRUE</p>
</blockquote>
<p></p>
<p>And it seems kind of right at first, but the conditional operations seem to break down quickly:</p>
<blockquote>
<p>&gt; "50" &gt; 300</p>
<p>[1] TRUE</p>
</blockquote>
<p></p>
<p>This is because the conditional operators are doing an alphabetical comparison (or, left to right by character)</p>
<p>So "50" is greater than 30 because "5" is alphabetically greater than "3".&nbsp;</p>
<p></p>
<p>But, the same logic applies when comparing "50" to&nbsp; 300 or "50" to 300000.</p>
<p>"50" will always be greater because "5" is alphabetically greater than 3</p>
<p></p>
<p>This is just like saying that "Erin" is greater than anything that starts with "c", not matter how many letters are in the word that starts with "c"</p>
<blockquote>
<p>&gt; "Erin" &gt; "Charlie"</p>
<p>[1] TRUE</p>
</blockquote><-->
<h2 class="extension" id="strings">Extension: Greater than and less than on strings</h2>
<p>Greater than and less than conditional operator do work on strings.&nbsp; If the strings only have letters from the English alphabet, then &gt; and &lt; will do an alphabetical comparison between the values.&nbsp; In this case, &gt; mean further in the alphabet.&nbsp; So, "C" &gt; "B", "D" &gt; "C"...</p>
<p></p>
<blockquote>
<p title="Console" class="nn">&gt; "Frank" &gt; "Charlie"<br>[1] TRUE<br>&gt; "Bob" &gt; "Charlie"<br>[1] FALSE<br>&gt; "Bob" &gt; "Barb"<br>[1] TRUE</p>
</blockquote>
<p></p>
<p>If you use characters that are not in the English alphabet then R will look at the <a href="https://en.wikipedia.org/wiki/List_of_Unicode_characters" target="_blank" rel="noopener">Unicode character code</a>.&nbsp; Unicode character codes are unique numbers assigned to every imaginable character.&nbsp; The English letters start at 65 in the Unicode chart.&nbsp; The main use for Unicode character codes is that they allow someone to use and output characters that are not on your keyboard like the<em><strong> ζ</strong></em> , which is character number 950.&nbsp;</p>
<p></p>
<p>Even though <strong>&gt;</strong> and <strong>&lt;</strong> works on all characters, it has limited usefulness.</p>
<h2 id="numberstrings" class="trap">Extension: Numbers as Characters</h2>
<p>A common problem in R is that variables that look like numbers can really be a string/character.&nbsp;</p>
<p></p>
<p>If you add these variables to your script:</p>
<blockquote>
<p>num1 = 50;</p>
<p>num2 = "50";</p>
</blockquote>
<p></p>
<p>Then <em><strong>num1 </strong></em>is an integer but <em><strong>num2 </strong></em>is a string/character.</p>
<p>In other words, <em><strong>num1 </strong></em>is 50 <em><strong>and </strong><strong>num2 </strong></em>is the character "5" followed by the character "0".</p>
<p></p>
<p>This means the mathematical and conditional operators will not work on <em><strong>num2 </strong></em>as you would expect:</p>
<blockquote>
<p title="Console" class="nn">&gt; num2 &gt; 30<br>[1] TRUE<br>&gt; num2 &gt; 70<br>[1] FALSE</p>
<p title="Console" class="nn">&gt; num2 &gt; 300<br>[1] TRUE<br>&gt; num2 &gt; 7<br>[1] FALSE</p>
</blockquote>
<p class="fig">Conditional operators on numbers that are really string/characters: num2 = "50"</p>
<p></p>
<p>Since <em><strong>num2 </strong></em>is "50", the first two seem correct, "50" is greater than 30 and not greater than 70.&nbsp;</p>
<p>But adding or taking away "0" does not change the result of the conditional operator so "50" is still greater than 300 and not greater than 7.</p>
<p></p>
<p>This happens because R does not think of "50" as a number but as two characters, a "5" and a "0".&nbsp; And since R sees "50" as two character, R will also convert the other number into characters.&nbsp; So, this is what R is really doing:</p>
<blockquote>
<p title="Console" class="nn">&gt; num2 &gt; "30"<br>[1] TRUE<br>&gt; num2 &gt; "70"<br>[1] FALSE</p>
<p title="Console" class="nn">&gt; num2 &gt; "300"<br>[1] TRUE<br>&gt; num2 &gt; "7"<br>[1] FALSE</p>
</blockquote>
<p class="fig">Conditional operators on strings that have numbers in them</p>
<p></p>
<p>R is making an alphabetical comparison or the numbers and alphabetic comparisons go right to left.&nbsp; R sees "5" as greater than "3" and not greater than "7".&nbsp; This is the same as saying that R see "Frank" as greater than "Charlie" and not greater than "Harry".&nbsp;</p>
<p></p>
<p>When doing an alphabetical comparison, if the first character is different then you do not need to look beyond the first character when doing a conditional operator.</p>
<h2 id="forloops" class="extension">Checking all values in a vector (for loops)</h2>
<p>This is a preview of things to come.&nbsp; Obviously, it is a pain to code an <em><strong>if()</strong></em> statement for every value in a vector -- especially if there are hundreds or thousands of values.&nbsp; For this reason <em><strong>if()</strong></em> statements are often found embedded within <em><strong>for </strong></em>loops.&nbsp; The <em><strong>for </strong></em>loop's job is to iterate through a set of values with just one line:</p>
<p></p>
<blockquote>
<p># This for loop will execute 14 times with i=1:14</p>
<p>for(i in 1:14)&nbsp;</p>
<p>{</p>
<p>&nbsp; # only one if() is needed to check all 14 values in the vector</p>
<p>&nbsp; if(highTemps[i] &gt; 50)<br>&nbsp; {<br>&nbsp; &nbsp; cat(" &nbsp;high temp", i, "is greater than 50\n");<br>&nbsp; }</p>
<p>}</p>
</blockquote>
<p></p>
<p>And the<em><strong> if()</strong></em> statement does the check on all 14 values:</p>
<p></p></body></html>