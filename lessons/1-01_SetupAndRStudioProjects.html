<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta charset="UTF-8">
  <noscript>
  <link rel="stylesheet" type="text/css" href="/content/DEVELOPMENT/2018/courses/DEV-belinsky-2018-BackendTest/Programming/editor.css">
  </noscript>
  <script src="https://cdn.jsdelivr.net/gh/QFCatMSU/OnlineClassBackEnd/module.js">
  </script>
</head>
<body>

<p class="previousLesson">Introduction and Syllabus</p>
<p class="nextLesson">Variables</p>
<h1 class="title">1-01: Setup and RStudio Projects</h1>
<h3>Changes</h3>
<h2>Purpose</h2>
<ul>
<li>Install and test the software you will need for this class</li>
<li>Provide a basic overview of how RStudio works and its relationship to R</li>
<li>Execute, using the Source button, an R script</li>
<li>Show how commenting works and the importance of commenting</li>
</ul>
<p></p>
<p>If you have any questions about the material in this lesson <em class="email">feel free to email them to the instructor here</em>.</p>
<h3>Special note about images in the lessons for this class</h3>
<p>RStudio is a rapidly evolving program, and it would be too much work to maintain all the images so that they reflect the newest version of RStudio and its visual likeness.&nbsp; Some of the images in this class still reflect the 2019 version of RStudio (v1.1).&nbsp; And there are minor changes that I have made to the code that I did not believe warrants putting in new images.&nbsp; For instance, my RStudio Project name might change between images and some of the RStudio buttons and tabs will look slightly different (think of it as a check on how observant you are!).&nbsp; I have tried to make sure these differences change nothing functionally.&nbsp; Inevitably, something will fall through the cracks -- so please, contact the instructor if there is something causing a problem!</p>
<h2>Viewing file extensions</h2>
<p>By default, Windows and Mac hides file extensions from you (e.g., your Word document file is listed in the file manager as <em><strong>stuff</strong> </em>instead of <em><strong>stuff.docx</strong></em>).&nbsp; This is not convenient when you are programming as you are working with many file types (e.g., *.txt, *.r, *.csv) and, many times, the only difference between the name of two files is the extension.&nbsp; For instance, you might have two files called <em><strong>weather.r</strong></em> and <em><strong>weather.csv</strong> </em>in your folder -- without file extension they are both listed as <strong>weather</strong>.&nbsp;&nbsp;</p>
<p></p>
<p>This section is technically optional, but I would highly recommend you learn how to view all file extensions -- it will greatly assist you when programming.</p>
<h3>Viewing file extensions in Windows</h3>
<p>This option is a bit buried in Windows 10!</p>
<p></p>
<p>To view extensions:</p>
<ul>
<li>Open any <em><strong>File Explorer</strong> </em>window (i.e., your folder viewer)</li>
<li>In menu bar,
<ul>
<li><strong>Windows 10</strong>: click <em><strong>View</strong> </em>-&gt; <em><strong>Options</strong> </em>-&gt; <em><strong>Change folder and search options</strong></em></li>
<li><strong>Windows 11</strong>: click the three dots (<strong>· · ·</strong>) -&gt; <em><strong>Options</strong></em></li>
</ul>
</li>
<li>In <em><strong>Folder Opti</strong><strong>on</strong><strong>s</strong></em> window (<em class="ref" id="r-folderOptions">fig ##</em>), go to the <em><strong>View</strong> </em>tab</li>
<li>Uncheck <em class="hl">Hide extensions for known file types</em></li>
<li>Check <em class="hl">Show hidden files, folder, and drives</em>
<ul>
<li class="note">Note: There is also a way to see hidden files in RStudio, which we will show later in this lesson</li>
</ul>
</li>
<li>Click <em><strong>OK</strong></em></li>
</ul>
<p></p>
<p><img src="../Images/R-1-01_WindowsFileExtensions.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="folderOptions">Change settings to view all file extensions on Windows</p>
<p class="note"></p>
<p class="note">Note: Clicking on images will resize them</p>
<h3>Viewing file extensions in Mac</h3>
<p>File Extensions:</p>
<ul>
<li>Open <em><strong>Finder</strong></em></li>
<li>Click on <em><strong>Finder</strong> </em>-&gt;<em><strong> Preferences...</strong></em></li>
<li>In <em><strong>Finder Preferences</strong></em> window click on the <em><strong>Advanced</strong> </em>tab</li>
<li>Check <em class="hl">Show all filename extensions</em>&nbsp;</li>
</ul>
<p></p>
<p>Hidden files:</p>
<ul>
<li>You can temporarily see hidden files in the Finder by pressing <em><strong>Command-Shift-Dot ( . )</strong></em>.&nbsp;</li>
<li>You can use the Terminal to permanently show hidden files as <a href="https://techstacker.com/how-to-always-show-hidden-files-finder-macos/" target="_blank" rel="noopener">described on this webpage</a> but this is not recommended unless you are comfortable with Terminal commands.</li>
</ul>
<p></p>
<p><img src="../Images/R-1-01_MacFileExtensions.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig">Change settings to view all file extensions on a Mac</p>
<h2>Install software on your computer</h2>
<p>We are going to install two programs on your computer: <strong>R and</strong> <strong>RStudio</strong><strong></strong>. R is a programming language and RStudio provides a structured environment for the R programming language similar to the way Microsoft Word provides a structured environment for document editing. RStudio is patterned on other popular programming environments like <a href="https://visualstudio.microsoft.com/" target="_blank" rel="noopener">Microsoft's Visual Studio</a>.</p>
<p></p>
<p class=""><em class="hl">Note: Even if you already have these programs installed, it is a good idea to verify you have the latest version.</em></p>
<p></p>
<p>Installing the programs:</p>
<ol>
<li><strong>Install (or update) R</strong> (you need R version <strong>4.2</strong> or higher)<br>The <a href="https://cran.r-project.org/bin/windows/base/" target="_blank" rel="noopener noreferrer">R for Windows download is here</a>. Click on <em><strong>Download R 4.#.# for Windows</strong></em>.<br><br>The&nbsp;<a href="https://cran.r-project.org/bin/macosx/" target="_blank" rel="noopener noreferrer">R for Mac download is here</a>. &nbsp;
<ul>
<li>There are two versions of R for Mac&nbsp;
<ul>
<li><em><strong>R-4.#.#-arm64.pkg</strong></em>: for Macs with an Apple-based processor (these are the newer Macs)</li>
<li><em><strong>R-4.#.#.pkg</strong></em>: for Macs with an Intel-based processor</li>
</ul>
</li>
<li>The installer will tell you If you pick the wrong one -- there is no harm except a bit of wasted time.<br><span class="hl"><br>Open the file you downloaded and use the default installation options</span><br><br>And for those of you using Linux -- the&nbsp;<a href="https://cran.r-project.org/bin/linux/" target="_blank" rel="noopener noreferrer">R for Linux download instructions are here.</a>&nbsp;&nbsp;
<p></p>
</li>
</ul>
</li>
<li><strong>Install (or update) RStudio&nbsp;</strong>(you need an RStudio version <strong>2022.07</strong> or later):<br>You can download the<a href="https://posit.co/download/rstudio-desktop/" target="_blank" rel="noopener" title=""> RStudio Installer</a> here. <br>Download the appropriate file for your computer under <strong>Installers</strong>, open the file, and use the default installation options.<br><em class="note"></em><em class="note"><br>You can also update RStudio by clicking <strong>Help</strong> -&gt; <strong>Check for Updates</strong></em></li>
</ol>
<h3 id="mac">Special instructions for Mac users</h3>
<p>For Mac users there are some extra complexities:</p>
<ol>
<li>You might be asked to install <strong>Command Line Developer Tools </strong>while installing RStudio.<strong>&nbsp; </strong>Go ahead and install the developer tools.<br><br></li>
<li>The download for RStudio is called <em><strong>RStudio-202X.XX.dmg</strong></em>.&nbsp; Double-clicking the file will open the window below (<em class="ref" id="r-dmg">fig ##</em>).&nbsp; In the window, drag the RStudio file to the Applications folder<br><img src="../Images/R-1-01_InstallRStudioMac.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"><br>
<p class="fig" id="dmg">Adding RStudio to Applications folder<br><br></p>
If you already have RStudio installed, you will be asked if you want to replace the old version -- go ahead and <em><strong>Replace</strong></em> it.<br><br></li>
<li>After installation, <em class="hl">Unmount the RStudio device</em> in the <em><strong>Finder </strong></em>by clicking the&nbsp;Eject button (<em id="r-unmount" class="ref">fig ##</em>)</li>
</ol>
<p style="padding-left: 30px;"><img src="../Images/R-1-01_EjectRStudio.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="unmount" style="padding-left: 30px;">Unmounting the RStudio device (very important!)</p>
<h2>Project Folders</h2>
<p>Most of the work you will do in R involves multiple scripts, data files, and perhaps other types of files.&nbsp; All these files together make up your project and they exist within a <em><strong>Project Folder.&nbsp; </strong></em>The Project Folder<strong></strong><em><strong> </strong></em>the folder on your computer than contains all the files and subfolders for your project -- and <em class="hl">it is very important that you keep all files associated with a project within a Project Folder</em>.</p>
<p></p>
<p>In this class we will be using <strong>RStudio</strong> to create, edit, and execute <strong>R</strong> scripts.&nbsp; In <strong>RStudio</strong>, there is a feature called <strong>RStudio Projects</strong> that makes it much easier to move and share your project.&nbsp; We are going to go into much more detail into how RStudio Projects work in a few lessons.</p>
<p></p>
<p>Expanding on the terms above:</p>
<ul>
<li><strong>R</strong>: a programming language that is designed for statistics -- the language is similar to C and JavaScript</li>
<li><strong>RStudio</strong>: the most popular editor for R -- sort of like Word is the most popular editor for Rich-Text Documents</li>
<li><strong>Project Folder:</strong> The folder that contains the files and subfolders for your project</li>
<li><strong>RStudio Project</strong>: An RStudio feature that makes it much easier to move and share your Project Folder.&nbsp; This instructor thinks it should be mandatory for anyone who program in R and shares their scripts.</li>
</ul>
<h3>Create a new RStudio Project</h3>
<p>To create a new RStudio Project:</p>
<ul>
<li>open RStudio</li>
<li>click <em><strong>File</strong> </em>-&gt; <em><strong>New Project</strong></em>&nbsp;</li>
<li>In the<em><strong> Create Project</strong> </em>window click <em><strong>New Directory</strong></em></li>
<li>In the <em><strong>Project Type</strong></em> window click <em><strong>New Project</strong></em></li>
</ul>
<p></p>
<p><img src="../Images/R-1-01_RStudioNewProj.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig">Creating a new RStudio Project</p>
<p></p>
<p>In the <em><strong>Create New Project</strong></em> window:</p>
<ul>
<li>The <em><strong>Directory name</strong> </em>is the name of the Project Folder that will contain your whole RStudio Project</li>
<li>The Project Folder will be created in the folder listed in the second textbox (<em><strong>Create project as subdirectory of:</strong></em>)</li>
</ul>
<p></p>
<p>In <em class="ref" id="r-projDir">fig ##</em>, the Project Folder named <em><strong>My_Project</strong></em> will contain the RStudio Project and is in the <em><strong>Desktop</strong> </em>folder.&nbsp; <em class="note">Note: you can name the folder whatever you want and put it in any location.</em></p>
<p></p>
<p><img src="../Images/R-1-01_RStudioProjectDirectory.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="projDir">Creating a directory for the RStudio Project</p>
<p></p>
<p class="ref" id="r-existing">Extension: If you already have a Project Folder that you want to make into an RStudio folder then go <em class="">here</em>.</p>
<h3>RStudio Project Files Tab</h3>
<p><em class="hl">The <strong>Files</strong> tab (bottom-right corner) in RStudio is a File Manager,</em> and it allows you to do many things that you can do in your operating systems File Manager (called File Explorer in Windows and Finder in Mac). The <em><strong>Files</strong> </em>tab can be used to open, add, remove, or rename files and folders. When we first create the RStudio Project, the <em><strong>Files</strong> </em>tab will be set to the Project Folder (in my case: <em><strong>C/Users/Charlie/Desktop/My_Project</strong></em>) and there is one file in the folder: <em><strong>My_Project.Rproj</strong></em>.&nbsp;</p>
<p></p>
<p>Whenever you create an RStudio Project, an <em><strong>.Rproj</strong></em> file is added to the Project Folder. This main purpose of this file is to designate this folder as the home directory for your project.&nbsp; Double-clicking on the <em><strong>.Rproj </strong></em>file will open your Project in RStudio (just like double-clicking a <em><strong>.docx</strong></em> file opens the file in Word).</p>
<p><img src="/content/DEVELOPMENT/2021/courses/DEV-belinsky-2021-GitHubRMarkDownRMapping/GitHub/Lessons/../Images/GH_RStudioInitFiles.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig">Files tab opened to the Project Folder</p>
<p></p>
<p>If you click on <em><strong>More -&gt; Show Hidden Files</strong></em>, you will also see the hidden folder <em><strong>.Rproj.user</strong></em> -- this is not a folder you will use in this class.</p>
<p></p>
<p id="r-extrafiles" class="ref">Extension: Files added by RStudio Projects</p>
<h3>Add Subfolders</h3>
<p>We will use the <em><strong>Files</strong> </em>tab in RStudio (bottom-right window) to create two subfolders: <em><strong>scripts</strong> </em>and <em><strong>data</strong></em>.</p>
<p></p>
<p>To add two folders named scripts and data:</p>
<ul>
<li>Click on <em><strong>New Folder</strong></em> in the <em><strong>Files</strong> </em>tab</li>
<li>Enter <em><strong>scripts</strong> </em>in the textbox and click <em><strong>OK</strong></em></li>
<li>Repeat the last two steps to add a folder called <em><strong>data</strong></em></li>
</ul>
<p></p>
<p><img src="../Images/R-1-01_AddFolders.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig">Adding folders using the Files tab in RStudio</p>
<h3>Add files to the project</h3>
<p>We are going to download two files and add them to your new RStudio Project.&nbsp;</p>
<p></p>
<p>Download these two files:</p>
<ul>
<li><a href="https://raw.githubusercontent.com/QFCatMSU/StarterProject/master/scripts/weatherDataPlot.r" target="_blank" rel="noopener" class="dl">weatherDataPlot.r</a> (right-click, choose <em><strong>Save Link as...</strong></em>): put this file in your <em><strong>scripts</strong> </em>directory</li>
<li><a href="../Scripts/LansingWeather2016.csv" target="_self">LansingWeather2016.csv</a>: put this file in your <em><strong>data</strong> </em>directory</li>
</ul>
<p></p>
<p class="note">note: if you left-click on the links on the .R file, the file will open in a browser tab -- it can be saved from there but it is not as convenient</p>
<h3>Opening File Manager from Files tab</h3>
<p>The <em><strong>Files</strong> </em>tab can do a lot of things that File Explorer/Finder can do -- but not everything.&nbsp; For instance, you cannot drag and drop files in the Files tab like you can in File Explorer/Finder.&nbsp; You can open up a File Explorer/Finder window by clicking <em><strong>More... -&gt; Show Folder in New Window</strong></em>.</p>
<p></p>
<p>.<img src="../Images/R-1-01_OpenFileManager.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="filesTab">The Files tab and the File Manager -- both show (almost) the same thing.<br><br></p>
<p class="note">Note: the image above reflect the fact that I have my File Explorer set to view hidden files and folders (<em class="ref" id="r-folderOptions">fig ##</em>)-- hence you can see <em><strong>.Rproj.user</strong>.</em></p>
<h2>RStudio Basics</h2>
<p>You should have RStudio opened to the RStudio Project you just created.&nbsp; In this section, we are going to execute the script file that we just downloaded, <strong><em>weatherDataPlot.R</em></strong><em>.&nbsp; </em>The script will read in data from <em><strong>LansingWeather2016.csv</strong></em>, make boxplots from the data, and output some simple statistics.&nbsp; This code is mostly being executed to test your setup -- some of the code will be covered in this class and the rest is covered in the GGplot class.</p>
<h3>Open your RStudio Project</h3>
<p>There are multiple ways to open an RStudio Project:</p>
<ul>
<li>Open your Project Folder in a file manager and double-click the <strong>*.proj</strong> file (in my case, <em><strong>My_Project.Rproj</strong></em>)</li>
<li>In RStudio, click <em><strong>File</strong> </em>-&gt;<em><strong> Open Project...</strong></em> -&gt; navigate to the Project Folder and click the <strong>*.proj</strong> file</li>
<li>In RStudio, click <em><strong>File</strong> </em>-&gt; <em><strong>Recent Projects</strong></em> -&gt; choose the RStudio Project you just created</li>
<li>Use the Projects dropdown menu in the top-right corner of RStudio (highlighted in <em class="ref" id="r-openproj">Fig ##</em>)</li>
</ul>
<p></p>
<p>After you open your RStudio Project you should see this:</p>
<p><img src="../Images/R-1-01-open-project.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="openproj">Opening an RStudio Project</p>
<p></p>
<p>Some things to notice in the RStudio window (<em class="ref" id="r-openproj">fig ##</em>):</p>
<ul>
<li>The <em><strong>Console</strong> </em>tab (top-left panel) is open and gives information about the version of R being used</li>
<li>The <em><strong>Files</strong> </em>tab (bottom-right panel) is open to the Project Folder (<strong><em>My_Project</em></strong>)</li>
<li>In the top-right corner there is a dropdown with the RStudio Project name, which is the same as the folder name (<strong><em>My_Project</em></strong>)</li>
</ul>
<h3>Open a script file in your Project</h3>
<p>We are going to execute the weather data script file that we downloaded earlier.&nbsp;</p>
<p></p>
<p>To open the script file in RStudio either:</p>
<ul>
<li>In <em><strong>Files</strong> </em>tab, go to the <em><strong>s</strong><strong><em>c</em>ripts</strong> </em>folder and click on <em><strong>weatherDataPlot.R </strong></em>or</li>
<li>In RStudio click <em><strong>File -&gt; Open File -&gt;</strong></em> and then find&nbsp; <em><strong>weatherDataPlot.R</strong></em> in the <em><strong>scripts</strong> </em>folder and click <em><strong>Open</strong></em>.&nbsp;</li>
</ul>
<p></p>
<p>After opening the script file, you should see something that looks like this (<em class="ref" id="r-first">Fig.##</em>) on your screen:</p>
<p><img src="../Images/R-01-OpenScript.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="first">Opening your first script in RStudio</p>
<h3>Installing packages</h3>
<p>If this is a new R/RStudio installation then is is likely that when you opened <em><strong>weatherDataPlot.R</strong></em> you got the message:</p>
<p class="code">Package ggplot2 required but is not installed</p>
<p></p>
<p>Click on <em><strong>Install</strong> </em>to install the <em><strong>ggplot2</strong> </em>package:</p>
<p><img src="/content/enforced/1139005-US20-FW-893-201-97TD8U-EL-02-344/GGPlot/Lessons/../Images/RStudioProj_InstallPAckages.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig">RStudio looking for packages needed by the script-- click <strong>Install</strong> and RStudio installs the required package(s)</p>
<p></p>
<p id="r-packages" class="ref">Extension: Other ways to install packages</p>
<h3>Executing the script</h3>
<p>The script file,<em><strong> weatherDataPlot.r</strong></em>, is a fully functioning program that takes weather data from the Comma Separated Value (CSV) file, <em><strong>weatherDataPlot.csv</strong></em>, and plots out the data.</p>
<p></p>
<p>To execute the script inside <em><strong>weatherDataPlot.r</strong></em>, click the <em><strong>Source </strong></em>button (<em class="ref" id="r-running">Fig.##</em>).&nbsp;</p>
<p></p>
<p class="hl"><em>Note: If you have already used R, there is a good chance you highlight lines of code and click <strong>Run</strong> to execute just those lines.&nbsp; Run is useful, but you want to make sure your script can execute using <strong>Source</strong>.</em> &nbsp; <em class="ref" id="r-run-source">Extension: Run vs. Source</em></p>
<p></p>
<p><img src="../Images/R-01-SourceScript.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="running">Executing (Source) the script</p>
<p></p>
<p>After the script is run:</p>
<ul>
<li>The<strong><span class=""> Environment</span><span class=""> Tab </span></strong>(upper-right) displays values for the data (variables) in the script (e.g., <em><strong>weatherData</strong></em>, <em><strong>windyDaysNorth</strong></em><em><strong></strong></em>).</li>
<li>The<strong><span class=""> Console Tab</span></strong> (lower-left) displays information about the execution of the script along with some information about the windy days and change in temperature.</li>
<li>The <strong><span class="">Plot Tab</span></strong> (lower-right -- replaces <em><strong>Files</strong> </em>tab) displays the boxplots.
<ul>
<li class="note">Note: If there is more than one plot, you can use the arrow buttons to switch between the plots.</li>
</ul>
</li>
</ul>
<h3>Cleaning up the RStudio windows</h3>
<p>There are many times where you want to clean up the tab, which can get very crowded with old information.</p>
<ul>
<li>To clean the <strong>Environment</strong>, <strong>Plot</strong>, and <strong>Console tabs</strong> use the brush button (<em class="ref" id="r-clean">Fig.##</em>).<strong></strong></li>
</ul>
<p></p>
<p><img src="../Images/R-01-CleanTabs.png" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="clean">Cleaning out the Environment, Plot, and Console tabs</p>
<p></p>
<p>If you click <em><strong><span style="color: #660000;"><span style="color: #000000;">Source</span> </span></strong></em>again, the <strong>Environment, Plot,</strong> and <strong>Console tabs </strong>will once again be populated with data from the script.</p>
<h2>Your first programming topic: Commenting</h2>
<p>We are not going to spend any time on the R code itself in this lesson, but I want to focus on an important feature of all programming languages called <em><span class="hl">commenting</span>.</em>&nbsp; Comments are text in a script that does not get executed -- the text is there to explain to the reader what is happening in the script.&nbsp; In other words, it allows programmers to explain their code within the script file.</p>
<p></p>
<p><img src="../Images/R-01-01%20Comments.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="comments">Comments in a script</p>
<p></p>
<p>Notice how the functionality of the script (<em class="ref" id="r-comments">Fig.##</em>) can be generally understood just by reading the comments -- this is the main purpose of commenting.</p>
<h3>How to make comments in R</h3>
<p>In the R language, comments are created using the number-sign ( <em><strong>#</strong></em> ) key.&nbsp; Any text on the line after the (<em><strong> #</strong></em> ) will be treated by R as a comment, and it will not be executed.&nbsp; <span style="color: #990000;"><em class="hl">You are required to make extensive use of comments for your project in this class.</em></span>&nbsp; Aside from being a good practice, it significantly reduces the frustration level of people who are trying to evaluate your work! Commenting also significantly reduces the frustration you will feel when trying to read your own code after an extended absence.</p>
<h2>Color Schemes</h2>
<p class="">If you just installed RStudio and are using the default color scheme then it probably looks like <em class="ref" id="r-commentsOrig">Fig.##</em>.&nbsp; In this color scheme, the comments below are in a lighter green whereas most of the other text is in black.</p>
<p></p>
<p><img src="../Images/R-01-01-Install-Comments.PNG" alt="Comments in lighter green" class="flexSize"></p>
<p class="fig" id="commentsOrig">Comments are in the lighter green color</p>
<p></p>
<p>I am not a big fan of the default color scheme in RStudio.&nbsp; It does not create enough differentiation between the different components of a script.&nbsp; For instance, comments (red arrows) are in green and quoted items (blue arrows) are in just a slightly different green (<em class="ref" id="r-quote">Fig.##</em>).</p>
<p></p>
<p><img src="../Images/R-01-01-Install-CommentsVsQuotes.png" alt="Comment and quote coloring" class="flexSize"></p>
<p class="fig" id="quote">The text color for comments and quotes</p>
<h3>Changing the color scheme</h3>
<p>A good color scheme can really help a programmer by allowing them to quickly identify parts of a script and common errors, like misplaced quotes.&nbsp;</p>
<p></p>
<p>RStudio offers many color schemes: to change the color scheme (<em class="ref" id="r-schemes">Fig.##</em>)</p>
<ol>
<li>Click on <em><strong>Tools</strong> </em>in the main menu (circled in <em class="ref" id="r-schemes">Fig.##</em>)</li>
<li>Choose <em><strong>Global Options</strong></em></li>
<li>When the <em><strong>Global Options</strong></em> window open (in <em class="ref" id="r-schemes">Fig.##</em>), click on <em><strong>Appearance</strong></em></li>
</ol>
<p></p>
<p><img src="../Images/R-01-01-Install-ColorScheme.PNG" alt="Color Schemes" class="flexSize"></p>
<p class="fig" id="schemes">Color schemes for RStudio (note: the Editor font might be different in your window -- that is OK)</p>
<p></p>
<p>The picture above shows the <span style="color: #660000;"><em class="hl">Xcode</em> </span>color scheme (<em class="ref" id="r-schemes">Fig.##</em>).&nbsp; I prefer <strong>Xcode</strong> because it does a good job differentiating the different aspects of the script. Notice how the comments (in green) are now clearly distinguished from the quotes (in red).</p>
<p></p>
<p>You can choose from around 20 themes in the <strong>Editor theme</strong> window, and you can change the theme anytime without affecting anything else.</p>
<h3 class="">Adding more color to differentiate output</h3>
<p>There are a couple more helpful options you should set in RStudio that use color to distinguish other components of your code<strong></strong>.&nbsp;</p>
<p></p>
<p>To make these changes go to <em><strong>Tools -&gt; Global Options... -&gt; Code -&gt; Display</strong></em> and check the following box:</p>
<ul>
<li><span class="hl">Highlight R function calls</span></li>
</ul>
<p><img src="../Images/R-1-01_Console1.png" alt="" data-d2l-editor-default-img-style="true" style="max-width: 100%;" class="fs"></p>
<p class="fig" id="console">Checkbox to highlight functions in R</p>
<p></p>
<p></p>
<p>And go to <em><strong>Tools -&gt; Global Options... -&gt; Console </strong></em>and check the following box:</p>
<ul>
<li><span class="hl">Show syntax highlighting in console input<br></span></li>
</ul>
<p></p>
<p><img src="../Images/R-1-01_Console2.png" alt="" data-d2l-editor-default-img-style="true" style="max-width: 100%;" class="fs"></p>
<p class="fig">Checkbox to color syntax in Console tab</p>
<h2>Right-side margin</h2>
<p>To make your code more readable, you want to keep the script from scrolling horizontally, which means you want to limit script lines to about 85 characters.&nbsp; This is not always possible but it is good practice to break up long lines.&nbsp;</p>
<p></p>
<p>In RStudio, you can put in a horizontal margin indicator&nbsp; by:</p>
<p></p>
<ul>
<li>Going to <em><strong>Tools -&gt; Global Options... -&gt; Code&nbsp; -&gt; Display</strong></em></li>
<li>Check <em class="hl">Show Margin</em></li>
<li>Set <em><strong>Margin column</strong></em> to <strong>85</strong><em><strong></strong></em></li>
</ul>
<p><strong><em></em></strong></p>
<p><img src="../Images/R-1-01_Margin.png" alt="" data-d2l-editor-default-img-style="true" style="max-width: 100%;" class="fs"></p>
<p class="fig">Putting a horizontal margin line in your script at 85 characters</p>
<h2>Stop RStudio from automatically adding matching parenthesis and quotes</h2>
<p>Finally, a common complaint I have gotten from my students is they hate the way RStudio tries to be "helpful" by automatically adding matching end parenthesis or quotes when the user types in a start parenthesis or quote.&nbsp;</p>
<p></p>
<p>You can turn off this feature by:</p>
<ul>
<li>Going to <em><strong>Tools -&gt; Global Options... -&gt; Code&nbsp; -&gt; Editing</strong></em></li>
<li>Uncheck <em class="hl">Insert matching parens/quotes</em></li>
<li>Set <strong>Surround selection on text insertion</strong> to <em><strong>Never</strong></em></li>
</ul>
<p></p>
<p><img src="../Images/R-01-01%20End%20parens-quotes.PNG" alt="" class="fs"></p>
<p class="fig">Stop RStudio from automatically ending your parenthesis and quotes.</p>
<h2 class="" id="app">Application</h2>
<ol>
<li>In RStudio, create a new script file (<em><strong>File</strong> </em>-&gt; <em><strong>New File</strong></em> -&gt; <em><strong>R Script</strong></em>)</li>
<li>Add some comment lines to the script</li>
<li>Save the script as <em><strong>app1-01.r</strong></em> to your <em><strong>script</strong> </em>folder</li>
<li>Send the Project Folder to the instructor.&nbsp; The easiest way is probably to send the Project Folder as a zip file (<em class="ref" id="r-zip">sect. ##</em>) and send it to belinsky@msu.edu.</li>
</ol>
<p></p>
<p class="hl"><em>If you have any questions regarding this application, feel free to</em> <em class="email">email them to the instructor here</em>.&nbsp; You can also send your zipped Project Folder using the email link.</p>
<p class="hl"></p>
<h3>Questions to answer</h3>
<p>These same, or very similar, questions will be added to each application.</p>
<p></p>
<p>Answer the following in comments inside your application script:</p>
<ol>
<li>What was your level of comfort with the lesson/application?</li>
<li>What areas of the lesson/application confused or still confuses you?</li>
<li>What are some things you would like to know more about that is related to, but not covered in, this lesson?</li>
</ol>
<p></p>
<h3 class="" id="zip">Zipping your Project Folder</h3>
<p><strong>Windows: Zip your Project Folder</strong> (<em class="ref" id="r-zipFolder">Fig.##</em>)<strong>:</strong></p>
<ol>
<li>In your File Manager (not in RStudio), right-click on the Project Folder</li>
<li>Choose <em><strong>Send to</strong></em></li>
<li>Choose <em><strong>Compressed (zipped) folder</strong></em></li>
<li>A zipped file named <em><strong>&lt;Project Folder&gt;.zip</strong></em> with all the Project Folders' contents is created in the same folder</li>
</ol>
<p></p>
<p><img src="../Images/R-01-01%20ZipFolder.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs">&nbsp;</p>
<p class="fig" id="zipFolder">Zipping your Class Folder on Windows -- in this case the zipped file created is named <em><strong>R Root.zip</strong></em></p>
<p><em><strong></strong></em></p>
<p><strong>Mac: Zip your Project Folder:</strong></p>
<ol>
<li>In your File Manager (not in RStudio), right-click on the Project Folder</li>
<li>Choose <em><strong>Compress "&lt;Project Folder&gt;"</strong></em></li>
<li>A zipped file named <em><strong>&lt;Project Folder&gt;.zip</strong></em> with all the Project Folders' contents is created in the same folder</li>
</ol>
<h2 class="extension" id="run-source">Extension: Run vs. Source</h2>
<p>Technically speaking, the difference between <em><strong>Run</strong> </em>and <em><strong>Source</strong> </em>is:</p>
<ul>
<li><em><strong>Source</strong> </em>will execute all the code in a script file.</li>
<li><em><strong>Run</strong> </em>will execute only the command that the cursor is on or all commands that are highlighted.</li>
</ul>
<p></p>
<p>The real difference lies in a historical discussion of scripting vs. programming, which is a discussion beyond this class.&nbsp; Suffice to say,&nbsp; R was originally intended to be more like a scripting language similar to an advanced calculator, where users could pull in data and click a button to produce a plot or perform statistical analysis.&nbsp; Using this method, an R-user would produce and execute one line of code at a time using the equivalent of the <em><strong>Run</strong> </em>button.</p>
<p></p>
<p>As R has grown, the focus has shifted into developing well-structured code that can be easily shared, tweaked, and reused -- similar to a modern programming language like C.&nbsp; Using this method, an R-user would produce a full script and execute it all using the equivalent of the <em><strong>Source</strong> </em>button.&nbsp; This is the method we will be primarily using in this class.</p>
<h2 class="extension" id="extrafiles">Extension: *.RProj and .Rhistory (files added by RStudio)</h2>
<p>The <em><strong>*.RProj</strong></em> file (where * is the name of your project) stores basic information about your project -- you do not need to edit this file. In your file manager, double-clicking <em><strong>*.RProj</strong></em> opens the RStudio Project.&nbsp; Inside RStudio, clicking on <em><strong>*.RProj</strong></em> brings up the Project Options window (<span id="r-powindow" class="ref">Fig.##</span>), which you can also get to by clicking on <em><strong>Tools -&gt; Project Options.&nbsp; </strong></em><em><strong><br><br></strong></em></p>
<p><img src="/content/enforced/1139005-US20-FW-893-201-97TD8U-EL-02-344/GGPlot/Lessons/../Images/GGP-01-01-ProjectOptionsWindow.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="powindow">Project Options window</p>
<p></p>
<p>The <em><strong>.Rhistory</strong></em> file stores the information from the <em><strong>Console Window</strong></em> (bottom-left corner).&nbsp; For this class, you will not need to use the <em><strong>.Rhistory</strong></em> file.&nbsp;</p>
<h2 id="version" class="extension">R version change</h2>
<p>In April 2020, R move from version 3 to version 4.&nbsp; This version change went pretty seamlessly showing that R has become a mature programming language that offers backwards compatibility to older versions (previous version changes were less seamless!).&nbsp; Still, it is important that you use version 4 now as everything being developed is being developed for version 4.</p>
<h3>stringsAsFactors now defaults to FALSE</h3>
<p class="note">Note: this is pretty advanced stuff and will be covered in a later lesson -- I just wanted to capture this major functional change between R 3 and R 4 here.</p>
<p></p>
<p>The one big functional change&nbsp; in version 4.X is that string columns in a data frame are no longer by default treated as a factor (i.e., a categorical variable) -- they are kept as strings.&nbsp; In this lesson's script, there is a line:</p>
<p class="code">weatherData = read.csv(file="data/Lansing2016Weather.csv");</p>
<p></p>
<p>In R 3.X, the non-numeric columns in <em><strong></strong></em><em><strong>Lansing2016Weather</strong></em><em><strong>.csv</strong></em> would be treated as factors by default, in R 4.X they are treated as strings.&nbsp; If you want the old behavior, you need to change the code to:</p>
<p></p>
<p class="code">weatherData = read.csv(file="data/lesson01.csv",</p>
<p class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stringsAsFactors = TRUE);</p>
<h2 class="extension" id="packages">Extension: Other ways to install packages</h2>
<p>Here are two more ways in RStudio to install packages used in your script</p>
<h3>Use the RStudio menu</h3>
<p>To install packages<em><strong> </strong></em>using the RStudio menu:</p>
<ol>
<li>Click <em><strong>Tools</strong> </em>-&gt;<em><strong> Install Packages...</strong></em></li>
<li>In the <em><strong>Install Packages</strong></em> window, type the package<strong></strong> name in the <em><strong>Packages</strong> </em>textbox (RStudio will give suggestions based on what you have typed)</li>
<li>Click <em><strong>Install</strong></em></li>
</ol>
<h3>Use the Console tab</h3>
<p>In R, we can install packages using<em><strong> install.packages()</strong></em>.&nbsp; So, if you wanted to install GGPlot2, you would type:</p>
<p class="code">install.packages("GGPlot2")</p>
<p>The Console Window in RStudio is an R interface, and you could type in the above line to install the <em><strong>GGPlot2</strong> </em>package.</p>
<p></p>
<p><img src="/content/enforced/1139005-US20-FW-893-201-97TD8U-EL-02-344/GGPlot/Lessons/../Images/GGP-01-01-UsingConsole.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig">Using the RStudio Console to install a package</p>
<h2 class="extension" id="existing">Extension: RStudio Projects (existing directory)</h2>
<p>If you already have a Project Folder that contains all of your project files you can create an RStudio Project in that folder</p>
<ul>
<li style="list-style-type: none;">
<ul></ul>
</li>
</ul>
<p></p>
<p>To create an RStudio Project at the Project Folder of an existing project:</p>
<ol>
<li>In RStudio choose <em><strong>File</strong> </em>-&gt; <em><strong>New Project...</strong></em></li>
<li>In the <em><strong>Create Project</strong></em> window choose <em><strong>Existing Directory</strong></em></li>
<li>In the <em><strong>Create Project from Existing Directory</strong> </em>window (<em class="ref" id="r-existingWindow">fig ##</em>) click <em><strong>Browse</strong> </em></li>
<li>In the<em><strong> Choose Directory</strong></em> window navigate to your Project Folder and click <em><strong>Open</strong> </em>(in this example, <em><strong>R Root</strong></em>)</li>
<li>In the <em><strong>Create Project from Existing Directory </strong></em>window click <em><strong>Create Project</strong></em></li>
</ol>
<p></p>
<p>&nbsp;<img src="../Images/R-01-01%20ExistingDir.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<p class="fig" id="existingWindow">The Create Project from Existing Directory window</p></body></html>