<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
  <meta charset="UTF-8">
  <noscript>
  <link rel="stylesheet" type="text/css" href="/content/DEVELOPMENT/2018/courses/DEV-belinsky-2018-BackendTest/Programming/editor.css">
  </noscript>
  <script src="https://cdn.jsdelivr.net/gh/QFCatMSU/OnlineClassBackEnd/module.js">
  </script>
</head><body><p class="previousLesson">Functions 2</p>
<p class="nextLesson">GGPlot Introduction</p>
<h1 class="title">1-15: Functions 3</h1>
<h2>Purpose</h2>
<ul>
<li>look at other functions in temperature.r</li>
</ul>
<h2>Questions about the material...</h2>
<p>The <a href="https://raw.githubusercontent.com/QFCatMSU/FundProgUsingR/master/scripts/1-15_Functions3.R" target="_blank" rel="noopener" title="">script for this lesson</a> is here (right-click, Save link as)</p>
<p>The <a href="https://raw.githubusercontent.com/QFCatMSU/FundProgUsingR/master/scripts/temperature.r" target="_blank" rel="noopener">functions script for this lesson</a> is here (right-click, Save link as)</p>
<p>The <a href="../Scripts/LansingNOAA2016.csv" target="_self">data for this lesson</a> is here (left-click)</p>
<p></p>
<p>If you have any questions about the material in this lesson or your Class Project <em class="email">feel free to email them to the instructor here</em>.</p>
<h2 id="functions-args">Functions and arguments</h2>
<p>In this lesson we will build up to a function that takes two arguments:</p>
<ul>
<li>a vector of temperature values</li>
<li>the units of the temperature (e.g., F, C)</li>
</ul>
<p></p>
<p>And the function will return:</p>
<ul>
<li>a vector that has categorical values for the temperatures (e.g. "high", "low", "medium").</li>
</ul>
<p></p>
<p>From the outside the function will look like this:</p>
<blockquote>
<p class="nn">tempCategory5 = function(tempVector, unit="F")</p>
</blockquote>
<p></p>
<p><em><strong>tempVector </strong></em>and <em><strong>unit </strong></em>are the two arguments for the function and <em><strong>unit </strong></em>is given a default value of "F" (Fahrenheit), but can be changed by the caller.&nbsp;</p>
<h3>Arguments and variables</h3>
<p><em class="hl">Arguments are variables</em> -- more specifically, <em class="hl">arguments </em>are variables that are:</p>
<ul>
<li>set by the caller of the function
<ul>
<li>or, sometimes set to default value by the function if the caller does not set the value</li>
</ul>
</li>
<li>used inside the function's codeblock</li>
</ul>
<p></p>
<p>So, <em><strong>tempCategory5()</strong></em> has two variables that can be set by the caller (<em><strong>tempVector </strong></em>and <em><strong>unit</strong></em>).&nbsp; It might have more variables inside, but those are hidden from the caller.</p>
<h2>Functions are kind of like black boxes</h2>
<p>R has numerous built-in function in what is called the R Base package, the R Base package is automatically installed in every version of R. &nbsp;<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html" target="_blank" rel="noopener">Here is a list of all the functions in R Base</a>. Even though these function are not a part of your script, you can access any of these functions from your script -- you just need to know what arguments to pass to the function.</p>
<p></p>
<p>Most functions have arguments.&nbsp; <em><strong>mean()</strong></em> will take the <em><strong>x</strong></em> value passed in by the caller and find the mean value.&nbsp; It will probably do this by adding all the value and dividing that by the number of values.&nbsp; But, we do not know this for sure because we cannot see inside a function -- we just see the input (arguments) and the output (return value).</p>
<p></p>
<p>When you call <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/mean.html" target="_blank" rel="noopener"><em><strong>mean()</strong></em></a>, you are setting the variable <em><strong>x </strong></em>for the function and <em><strong>x</strong></em> gets used inside the function.&nbsp; You can also, optionally, set <em><strong>trim </strong></em>and <em><strong>na.rm</strong></em> -- but those already have default values (<strong>0</strong> and <strong>FALSE</strong>).</p>
<p></p>
<p><img src="../Images/R-1-15_MeanFunction.png" alt="" data-d2l-editor-default-img-style="true" style="max-width: 100%;" class="fs"></p>
<p class="fig">The <strong>mean()</strong> function -- not than stat.ethz.ch is the website used in the RStudio <strong>Help </strong>tab</p>
<h2>Creating your own functions</h2>
<p>You can create your own function to perform a task that you do multiple times, and this function can be used in any of your scripts.&nbsp; It is best to put functions in a script of their own because they should be designed to operate independently.&nbsp; Putting functions in a separate script also helps reinforce the independence of functions from the rest of script.</p>
<p></p>
<p>We will start be creating a new script file called <em><strong>termperature.r</strong></em> and save it to the <em><strong>script </strong></em>folder.&nbsp; <em><strong>temperature</strong><strong><em>.</em>r</strong></em>.</p>
<h3>Categorizing temperatures using a function</h3>
<p>We will start off simply and have our first function, <em><strong>tempCategory()</strong></em>, take one value as an argument and give a category for the temperature (e.g., hot, warm, cold).&nbsp; This argument will be called <em><strong>tempValue</strong></em>.&nbsp; <em><strong>tempValue </strong></em>could be given a default value (e.g., <em><strong>tempValue = 50</strong></em>), but this probably does not make sense because there are too many values the caller could use (and infinitely many if you include decimals).</p>
<p></p>
<blockquote>
<p class="nn">tempCategory = function(tempValue)&nbsp; # there is no default value for tempValue</p>
<p>{</p>
<p>&nbsp; # like if-else statements and for loops, the curly brackets create a codeblock</p>
<p>&nbsp; # attached to the function -- and all code inside the function gets indented</p>
<p>}</p>
</blockquote>
<p></p>
<p>Next we add in a <em><strong>if-else-if</strong></em> structure to categorize the temperature value:</p>
<ul>
<li>freezing (1-20 degrees)</li>
<li>cold (21-40 degrees)</li>
<li>moderate (41-60 degrees)</li>
<li>warm (61-80 degrees)</li>
<li>hot (81-100 degrees)</li>
</ul>
<p></p>
<p>And for each<em><strong> if</strong><strong>-else-if</strong></em> statement, we will return the temperature category.</p>
<blockquote>
<p>tempCategory = function(tempValue)</p>
<p>{</p>
<p>&nbsp; if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("freezing");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("cold");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("moderate");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("warm");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("hot");</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<h3>Getting functions into a script</h3>
<p><em><strong>tempCategory()</strong></em> exists in the script <em><strong>temperature.r</strong></em> in the scripts folder of you project.&nbsp; <em><strong>tempCategory()</strong></em> can be used in any script file in your project by including the line:</p>
<blockquote>
<p class="nn">source(file="scripts/temperature.r");</p>
</blockquote>
<p></p>
<p>The line above reads all the functions inside<em><strong> temperature.r</strong></em> and puts them into the <em><strong>Environment </strong></em>so that the rest of the script can use the functions inside <em><strong>temperature.r</strong></em>.</p>
<blockquote>
<p title="Environment" class="nn">tempCategory: &nbsp; function (tempValue)</p>
</blockquote>
<h3>Calling functions</h3>
<p>Now we can call <em><strong>tempCategory()</strong></em>.</p>
<p></p>
<p><em class="hl">The argument <strong>tempValue </strong>is a variable</em> that is set by the caller and used by the function <em><strong>tempCategory()</strong></em>.&nbsp; Here we test out 4 different calls to <em><strong>tempCategory() </strong></em>-- each setting <em><strong>tempValue </strong></em>to a value:</p>
<blockquote>
<p class="nn">cat1a = tempCategory(45);</p>
<p>cat1b = tempCategory(tempValue=85);</p>
<p>cat1c = tempCategory(tempValue=17);</p>
<p>cat1d = tempCategory(-2);&nbsp;</p>
</blockquote>
<p></p>
<blockquote>
<p class="nn" title="Environment">cat1a:&nbsp;&nbsp; "moderate"</p>
<p>cat1b: &nbsp; "hot"</p>
<p>cat1c: &nbsp; "freezing"</p>
<p>cat1d: &nbsp; NULL</p>
</blockquote>
<p></p>
<p>When <strong>-2</strong> is the argument, <strong>NULL </strong>is the return value.&nbsp; <strong></strong>The function does not handle negative values so <strong>nothing</strong>, or <em><strong>NULL</strong></em>, was returned nothing<strong>.</strong><strong><br></strong></p>
<p></p>
<p class="note">Note: In programming, NULL means there is no value -- it is not necessarily an error.&nbsp; NA means the value is not available but should be and this generally is considered an error.</p>
<h3>Return values</h3>
<p>Functions, in many ways, are designed to answer a question from the caller.&nbsp; The answer comes in the form of a return value given by <em><strong>return()</strong></em>.&nbsp; It is up to the caller to determine how to use the return value.&nbsp;&nbsp; When the following line of code is executed:</p>
<p></p>
<blockquote>
<p class="nn">cat1b = tempCategory(tempValue=85);</p>
</blockquote>
<p></p>
<p><em><strong>tempCategory()</strong></em> is called with the argument <em><strong>tempValue </strong></em>set to <strong>85</strong>.&nbsp; The code inside <em><strong>tempCategory()</strong></em> is executed and the value "hot" is returned.&nbsp; The variable <em><strong>cat1b </strong></em>is set to the return value, "hot".</p>
<h2>Adding an argument for the unit</h2>
<p>Up to this point we are assuming that the temperature will be in Fahrenheit.&nbsp; But, we want to make the function more robust and allow for both Fahrenheit and Celsius temperatures.&nbsp; This means we need the caller to give us two pieces of information (i.e., two arguments).&nbsp; One that gives the temperature and one that gives the unit.</p>
<p></p>
<p>The easiest way is to just create a string argument that holds the unit.&nbsp; Since there are only two choices (at this point), we will put a default value of "F".&nbsp; This means that if the caller does not set <em><strong>unit</strong></em>, the temperature is assumed to be in Fahrenheit:</p>
<p></p>
<blockquote>
<p>tempCategory2 = function(tempValue, unit="F") # there is a default value for unit.</p>
<p>{</p>
<p></p>
<p>}</p>
</blockquote>
<p></p>
<p>The function will allow for two possibilities units for <em><strong>tempValue</strong></em>: Fahrenheit (F) and Celsius (C).&nbsp; This means we need code to handle both situations.&nbsp;</p>
<p></p>
<p>The <em><strong>if-else</strong></em> structure already uses Fahrenheit temperatures so we only need to do something extra if the unit is Celsius.&nbsp; The easiest thing to do is convert the Celsius temperatures into Fahrenheit before the <em><strong>if-else </strong></em>structure:</p>
<blockquote>
<p>tempCategory2 = function(tempValue, unit="F")</p>
<p>{</p>
<p>&nbsp; <em class="hl">if(unit == "C")</em><span class="hl">&nbsp; # if the unit is set to Celsius by the caller</span></p>
<p><em class="hl">&nbsp; </em>{</p>
<p>&nbsp;&nbsp;&nbsp; <em class="hl">tempValue = (9/5)*tempValue + 32;</em> &nbsp;&nbsp; # Convert tempValue to Fahrenheit</p>
<p>&nbsp; }</p>
<p>&nbsp; # note: the if statement above is completely independent from the</p>
<p>&nbsp; #&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if-else-if structure below</p>
<p>&nbsp; if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("freezing");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("cold");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("moderate");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("warm");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("hot");</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<h3>Calling tempCategory2()</h3>
<p>Let's test the <em><strong>unit </strong></em>argument in <em><strong>tempCategory2()</strong></em> from our outside script:</p>
<blockquote>
<p class="nn">cat2a = tempCategory2(45);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>cat2b = tempCategory2(15, "F");&nbsp;&nbsp;</p>
<p>cat2c = tempCategory2(15, "C");&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # 15C ~ 59F</p>
<p>cat2d = tempCategory2(tempValue=35, unit="C");&nbsp; # 35C ~ 95F</p>
<p>cat2e = tempCategory2(tempValue=45, unit="C");&nbsp; # NULL because 45C &gt; 100F</p>
</blockquote>
<p></p>
<blockquote>
<p class="nn" title="Environment">cat2a:&nbsp;&nbsp; "moderate"</p>
<p>cat2b: &nbsp; "freezing"</p>
<p>cat2c: &nbsp; "moderate"</p>
<p>cat2d: &nbsp; "hot"</p>
<p>cat2e:&nbsp;&nbsp; NULL</p>
</blockquote>
<h3>setting ( = ) vs comparing ( == )</h3>
<p>This is probably a good time to reinforce the difference between these two commonly mixed up operations: ( = ) and ( == ).&nbsp;</p>
<p></p>
<p>The ( <strong>= </strong>) operation <strong><em><span class="hl">sets </span></em></strong>the variable on the left to the value on the right:</p>
<blockquote>
<p class="nn">a = 4;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # set a to be 4</p>
<p>tempValue = 45;&nbsp; # set tempValue to be 45</p>
<p>unit = "F";&nbsp; &nbsp; &nbsp; # set unit to be "F"</p>
</blockquote>
<p></p>
<p>The ( <strong>==</strong> ) operation <strong><em class="hl">compares </em></strong>the variable on the left to the value on the right and returns a Boolean (TRUE/FALSE) value:</p>
<blockquote>
<p class="nn">a == 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Is a equal to 4?&nbsp; TRUE if a is 4, FALSE otherwise</p>
<p>tempValue == 45 # Is tempValue equal to 45? TRUE if tempValue is 45, FALSE otherwise</p>
<p>unit == "F"&nbsp;&nbsp;&nbsp;&nbsp; # Is unit equal to "F"? TRUE if unit is "F", FALSE otherwise</p>
</blockquote>
<p></p>
<p class="note">Note: "F" here means Fahrenheit -- another reason to not use T or F to represent TRUE and FALSE</p>
<h2>Boolean argument</h2>
<p>An alternate way to setup the <em><strong>tempCategory()</strong></em> function is to use a Boolean argument to determine whether the temperature is Fahrenheit or Celsius.&nbsp; A <em class="hl">Boolean</em> has two possible values: <strong>TRUE </strong>and <strong>FALSE</strong>.&nbsp; Boolean values are convenient to use when there are only two choice.&nbsp; In this case the two choice are Fahrenheit and Celsius, or, another way to put it: <strong>Fahrenheit </strong>and <strong>not Fahrenheit</strong>.</p>
<p></p>
<blockquote>
<p>tempCategory3 = function(tempValue, isFahr=TRUE) # isFahr = FALSE means Celsius</p>
<p>{</p>
<p></p>
<p>}</p>
</blockquote>
<p></p>
<p><em class="hl">TRUE and FALSE do not go into quotes.&nbsp; They are predefined variables in R.</em>&nbsp; If you use quotes then R will think you mean the character "T" followed by the character "R" followed by the character "U" followed by the character "E".&nbsp; This is not the same as the Boolean <strong>TRUE</strong>.</p>
<p></p>
<blockquote>
<p>tempCategory3 = function(tempValue, isFahr=TRUE)</p>
<p>{</p>
<p>&nbsp; # Do not put TRUE and FALSE in quotes. They are variables in R -- not strings.</p>
<p>&nbsp; <em class="hl">if(isFahr == FALSE)&nbsp; # the tempValue is Celsius</em></p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; # convert tempValue to Fahrenheit</p>
<p>&nbsp;&nbsp;&nbsp; <em class="hl">tempValue = (9/5)*tempValue + 32;</em></p>
<p>&nbsp; }</p>
<p></p>
<p>&nbsp; if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("freezing");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("cold");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("moderate");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("warm");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("hot");</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<h3>Using tempCategory3()</h3>
<p>Aside from changing the second argument to a Boolean value, this function works the same as the last:</p>
<blockquote>
<p class="nn">cat3a = tempCategory3(45);</p>
<p>cat3b = tempCategory3(15, TRUE);</p>
<p>cat3c = tempCategory3(15, FALSE);</p>
<p>cat3d = tempCategory3(tempValue=35, isFahr=FALSE);</p>
<p>cat3e = tempCategory3(tempValue=45, isFahr=FALSE);</p>
</blockquote>
<p></p>
<p>Since we used the same values and units as last time, the results are the same:</p>
<blockquote>
<p class="nn" title="Environment">cat3a:&nbsp;&nbsp; "moderate"</p>
<p>cat3b: &nbsp; "freezing"</p>
<p>cat3c: &nbsp; "moderate"</p>
<p>cat3d: &nbsp; "hot"</p>
<p>cat3e:&nbsp;&nbsp; NULL</p>
</blockquote>
<h3>Advantages/disadvantages of using Boolean</h3>
<p>The <em><strong>advantages </strong></em>to using Boolean arguments over string arguments:</p>
<ul>
<li>The script runs faster.&nbsp; The difference is tiny but tiny differences could become noticeable if you are executing the function 100,000 times.</li>
<li>The script is less prone to user error.&nbsp; A Boolean has two possible values for the caller: <strong>TRUE </strong>and <strong>FALSE</strong>.&nbsp; Whereas strings can be misinterpreted -- someone might type in "Fahr" instead of "F", or just misspell Fahrenheit and the function will not be able to handle it.</li>
</ul>
<p></p>
<p>The <em><strong>disadvantage </strong></em>to Boolean arguments is that string values are more robust and can handle more complex situations.&nbsp; For instance, you might want to extend the function to include Kelvin temperatures.&nbsp; You cannot handle 3 units (F, K, and C) with one Boolean variable, but you can handle as many units as you want with one string variable -- you just need to extend the <em><strong>if-else-if </strong></em>structure that coverts the value:</p>
<blockquote>
<p>tempCategory4 = function(tempValue, unit="F")</p>
<p>{</p>
<p>&nbsp; <em>if(unit == "C")</em></p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; <em>tempValue = (9/5)*tempValue + 32;</em></p>
<p>&nbsp; }</p>
<p>&nbsp; <em class="hl">else if(unit == "K")</em></p>
<p>&nbsp; {</p>
<p><em class="hl">&nbsp; &nbsp; tempValue = tempValue - 273; &nbsp; &nbsp; &nbsp;# convert K to C<br>&nbsp; &nbsp; tempValue = (9/5)*tempValue + 32; # convert C to F</em></p>
<p>&nbsp; }</p>
<p></p>
<p>&nbsp; if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("freezing");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("cold");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("moderate");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("warm");</p>
<p>&nbsp; }</p>
<p>&nbsp; else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; return("hot");</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<p></p>
<p class="note">Note: I broke the conversion from Kelvin to Fahrenheit into 2 steps: Kelvin to Celsius and Celsius to Fahrenheit.&nbsp; This could have been done in one step.</p>
<h3>Using tempCategory4()</h3>
<p>Testing out the Kelvin is less intuitive as 300K is about room temperature:</p>
<blockquote>
<p class="nn">cat4a = tempCategory4(305, "K");&nbsp;&nbsp; # ~89F</p>
<p>cat4b = tempCategory4(270, "K");&nbsp;&nbsp; # ~26F &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</p>
<p>cat4c = tempCategory4(285, "K");&nbsp;&nbsp; # ~53F</p>
<p>cat4d = tempCategory4(tempValue=325, unit="K"); # ~125F</p>
</blockquote>
<p></p>
<p>Since we used the same values and units as last time, the results are the same:</p>
<blockquote>
<p class="nn" title="Environment">cat4a:&nbsp;&nbsp; "hot"</p>
<p>cat4b: &nbsp; "cold"</p>
<p>cat4c: &nbsp; "moderate"</p>
<p>cat4d: &nbsp; NULL</p>
</blockquote>
<h2>Using a vector instead of a single value</h2>
<p>Finally, we do not just want to categorize one value at a time, we want to be able to categorize a vector of values.&nbsp;</p>
<p></p>
<p>There are three changes we need to make to the code to handle vectors instead of single values:</p>
<ol>
<li>a <em><strong>for </strong></em>loop to cycle through each value in the vector</li>
<li>index the temperature vector so that we are checking one value at a time</li>
<li>a vector output of categories (i.e, we need a category for each value in the vector)</li>
</ol>
<h3>For loop to cycle through every value</h3>
<p>We need a <em><strong>for </strong></em>loop to cycle through, and categorize, every value in the vector <em><strong>tempVector</strong></em>.&nbsp; The number of cycles we need is the same as the length of <em><strong>tempVector</strong></em>, which is given by <em><strong>length(tempVector)</strong></em>.</p>
<p></p>
<blockquote>
<p>tempCategory5 = function(tempVector, unit="F")</p>
<p>{</p>
<p>&nbsp; # <em class="hl">This part stays the same</em>&nbsp;</p>
<p>&nbsp; if(<em>unit == "C"</em>)&nbsp;</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; tempVector = (9/5)*tempVector + 32;</p>
<p>&nbsp; }</p>
<p>&nbsp; <em>else if(unit == "K")</em></p>
<p>&nbsp; {</p>
<p><em><em>&nbsp; &nbsp; tempValue = tempValue - 273; &nbsp; &nbsp; &nbsp;# convert K to C<br>&nbsp; &nbsp; tempValue = (9/5)*tempValue + 32; # convert C to F</em></em></p>
<p>&nbsp; }</p>
<p></p>
<p>&nbsp; # go through each value in tempVector</p>
<p><em class="hl">&nbsp; for(i in 1:length(tempVector))</em></p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; # the i will index tempVector each time through the loop</p>
<p>&nbsp;&nbsp;&nbsp; # i will go from 1 to the length of the vector</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<h3>Index the temperature values</h3>
<p>Inside the <em><strong>for </strong></em>loop, we need to index the vector, <em><strong>tempVector</strong></em> so that we are only checking one value at a time.&nbsp; <em><strong>i</strong></em> is the value that index <em><strong>tempVector </strong></em>and<em><strong> i</strong></em> changes each time the for loop cycles (<em><strong>i</strong></em> goes from 1 to the length of the vector)</p>
<p></p>
<blockquote>
<p>tempCategory5 = function(tempVector, unit="F")</p>
<p>{</p>
<p>&nbsp; # This part stays the same</p>
<p>&nbsp; if(<em>unit == "C"</em>)&nbsp;</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; tempVector = (9/5)*tempVector + 32;</p>
<p>&nbsp; }</p>
<p>&nbsp; <em>else if(unit == "K")</em></p>
<p>&nbsp; {</p>
<p><em><em>&nbsp; &nbsp; tempValue = tempValue - 273; &nbsp; &nbsp; &nbsp;# convert K to C<br>&nbsp; &nbsp; tempValue = (9/5)*tempValue + 32; # convert C to F</em></em></p>
<p>&nbsp; }</p>
<p></p>
<p>&nbsp; # go through each value in tempVector</p>
<p><em>&nbsp; for(i in 1:length(tempVector))</em></p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; if(tempVector<em class="hl">[i]</em> &gt;= 1 &amp; tempVector<em class="hl">[i]</em> &lt;= 20)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p></p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector<em class="hl">[i]</em> &gt;= 21 &amp; tempVector<em class="hl">[i]</em> &lt;= 40)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p></p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector<em class="hl">[i]</em> &gt;= 41 &amp; tempVector<em class="hl">[i]</em> &lt;= 60)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector<em class="hl">[i]</em> &gt;= 61 &amp; tempVector<em class="hl">[i]</em> &lt;= 80)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p></p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector<em class="hl">[i]</em> &gt;= 81 &amp; tempVector<em class="hl">[i]</em> &lt;= 100)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p></p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; }</p>
<p>}</p>
</blockquote>
<h3>Return a vector output</h3>
<p>We are no longer returning a single categorical value, we are returning a vector of categorical values.&nbsp; The return vector is the same size at the temperature vector.</p>
<p></p>
<p>There are 3 steps here:</p>
<p>1) Create a return vector before the <em><strong>for </strong></em>loop (this is a state variable that updates each time through the <em><strong>for </strong></em>loop)</p>
<p>2) Append categorical values to the return vector inside the <em><strong>for </strong></em>loop</p>
<p>3) Return the vector to the caller after the <em><strong>for </strong></em>loop (after the vector has been fully populated with values)</p>
<p></p>
<blockquote>
<p id="tempCat5">tempCategory5 = function(tempVector, unit="F")</p>
<p>{</p>
<p>&nbsp; # This part stays the same</p>
<p>&nbsp; if(<em>unit == "C"</em>)&nbsp;</p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; tempVector = (9/5)*tempVector + 32;</p>
<p>&nbsp; }</p>
<p>&nbsp; <em>else if(unit == "K")</em></p>
<p>&nbsp; {</p>
<p><em>&nbsp; &nbsp; tempValue = tempValue - 273; &nbsp; &nbsp; &nbsp;# convert K to C<br>&nbsp; &nbsp; tempValue = (9/5)*tempValue + 32; # convert C to F</em></p>
<p>&nbsp; }</p>
<p></p>
<p>&nbsp; <em class="hl"># step 1</em>: create a return vector</p>
<p>&nbsp; <em class="hl">retVector = c();</em>&nbsp;&nbsp; # c() means this is a vector</p>
<p></p>
<p>&nbsp; # go through each value in tempVector</p>
<p><em>&nbsp; for(i in 1:length(tempVector))</em></p>
<p>&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp; if(tempVector[i] &gt;= 1 &amp; tempVector[i] &lt;= 20)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <em class="hl"># step 2</em>: populate the return value inside the for loop</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <em class="hl">retVector[i] = "freezing";&nbsp;</em></p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector[i] &gt;= 21 &amp; tempVector[i] &lt;= 40)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; retVector[i] = "cold";&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector[i] &gt;= 41 &amp; tempVector[i] &lt;= 60)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; retVector[i] = "moderate";&nbsp;&nbsp;</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector[i] &gt;= 61 &amp; tempVector[i] &lt;= 80)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; retVector[i] = "warm";&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; else if(tempVector[i] &gt;= 81 &amp; tempVector[i] &lt;= 100)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; retVector[i] = "hot";&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; }</p>
<p>&nbsp; <em class="hl"># step 3</em>: return the populated vector to the caller:</p>
<p>&nbsp; <em class="hl">return(retVector);</em></p>
<p>}</p>
</blockquote>
<h3>Using tempCategory5()</h3>
<p>Let's first test to make sure the function still works with one value:</p>
<blockquote>
<p class="nn">cat5a = tempCategory(45);</p>
<p>cat5b = tempCategory(tempVector=85);</p>
<p>cat5c = tempCategory(tempVector=17);</p>
<p>cat5d = tempCategory(-2);&nbsp;</p>
</blockquote>
<p></p>
<blockquote>
<p class="nn" title="Environment">cat5a:&nbsp;&nbsp; "moderate"</p>
<p>cat5b: &nbsp; "hot"</p>
<p>cat5c: &nbsp; "freezing"</p>
<p>cat5d: &nbsp; NULL</p>
</blockquote>
<p></p>
<p>And next test <em><strong>tempCategory5()</strong></em> with vectors that we create using<em><strong> c()</strong></em> and <em><strong>seq()</strong></em>:</p>
<blockquote>
<p class="nn">cat5e = tempCategory5(c(10,30,50,70,90));</p>
<p>cat5f = tempCategory5(seq(from=5, to=90, by=20));</p>
<p>cat5g = tempCategory5(tempVector=c(30,25,20,15,10), unit="C");</p>
<p>cat5h = tempCategory5(tempVector=seq(from=25, to=-5, by=-5), unit="C");</p>
</blockquote>
<p></p>
<blockquote>
<p title="Environment" class="nn">cat5e: chr [1:5] "freezing" "cold" ...</p>
<p>cat5f: chr [1:5] "freezing" "cold" ...</p>
<p>cat5g: chr [1:5] "hot" "warm" "warm" ...</p>
<p>cat5h: chr [1:7] "warm" "warm" "moderate" ...</p>
</blockquote>
<p></p>
<p>And, lastly, test <em><strong>tempCategory5()</strong></em> with vectors from a data frame.&nbsp; For this we will use the Lansing weather data for the year 2016 and use the <em><strong>maxTemp </strong></em>and <em><strong>minTemp </strong></em>columns:</p>
<blockquote>
<p class="nn">weatherData = read.csv(file="data/LansingNOAA2016.csv",&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sep=",",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; header=TRUE,&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; stringsAsFactors = FALSE);&nbsp;</p>
<p class="nn"></p>
<p>cat5i = tempCategory5(weatherData$maxTemp);<br>cat5j = tempCategory5(weatherData$minTemp);</p>
</blockquote>
<h3>Saving vectors to a data frame</h3>
<p>The <em><strong>Environment </strong></em>says that there are <strong>366 </strong>values inside <em><strong>cat5i </strong></em>and <em><strong>cat5j</strong></em>, but it would be easier to see the values in context -- by adding the vectors to the <em><strong>weatherData </strong></em>data frame.</p>
<blockquote>
<p class="nn">&nbsp; weatherData$maxTempCat = cat5i;<br>&nbsp; weatherData$minTempCat = cat5j;</p>
</blockquote>
<p></p>
<p>When you double-click on <em><strong>weatherData </strong></em>in the <em><strong>Environment</strong></em>, you will see the new columns at the end (<em><strong>maxTempCat</strong></em> and <em><strong>minTempCat</strong></em>).&nbsp; The view in<em id="r-newcols" class="ref"> Fig ##</em> is days at the beginning of the year -- so, January and it's cold.</p>
<p></p>
<p><img src="../Images/R-1-13b_AddColumns.png" alt="" data-d2l-editor-default-img-style="true" style="max-width: 100%;" class="fs"></p>
<p class="fig" id="newcols">Adding the temperature vectors to the weatherData data frame</p>
<p></p>
<p class="ref" id="r-factor">Extension: create a factor (categorical) vector</p>
<h2>Application</h2>
<p class=""><em class="hl">If you have any questions regarding this application, feel free to email them to the instructor here. <a href="1-01_Setup_and_RStudio_Projects.html#zip" target="_blank" rel="noopener">Instructions for zipping the Project Folder are here.</a></em></p>
<p></p>
<p>1) Create a script named <em><strong>app1-15.r</strong></em> in your scripts folder.</p>
<p class="note">&nbsp;&nbsp;&nbsp; Note: in this application you will by modifying and creating functions in the <em><strong>temperature.r</strong></em> script -- these functions all need to be tested in the <em><strong>app1-15.r</strong></em> script.</p>
<p></p>
<p>2) In comments at the top of your script, answer the following questions:</p>
<ul>
<li>How do arguments make a function more robust?&nbsp;</li>
<li>Why does this code from <em id="r-functions-args" class="ref">sect ##</em> have a default value for <em><strong>unit </strong></em>but not for <em><strong>tempVector</strong></em>?</li>
<li>Why does the first part of <em id="r-tempCat5" class="ref"><strong>tempCategory5</strong> </em>(where you check for the unit and convert all the values in the vector) not need to be in a <em><strong>for </strong></em>loop?</li>
</ul>
<p></p>
<p>3) Fix the following two issues in <em><strong>tempCategory5()</strong></em>:</p>
<ul>
<li>Give errors for temperatures not covered in the <em><strong>if-else-if </strong></em>structure -- and have a different error for temperature that are too high and temperatures that are too low.</li>
<li>The function works for all integer values from 1-100.&nbsp; Have the function work for all decimal values.&nbsp; Some values that do not currently not work (i.e., returns <strong>NULL</strong>) in <em><strong>tempCategory5()</strong></em> are <strong>20.5</strong>, <strong>40.5</strong>, <strong>60.5</strong>, and <strong>80.5</strong>.</li>
</ul>
<p></p>
<p>Questions 4 and 5 can be done <em class="hl">with or without a for loop</em>.&nbsp; You should first get 3 and 4 to work for a single value and then move to multiple values (i.e., vectors)</p>
<p></p>
<p>4) Create <strong><em class="hl">one function</em></strong> in <em><strong>temperature.r</strong></em> that converts a vector from Celsius to Fahrenheit and Fahrenheit to Celsius.&nbsp;</p>
<ul>
<li>Have the function use a Boolean argument to determine the direction of the conversion</li>
</ul>
<p>&nbsp;</p>
<p>5) Create<em><strong class="hl"> one function</strong></em> that does all of the following temperature conversions (note: Kelvin = Celsius + 273):</p>
<p style="padding-left: 30px;">a) F -&gt; C</p>
<p style="padding-left: 30px;">b) C -&gt; F</p>
<p style="padding-left: 30px;">c) F -&gt; K</p>
<p style="padding-left: 30px;">d) C -&gt; K</p>
<p style="padding-left: 30px;">e) K -&gt; C</p>
<p style="padding-left: 30px;">&nbsp;f) K -&gt; F</p>
<p style="padding-left: 40px;"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; This can be done with 2 arguments:</p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>a temperature vector</li>
<li>a string that gives the conversion type ("FtoC", "CtoK"...)</li>
</ul>
</li>
</ul>
<p style="padding-left: 40px;"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; This method requires an<em><strong> if-else-if </strong></em>structure that looks at the second argument to determine which conversion is needed.</p>
<p style="padding-left: 40px;"></p>
<p><em class="hl">&nbsp;&nbsp;&nbsp;&nbsp; A better way to do it is with 3 arguments</em>:</p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>the temperature vector</li>
<li>the unit to convert from</li>
<li>the unit to convert to</li>
</ul>
</li>
</ul>
<p style="padding-left: 40px;"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; The second method will require multiple conditions in your<em> <strong>if-else-if</strong> </em>structure:</p>
<p style="padding-left: 40px;"><strong>if(convertFrom == "C" &amp; convertTo == "F")</strong></p>
<p></p>
<p>6) Create a function that finds the <em class="hl">difference in temperatures</em> between consecutive days and returns the temperature differences as a vector.</p>
<p style="padding-left: 40px;"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; So if you have four high temperatures: <strong>40, 45, 35, 42</strong>:<em><strong></strong></em></p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>the four calculations would be: <strong>(no calculation), (45-40), (35-45), (42-35)</strong></li>
<li>and the return vector would be:&nbsp; <strong>(NULL, 5, -10, 7)</strong></li>
</ul>
</li>
</ul>
<p style="padding-left: 40px;"><em class="note">Note: The first value of the return vector is always NULL because there is nothing to subtract</em>.</p>
<p style="padding-left: 40px;"></p>
<p class=""><em class="hl">Save you script file as <strong>app1-15.r</strong>&nbsp; in the <strong>scripts</strong> folder of your RStudio Project for the class.</em></p>
<h3>Questions to answer</h3>
<p>Answer the following in comments inside your application script:</p>
<ol>
<li>What was your level of comfort with the lesson/application?</li>
<li>What areas of the lesson/application confused or still confuses you?</li>
<li>What are some things you would like to know more about that is related to, but not covered in, this lesson?</li>
</ol>
<h3>End-of-unit survey</h3>
<p><a href="https://msu.co1.qualtrics.com/jfe/form/SV_b9I3VPJ2We28Qzs?online=true&amp;sync=false&amp;class=rfund" target="_blank" rel="noopener">Please take this short (less than 5 minute) survey regarding this class.</a></p>
<h2 id="factor" class="extension">Extension: Creating a factor (categorical) vector</h2>
<p><em><strong>cat5i </strong></em>is a string vector with only 5 values in it: <strong>hot</strong>, <strong>warm</strong>, <strong>moderate</strong>, <strong>cold</strong>, and <strong>freezing</strong>.</p>
<p></p>
<p>We can convert this vector into a factor, or categorical, vector using as.factor();</p>
<blockquote>
<p>&nbsp; factorVector = as.factor(cat5i);</p>
</blockquote>
<p></p>
<p>In the <em><strong>Environment </strong></em>we see <em><strong>factorVector </strong></em>is:</p>
<blockquote>
<p title="Environment" class="nn">factorVector:&nbsp; Factor w/ 5 levels "cold", "freezing",...: 1 1 1 1 1 1 4 1 4 ...</p>
</blockquote>
<p></p>
<p>The 5 levels are just the five possible values from the original vector <em><strong>cat5i </strong></em>in alphabetical order.&nbsp; You can also get these five levels in the <em><strong>Console</strong></em>:</p>
<blockquote>
<p title="Console" class="nn">&gt; levels(factorVector)<br>[1] "cold" &nbsp; &nbsp; "freezing" "hot" &nbsp; &nbsp; &nbsp;"moderate" "warm" &nbsp;</p>
</blockquote>
<p></p>
<p>The numbers refer to the 5 levels.&nbsp; 1 is "cold", 2 is "freezing"... We can look at the numbers in the <em><strong>Console </strong></em>using <em><strong>as.numeric()</strong></em>:</p>
<blockquote>
<p title="Console" class="nn">&gt; as.numeric(factorVector)<br>&nbsp; [1] 1 1 1 1 1 1 4 1 4 1 2 1 2 1 4 1 1 2 1 1 1 1 1 1 1 4 1 1 1 4 4 4 1 4 1 1 1<br>&nbsp;[38] 4 1 1 1 1 1 2 2 1 1 1 1 4 4 4 1 4 1 1 1 4 4 4 1 1 1 1 1 4 4 5 5 4 4 4 4 4<br>&nbsp;[75] 4 4 4 4 1 4 4 4 4 1 4 4 5 4 4 5 5 4 1 4 1 4 4 1 1 1 4 4 4 4 4 5 5 5 3 5 5<br>[112] 5 4 4 5 5 4 4 4 4 4 4 4 5 4 5 5 5 5 5 4 5 5 5 4 4 5 5 5 5 5 5 5 5 3 3 3 3<br>[149] 3 3 3 3 5 5 3 3 5 5 5 5 5 3 3 3 5 5 3 5 3 3 3 3 3 3 5 3 3 3 3 5 5 3 5 5 5<br>[186] 3 3 3 3 3 5 3 3 3 3 3 5 5 3 3 3 3 3 3 3 3 3 3 3 3 5 5 5 3 3 3 3 3 3 3 3 3<br>[223] 3 3 3 3 3 3 3 3 3 3 3 5 5 5 3 3 3 5 3 3 3 5 5 5 5 5 3 3 3 5 5 5 5 5 3 5 5<br>[260] 5 5 5 3 3 3 3 5 5 5 5 5 5 5 5 5 5 5 5 5 5 3 4 5 5 5 5 4 5 5 5 5 5 5 4 4 4<br>[297] 5 4 4 1 4 4 5 4 4 5 5 4 4 5 5 5 4 4 5 4 4 4 4 4 4 5 5 4 1 1 1 1 4 4 1 4 4<br>[334] 4 4 4 1 1 1 1 4 1 1 1 1 1 1 1 1 2 2 1 1 2 1 1 1 1 1 1 4 1 1 1 1 4</p>
</blockquote>
<p title="Console" class="nn"></p>
<p>We can reorder the levels to go by temperature category instead of alphabetical instead using factor():</p>
<blockquote>
<p>&nbsp; reorderedFactor = factor(factorVector,&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;levels=c("freezing", "cold", "moderate",&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "warm", "hot"));</p>
</blockquote>
<p></p>
<p>And now the output is a bit more intuitive:</p>
<blockquote>
<p title="Console" class="nn">&gt; levels(reorderedFactor)<br>[1] "freezing" "cold" &nbsp; &nbsp; "moderate" "warm" &nbsp; &nbsp; "hot" &nbsp; &nbsp;&nbsp;<br>&gt; as.numeric(reorderedFactor)<br>&nbsp; [1] 2 2 2 2 2 2 3 2 3 2 1 2 1 2 3 2 2 1 2 2 2 2 2 2 2 3 2 2 2 3 3 3 2 3 2 2 2<br>&nbsp;[38] 3 2 2 2 2 2 1 1 2 2 2 2 3 3 3 2 3 2 2 2 3 3 3 2 2 2 2 2 3 3 4 4 3 3 3 3 3<br>&nbsp;[75] 3 3 3 3 2 3 3 3 3 2 3 3 4 3 3 4 4 3 2 3 2 3 3 2 2 2 3 3 3 3 3 4 4 4 5 4 4<br>[112] 4 3 3 4 4 3 3 3 3 3 3 3 4 3 4 4 4 4 4 3 4 4 4 3 3 4 4 4 4 4 4 4 4 5 5 5 5<br>[149] 5 5 5 5 4 4 5 5 4 4 4 4 4 5 5 5 4 4 5 4 5 5 5 5 5 5 4 5 5 5 5 4 4 5 4 4 4<br>[186] 5 5 5 5 5 4 5 5 5 5 5 4 4 5 5 5 5 5 5 5 5 5 5 5 5 4 4 4 5 5 5 5 5 5 5 5 5<br>[223] 5 5 5 5 5 5 5 5 5 5 5 4 4 4 5 5 5 4 5 5 5 4 4 4 4 4 5 5 5 4 4 4 4 4 5 4 4<br>[260] 4 4 4 5 5 5 5 4 4 4 4 4 4 4 4 4 4 4 4 4 4 5 3 4 4 4 4 3 4 4 4 4 4 4 3 3 3<br>[297] 4 3 3 2 3 3 4 3 3 4 4 3 3 4 4 4 3 3 4 3 3 3 3 3 3 4 4 3 2 2 2 2 3 3 2 3 3<br>[334] 3 3 3 2 2 2 2 3 2 2 2 2 2 2 2 2 1 1 2 2 1 2 2 2 2 2 2 3 2 2 2 2 3</p>
</blockquote>
<p></p>
<p>The advantage to using factors is that they are faster.&nbsp; Factors are actually numeric vectors with each possible number asigned a string value.&nbsp; So, there are 366 numeric values and 5 string values in <em><strong>reorderedFactor</strong></em>.&nbsp; Numeric values can be be read in and processed much quicker than string values.&nbsp; Also, there are older statistical and plotting functions that only accept factors as an argument.</p>
<p></p>
<p>The disadvantage is that factors are clumsy to work with.&nbsp; While they are faster than string vectors, modern functions will essentially factorize a string vector in the background -- minimizing the lost processing time.&nbsp; And pretty much all modern statistical and plotting functions will happily take string vectors -- including GGPlot.&nbsp;</p></body></html>