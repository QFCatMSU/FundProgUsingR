<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1-12: Multiple Conditions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0843d4270d9dcfd72ef8c859f40a73b1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="shortcut icon" href="https://qfcatmsu.github.io/assets/quarto/qfc_icon.png">
<script>mod=true; menuCollapse=true;</script>
<script src="https://qfcatmsu.github.io/assets/quarto/qfc_styles.js"></script>
 


<link rel="stylesheet" href="https://qfcatmsu.github.io/assets/quarto/qfc_styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">1-12: Multiple Conditions</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><b>Fundamentals of Programming class</b></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/0-01-IntroductionAndSyllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction and Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-01-RStudioProjectsSetup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-01: RStudio Projects Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-02-Variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-02: Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-03_Mathematical_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-03: Mathematical Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-04_Vectors_And_Data_Frames.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-04: Vectors and Data Frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-05_Functions_Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-05: Functions Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-06_Run_and_Source.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-06: Run and Source</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-07_Outputs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-07: Outputs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-08_Conditional_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-08: Conditional Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-09_If_Else_Statements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-09: If-Else Statements</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-10_For_Loops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-10: For Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-11_For_Loops_and_State_Varibles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-11: For Loops and State Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-12_MultipleConditions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1-12: Multiple Conditions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-13_Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-13: Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-14_Functions2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-14: Functions 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-15_Functions3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-15: Functions 3</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title"><b>Lesson Content</b></h2>
   
  <ul>
  <li><a href="#changes" id="toc-changes" class="nav-link active" data-scroll-target="#changes"><span class="header-section-number">0.1</span> Changes</a></li>
  <li><a href="#purpose" id="toc-purpose" class="nav-link" data-scroll-target="#purpose"><span class="header-section-number">1</span> Purpose</a></li>
  <li><a href="#questions-about-the-material" id="toc-questions-about-the-material" class="nav-link" data-scroll-target="#questions-about-the-material"><span class="header-section-number">2</span> Questions about the material…</a></li>
  <li><a href="#logical-operators-and-or" id="toc-logical-operators-and-or" class="nav-link" data-scroll-target="#logical-operators-and-or"><span class="header-section-number">3</span> Logical Operators: AND (&amp;), OR (|)</a>
  <ul class="collapse">
  <li><a href="#operators-we-have-learned-so-far" id="toc-operators-we-have-learned-so-far" class="nav-link" data-scroll-target="#operators-we-have-learned-so-far"><span class="header-section-number">3.1</span> Operators we have learned so far</a></li>
  </ul></li>
  <li><a href="#combining-conditional-statements-logical-operators" id="toc-combining-conditional-statements-logical-operators" class="nav-link" data-scroll-target="#combining-conditional-statements-logical-operators"><span class="header-section-number">4</span> Combining conditional statements (logical operators)</a>
  <ul class="collapse">
  <li><a href="#using-the-or-operator" id="toc-using-the-or-operator" class="nav-link" data-scroll-target="#using-the-or-operator"><span class="header-section-number">4.1</span> Using the OR operator</a></li>
  <li><a href="#conditions-must-be-explicit" id="toc-conditions-must-be-explicit" class="nav-link" data-scroll-target="#conditions-must-be-explicit"><span class="header-section-number">4.2</span> Conditions must be explicit</a></li>
  <li><a href="#more-than-2-conditions" id="toc-more-than-2-conditions" class="nav-link" data-scroll-target="#more-than-2-conditions"><span class="header-section-number">4.3</span> More than 2 conditions</a></li>
  </ul></li>
  <li><a href="#the-and-operator" id="toc-the-and-operator" class="nav-link" data-scroll-target="#the-and-operator"><span class="header-section-number">5</span> The AND operator</a>
  <ul class="collapse">
  <li><a href="#the-not-equal-operator" id="toc-the-not-equal-operator" class="nav-link" data-scroll-target="#the-not-equal-operator"><span class="header-section-number">5.1</span> The NOT EQUAL operator</a></li>
  <li><a href="#mutually-exclusive-if-statement" id="toc-mutually-exclusive-if-statement" class="nav-link" data-scroll-target="#mutually-exclusive-if-statement"><span class="header-section-number">5.2</span> Mutually exclusive if() statement</a></li>
  </ul></li>
  <li><a href="#finding-ranges-of-numbers" id="toc-finding-ranges-of-numbers" class="nav-link" data-scroll-target="#finding-ranges-of-numbers"><span class="header-section-number">6</span> Finding Ranges of numbers</a>
  <ul class="collapse">
  <li><a href="#values-outside-a-range" id="toc-values-outside-a-range" class="nav-link" data-scroll-target="#values-outside-a-range"><span class="header-section-number">6.1</span> Values outside a range</a></li>
  </ul></li>
  <li><a href="#sec-booleanVec" id="toc-sec-booleanVec" class="nav-link" data-scroll-target="#sec-booleanVec"><span class="header-section-number">7</span> Boolean vectors</a>
  <ul class="collapse">
  <li><a href="#masking-a-dataframe" id="toc-masking-a-dataframe" class="nav-link" data-scroll-target="#masking-a-dataframe"><span class="header-section-number">7.1</span> Masking a dataframe</a></li>
  <li><a href="#masking-rows-and-columns" id="toc-masking-rows-and-columns" class="nav-link" data-scroll-target="#masking-rows-and-columns"><span class="header-section-number">7.2</span> Masking rows and columns</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="header-section-number">8</span> Application</a>
  <ul class="collapse">
  <li><a href="#questions-to-answer" id="toc-questions-to-answer" class="nav-link" data-scroll-target="#questions-to-answer"><span class="header-section-number">8.1</span> Questions to answer</a></li>
  </ul></li>
  <li><a href="#extension-vs-and-vs" id="toc-extension-vs-and-vs" class="nav-link" data-scroll-target="#extension-vs-and-vs"><span class="header-section-number">9</span> Extension: &amp; vs &amp;&amp; and | vs ||</a>
  <ul class="collapse">
  <li><a href="#doubles-are-more-efficient" id="toc-doubles-are-more-efficient" class="nav-link" data-scroll-target="#doubles-are-more-efficient"><span class="header-section-number">9.1</span> doubles are more efficient</a></li>
  <li><a href="#doubles-can-used-to-avoid-errors" id="toc-doubles-can-used-to-avoid-errors" class="nav-link" data-scroll-target="#doubles-can-used-to-avoid-errors"><span class="header-section-number">9.2</span> doubles can used to avoid errors</a></li>
  <li><a href="#singles-and-double-in-other-programming-languages" id="toc-singles-and-double-in-other-programming-languages" class="nav-link" data-scroll-target="#singles-and-double-in-other-programming-languages"><span class="header-section-number">9.3</span> singles and double in other programming languages</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">1-12: Multiple Conditions</h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<section id="changes" class="level3" data-number="0.1">
<h3 data-number="0.1" class="anchored" data-anchor-id="changes"><span class="header-section-number">0.1</span> Changes</h3>
</section>
<section id="purpose" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="purpose"><span class="header-section-number">1</span> Purpose</h2>
<ul>
<li>Check for multiple conditions on variables</li>
</ul>
</section>
<section id="questions-about-the-material" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="questions-about-the-material"><span class="header-section-number">2</span> Questions about the material…</h2>
<p>The files for this lesson:</p>
<ul>
<li><p>Script:&nbsp;<a href="../scripts/1-12_MultipleConditions.R">you can download the script here</a></p></li>
<li><p>Data: <a href="../data/twoWeekWeatherData2.csv">download the data file here</a></p></li>
</ul>
<p>&nbsp;</p>
<p>This lesson data has two new columns in it compared to the previous lesson’s data – so 14 obs. of <strong><em>7</em></strong> variables (instead of 5).&nbsp; The new columns (<strong><em>noonCondMessy</em></strong> and <strong><em>precipBad</em></strong>) are copies of the previous columns with some issues added that are addressed in this lesson.</p>
<div id="fig-newDataframe" class="fs quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-newDataframe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/R-1-12_NewDataframe.png" class="fs img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-newDataframe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The new weatherData data frame with two new columns
</figcaption>
</figure>
</div>
<p>&nbsp;</p>
<p>If you have any questions about the material in this lesson, feel free to email them to the instructor, Charlie Belinsky, at belinsky@msu.edu.</p>
</section>
<section id="logical-operators-and-or" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="logical-operators-and-or"><span class="header-section-number">3</span> Logical Operators: AND (&amp;), OR (|)</h2>
<p>In this lesson we are going to learn how to combine conditional statements in <strong><em>if()</em></strong> statements using two new operators: <strong><em>AND</em></strong>, <strong><em>OR</em></strong>.&nbsp; The symbol for the <strong><em>AND</em></strong> operator is the ampersand ( <strong><em>&amp;</em></strong> ) and the symbol for the <strong><em>OR</em></strong> operator is the vertical pipe ( <strong>|</strong> ).&nbsp; For situations where you are checking one value at a time, the single and double operators have the same functionality.&nbsp; We will cover the other situation later in this lesson.</p>
<p>&nbsp;</p>
<p><a href="#extension-vs-and-vs">Extension: &amp; vs &amp;&amp; and | vs ||</a></p>
<p>&nbsp;</p>
<p>The <strong><em>AND</em></strong> operator combines two conditional statements into one conditional statement with the rule:</p>
<ul>
<li>if <span class="hl">both</span> of the conditional statements are <strong>TRUE</strong> then the whole conditional statement is <strong>TRUE</strong></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition1 <span class="sc">&amp;</span> condition2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Execute the code between these curly brackets</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>   <span class="co">#   if both condition1 and condition2 are TRUE</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <strong>OR</strong> operator combines two conditional statements into one conditional statement with the rule:</p>
<ul>
<li>if <span class="hl">either</span> of the conditional statements are <strong>TRUE</strong> then the whole conditional statement is <strong>TRUE</strong></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition1 <span class="sc">|</span> condition2)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Execute the code between these curly brackets</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>   <span class="co">#   if either condition1 or condition2 is TRUE</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="operators-we-have-learned-so-far" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="operators-we-have-learned-so-far"><span class="header-section-number">3.1</span> Operators we have learned so far</h3>
<div id="tbl-operators" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-operators-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: All of the operators taught in the class so far
</figcaption>
<div aria-describedby="tbl-operators-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Operator Type</th>
<th>Purpose</th>
<th>R Symbols</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Assignment</td>
<td>assign a value to a variable</td>
<td>=, &lt;-, -&gt;</td>
</tr>
<tr class="even">
<td>Mathematical</td>
<td>Perform a mathematical operation on a numeric value</td>
<td>+, -, *, /, ^</td>
</tr>
<tr class="odd">
<td>Subset</td>
<td>Subset a vector</td>
<td>[ ], $</td>
</tr>
<tr class="even">
<td>Conditional</td>
<td>Compare two values</td>
<td>==, !=, &gt;, &lt;, &gt;=, &lt;=</td>
</tr>
<tr class="odd">
<td>Logical</td>
<td>Combine conditions</td>
<td>&amp;, &amp;&amp;, |, ||</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
<section id="combining-conditional-statements-logical-operators" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="combining-conditional-statements-logical-operators"><span class="header-section-number">4</span> Combining conditional statements (logical operators)</h2>
<p>In the last lesson we started by asking two questions about <strong><em>noonCond</em></strong> that both had one condition:&nbsp;</p>
<ol type="1">
<li><p>Is the day sunny?&nbsp;</p></li>
<li><p>Is the day rainy?</p></li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### From last lesson</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>sunnyDays <span class="ot">=</span> <span class="dv">0</span>; <span class="co"># state variable -- will hold the count of sunny days</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>rainyDays <span class="ot">=</span> <span class="dv">0</span>; <span class="co"># state variable -- will hold the count of rainy days</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    sunnyDays <span class="ot">=</span> sunnyDays <span class="sc">+</span><span class="dv">1</span>; <span class="co"># increases sunnyDays by 1</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We use else if here because we know "Sunny" and "Rain" are mutually exclusive</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Rain"</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    rainyDays <span class="ot">=</span> rainyDays <span class="sc">+</span><span class="dv">1</span>; <span class="co"># increases rainyDays by 1</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And the answer was:</p>
<div class="sourceCode" id="cb4" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sunnyDays<span class="sc">:</span>   <span class="dv">6</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>rainyDays<span class="sc">:</span>   <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="using-the-or-operator" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="using-the-or-operator"><span class="header-section-number">4.1</span> Using the OR operator</h3>
<p>We can also combine the two conditional statements and ask: <em>Is the day sunny <strong>OR</strong>&nbsp; rainy?</em></p>
<p>&nbsp;</p>
<p>Just replace <strong><em>OR</em></strong> with the symbol that represents <strong><em>OR</em></strong>, which is |:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span> <span class="sc">|</span> noonCond[i] <span class="sc">==</span> <span class="st">"Rain"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Put this in the script and it will count days both sunny and rainy days:</p>
<div id="fig-or-twoCondition" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-or-twoCondition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-or-twoCondition"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-or-twoCondition-1"><a href="#fig-or-twoCondition-1" aria-hidden="true" tabindex="-1"></a>sunnyOrRainyDays <span class="ot">=</span> <span class="dv">0</span></span>
<span id="fig-or-twoCondition-2"><a href="#fig-or-twoCondition-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-or-twoCondition-3"><a href="#fig-or-twoCondition-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-or-twoCondition-4"><a href="#fig-or-twoCondition-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span> <span class="sc">|</span> noonCond[i] <span class="sc">==</span> <span class="st">"Rainy"</span>)</span>
<span id="fig-or-twoCondition-5"><a href="#fig-or-twoCondition-5" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-or-twoCondition-6"><a href="#fig-or-twoCondition-6" aria-hidden="true" tabindex="-1"></a>    sunnyOrRainyDays <span class="ot">=</span> sunnyOrRainyDays <span class="sc">+</span><span class="dv">1</span>;</span>
<span id="fig-or-twoCondition-7"><a href="#fig-or-twoCondition-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-or-twoCondition-8"><a href="#fig-or-twoCondition-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-or-twoCondition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Using logical operator | to test two conditions
</figcaption>
</figure>
</div>
<p><strong><em>sunnyOrRainyDays</em></strong> is the addition of sunny (6) and rainy (3) days</p>
<div class="sourceCode" id="cb6" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sunnyOrRainyDays<span class="sc">:</span>   <span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="conditions-must-be-explicit" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="conditions-must-be-explicit"><span class="header-section-number">4.2</span> Conditions must be explicit</h3>
<p>In programming we need to be explicit when using multiple conditional statement:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span> <span class="sc">|</span> noonCond[i] <span class="sc">==</span> <span class="st">"Rainy"</span>)  <span class="co"># this is correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In English, it makes sense to ask: Is the day sunny or rainy?</p>
<p>&nbsp;</p>
<p>And, naively, the code for this sentence would look like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span> <span class="sc">|</span> <span class="st">"Rain"</span>)  <span class="co"># this in incorrect</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you do this, you will get the error:</p>
<p><span class="hl">Error in noonCond[i] == “Sunny” | “Rain” : invalid ‘y’ type in ‘x | y’</span></p>
<p>where <strong><em>x</em></strong> represent <code>noonCond[i] == "Sunny"</code> and <strong><em>y</em></strong> represents <code>"Rain"</code></p>
<p>&nbsp;</p>
<p>The error is telling you that “Rain” (the invalid ‘y’) is not a conditional statement.&nbsp; Both conditions (‘x | y’) must be <span class="hl">explicitly</span> written out (i.e., both must have a conditional operator with a value on both sides).</p>
</section>
<section id="more-than-2-conditions" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="more-than-2-conditions"><span class="header-section-number">4.3</span> More than 2 conditions</h3>
<p>You can also use the <strong><em>OR</em></strong> operator to string together multiple conditional statements.</p>
<p>&nbsp;</p>
<p>We will use the new column in our data, called <strong><em>noonCondMessy</em></strong> in which the weather conditions are not consistently spelled – as often happens when people are manually inputting data:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>noonCondMess <span class="ot">=</span> weatherData<span class="sc">$</span>noonCondMessy;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Looking at the value in <strong><em>noonCondMess</em></strong> show that there are multiple versions of “sunny”:</p>
<div class="sourceCode" id="cb10" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> noonCondMess</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"clouds"</span> <span class="st">"Cloudy"</span> <span class="st">"sun"</span> <span class="st">"rainy"</span> <span class="st">" fog"</span> <span class="st">"Sunny"</span> <span class="st">"sunny"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">8</span>] <span class="st">"cloudy"</span> <span class="st">"Rain"</span> <span class="st">"RAIN"</span> <span class="st">"Snow"</span> <span class="st">"SUNNY"</span> <span class="st">"Sun"</span> <span class="st">"sun"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We will use multiple <strong><em>OR</em></strong> operators to check for four different versions of “sunny”:</p>
<div id="fig-or-mult-spellings" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-or-mult-spellings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-or-mult-spellings"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-or-mult-spellings-1"><a href="#fig-or-mult-spellings-1" aria-hidden="true" tabindex="-1"></a>sunnyDaysMess <span class="ot">=</span> <span class="dv">0</span>; <span class="co"># state variable -- will hold the count of sunny days</span></span>
<span id="fig-or-mult-spellings-2"><a href="#fig-or-mult-spellings-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="fig-or-mult-spellings-3"><a href="#fig-or-mult-spellings-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-or-mult-spellings-4"><a href="#fig-or-mult-spellings-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-or-mult-spellings-5"><a href="#fig-or-mult-spellings-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># check for different spellings</span></span>
<span id="fig-or-mult-spellings-6"><a href="#fig-or-mult-spellings-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCondMess[i] <span class="sc">==</span> <span class="st">"Sunny"</span> <span class="sc">|</span> noonCondMess[i] <span class="sc">==</span> <span class="st">"sunny"</span> <span class="sc">|</span></span>
<span id="fig-or-mult-spellings-7"><a href="#fig-or-mult-spellings-7" aria-hidden="true" tabindex="-1"></a>     noonCondMess[i] <span class="sc">==</span> <span class="st">"sun"</span> <span class="sc">|</span> noonCondMess[i] <span class="sc">==</span> <span class="st">"SUN"</span>)</span>
<span id="fig-or-mult-spellings-8"><a href="#fig-or-mult-spellings-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-or-mult-spellings-9"><a href="#fig-or-mult-spellings-9" aria-hidden="true" tabindex="-1"></a>    sunnyDaysMess <span class="ot">=</span> sunnyDaysMess <span class="sc">+</span><span class="dv">1</span>;</span>
<span id="fig-or-mult-spellings-10"><a href="#fig-or-mult-spellings-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-or-mult-spellings-11"><a href="#fig-or-mult-spellings-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-or-mult-spellings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Using OR operator to check for multiple spellings
</figcaption>
</figure>
</div>
<p>And, once again we get six:</p>
<div class="sourceCode" id="cb11" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sunnyDays1<span class="sc">:</span>  <span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="note">Note: This is a brute force method for finding multiple spellings.</span> There are more robust way to check for different spelling using substrings and pattern recognition (i.e., <strong><em>substr()</em></strong> and <strong><em>grep()</em></strong>), topics we will touch on later in this class.</p>
</section>
</section>
<section id="the-and-operator" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="the-and-operator"><span class="header-section-number">5</span> The AND operator</h2>
<p>The <strong><em>OR</em></strong> operator says: if one condition is <strong>TRUE</strong> then the whole condition is <strong>TRUE</strong></p>
<p>The <strong><em>AND</em></strong> operator says that ALL conditions need to be <strong>TRUE</strong> for the whole condition to be <strong>TRUE</strong>.</p>
<p>&nbsp;</p>
<p>The <strong><em>AND</em></strong> operator can be used to check conditions in two different weather columns.</p>
<p>&nbsp;</p>
<p>For example, you might want to know which days were warmer than 60 <strong><em>AND</em></strong> Sunny.</p>
<div id="fig-and-op-two-columns" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-and-op-two-columns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-and-op-two-columns"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-and-op-two-columns-1"><a href="#fig-and-op-two-columns-1" aria-hidden="true" tabindex="-1"></a>goOutDay <span class="ot">=</span> <span class="dv">0</span>;</span>
<span id="fig-and-op-two-columns-2"><a href="#fig-and-op-two-columns-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="fig-and-op-two-columns-3"><a href="#fig-and-op-two-columns-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-and-op-two-columns-4"><a href="#fig-and-op-two-columns-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-and-op-two-columns-5"><a href="#fig-and-op-two-columns-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(highTemps[i] <span class="sc">&gt;</span> <span class="dv">60</span> <span class="sc">&amp;</span> noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>) </span>
<span id="fig-and-op-two-columns-6"><a href="#fig-and-op-two-columns-6" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-and-op-two-columns-7"><a href="#fig-and-op-two-columns-7" aria-hidden="true" tabindex="-1"></a>    goOutDay <span class="ot">=</span> goOutDay <span class="sc">+</span><span class="dv">1</span>;</span>
<span id="fig-and-op-two-columns-8"><a href="#fig-and-op-two-columns-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-and-op-two-columns-9"><a href="#fig-and-op-two-columns-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-and-op-two-columns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Using AND operator to check conditions in two different columns
</figcaption>
</figure>
</div>
<p>There were 2 days that were both over 60 and sunny:</p>
<div class="sourceCode" id="cb12" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>goOutDays<span class="sc">:</span>   <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="note">Note: day 7 is 60 degrees and sunny but not counted here because the condition ( <strong>&gt;</strong> ) is <strong><em>greater than</em></strong> (but not equal to) 60</span></p>
<section id="the-not-equal-operator" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="the-not-equal-operator"><span class="header-section-number">5.1</span> The NOT EQUAL operator</h3>
<p>We can reverse the conditions and check for non-sunny days that were colder than (or equal to) 50.</p>
<p>&nbsp;</p>
<p>In other words we want <strong><em>highTemps</em></strong> <span class="hl">&lt;=</span> 50 <span class="hl">AND</span> <strong><em>noonCond</em></strong> <span class="hl">!=</span> “Sunny”:</p>
<div id="fig-reverse-cond-statement" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-reverse-cond-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-reverse-cond-statement"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-reverse-cond-statement-1"><a href="#fig-reverse-cond-statement-1" aria-hidden="true" tabindex="-1"></a>stayInDay <span class="ot">=</span> <span class="dv">0</span>;</span>
<span id="fig-reverse-cond-statement-2"><a href="#fig-reverse-cond-statement-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="fig-reverse-cond-statement-3"><a href="#fig-reverse-cond-statement-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-reverse-cond-statement-4"><a href="#fig-reverse-cond-statement-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-reverse-cond-statement-5"><a href="#fig-reverse-cond-statement-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(highTemps[i] <span class="sc">&lt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> noonCond[i] <span class="sc">!=</span> <span class="st">"Sunny"</span>) </span>
<span id="fig-reverse-cond-statement-6"><a href="#fig-reverse-cond-statement-6" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-reverse-cond-statement-7"><a href="#fig-reverse-cond-statement-7" aria-hidden="true" tabindex="-1"></a>    stayInDay <span class="ot">=</span> stayInDay <span class="sc">+</span><span class="dv">1</span>;</span>
<span id="fig-reverse-cond-statement-8"><a href="#fig-reverse-cond-statement-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-reverse-cond-statement-9"><a href="#fig-reverse-cond-statement-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-reverse-cond-statement-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Reversing the conditional statements from the last loop
</figcaption>
</figure>
</div>
<p>There were 5 days that were below (or equal to) 50 and not sunny:</p>
<div class="sourceCode" id="cb13" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>stayInDays<span class="sc">:</span>    <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="mutually-exclusive-if-statement" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="mutually-exclusive-if-statement"><span class="header-section-number">5.2</span> Mutually exclusive if() statement</h3>
<p>Since the two <strong><em>if()</em></strong> statements above (<a href="#fig-and-op-two-columns" class="quarto-xref">Figure&nbsp;4</a> and <a href="#fig-reverse-cond-statement" class="quarto-xref">Figure&nbsp;5</a>) have mutually exclusive conditions (i.e., there are no situations where both can be <strong>TRUE</strong>), we can (and should) combine them into one <strong><em>if-else-if</em></strong> statement.&nbsp; The following code is functionally the same but more efficient (i.e., faster):</p>
<div id="fig-mutually-exclusive-mult-cond" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mutually-exclusive-mult-cond-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-mutually-exclusive-mult-cond"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-mutually-exclusive-mult-cond-1"><a href="#fig-mutually-exclusive-mult-cond-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-mutually-exclusive-mult-cond-2"><a href="#fig-mutually-exclusive-mult-cond-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-mutually-exclusive-mult-cond-3"><a href="#fig-mutually-exclusive-mult-cond-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(highTemps[i] <span class="sc">&gt;</span> <span class="dv">60</span> <span class="sc">&amp;</span> noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>)</span>
<span id="fig-mutually-exclusive-mult-cond-4"><a href="#fig-mutually-exclusive-mult-cond-4" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-mutually-exclusive-mult-cond-5"><a href="#fig-mutually-exclusive-mult-cond-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day"</span>, i, <span class="st">" good day to go out</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-mutually-exclusive-mult-cond-6"><a href="#fig-mutually-exclusive-mult-cond-6" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(highTemps[i] <span class="sc">&lt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> noonCond[i] <span class="sc">==</span> <span class="st">"Rain"</span>)</span>
<span id="fig-mutually-exclusive-mult-cond-7"><a href="#fig-mutually-exclusive-mult-cond-7" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-mutually-exclusive-mult-cond-8"><a href="#fig-mutually-exclusive-mult-cond-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day"</span>, i, <span class="st">" good day to stay in</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-mutually-exclusive-mult-cond-9"><a href="#fig-mutually-exclusive-mult-cond-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-mutually-exclusive-mult-cond-10"><a href="#fig-mutually-exclusive-mult-cond-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mutually-exclusive-mult-cond-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Checking mutually exclusive multiple conditions with an if-else-if structure
</figcaption>
</figure>
</div>
<p>The 2 days that are good to go out and 5 that are not:</p>
<div class="sourceCode" id="cb14" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>day <span class="dv">2</span> good day to stay <span class="cf">in</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>day <span class="dv">4</span> good day to stay <span class="cf">in</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>day <span class="dv">5</span> good day to stay <span class="cf">in</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>day <span class="dv">10</span> good day to stay <span class="cf">in</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>day <span class="dv">11</span> good day to stay <span class="cf">in</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>day <span class="dv">13</span> good day to go out</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>day <span class="dv">14</span> good day to go out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="finding-ranges-of-numbers" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="finding-ranges-of-numbers"><span class="header-section-number">6</span> Finding Ranges of numbers</h2>
<p>So far when we has used conditional operators on numbers that are bounded on one side but go off to infinity of the other.</p>
<ul>
<li><p><strong><em>highTemp &gt; 60</em></strong> means anything from 60 <span class="hl">up to positive infinity</span></p></li>
<li><p><strong><em>highTemp &lt; 50</em></strong> means anything from 50 <span class="hl">down to negative infinity</span></p></li>
</ul>
<p>&nbsp;</p>
<p>But, we often want to limit the range we are checking to something less than infinity!</p>
<p>&nbsp;</p>
<p>For instance we might want all values between 50 and 60 (in this case, we will include 50 but not 60).</p>
<p>&nbsp;</p>
<p>In other words, we want:</p>
<ul>
<li><p>values <strong><em>greater than or equal to</em></strong> 50 (<strong><em>highTemps</em></strong> &gt;= 50)</p></li>
<li><p><strong><em>AND</em></strong> values <strong><em>less than</em></strong> 60 (<strong><em>highTemps</em></strong> &lt; 60)</p></li>
</ul>
<p>&nbsp;</p>
<p>In order for the value to be between 50 and 60 <span class="hl">both of the above conditional statements must be <strong>TRUE</strong></span>, so we use <strong><em>AND</em></strong> to combine the conditional statements:</p>
<div id="fig-and-limit-range" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-and-limit-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-and-limit-range"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-and-limit-range-1"><a href="#fig-and-limit-range-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-and-limit-range-2"><a href="#fig-and-limit-range-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-and-limit-range-3"><a href="#fig-and-limit-range-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the number is both greater than (or equal to) 50 and less than 60</span></span>
<span id="fig-and-limit-range-4"><a href="#fig-and-limit-range-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(highTemps[i] <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> highTemps[i] <span class="sc">&lt;</span> <span class="dv">60</span>)</span>
<span id="fig-and-limit-range-5"><a href="#fig-and-limit-range-5" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-and-limit-range-6"><a href="#fig-and-limit-range-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"It was "</span>, highTemps[i], <span class="st">"degrees on day "</span>, i, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-and-limit-range-7"><a href="#fig-and-limit-range-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-and-limit-range-8"><a href="#fig-and-limit-range-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-and-limit-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Using AND operator to limit the range to values between two numbers
</figcaption>
</figure>
</div>
<p>The 7 days between 50 and 60 (includes 50 but not 60):</p>
<div class="sourceCode" id="cb15" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">57</span> degrees on day <span class="dv">1</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">50</span> degrees on day <span class="dv">2</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">54</span> degrees on day <span class="dv">3</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">58</span> degrees on day <span class="dv">6</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">53</span> degrees on day <span class="dv">8</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">55</span> degrees on day <span class="dv">9</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>It was <span class="dv">54</span> degrees on day <span class="dv">12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="values-outside-a-range" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="values-outside-a-range"><span class="header-section-number">6.1</span> Values outside a range</h3>
<p>Sometimes we want to check for values outside an expected range – often to check for errors.&nbsp; For instance, <strong><em>precipBad</em></strong> has some values that seem to be in error:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> precipBad</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.010</span> <span class="fl">0.005</span> <span class="fl">0.040</span> <span class="fl">1.110</span> <span class="fl">0.120</span> <span class="fl">0.000</span> «<span class="sc">-</span><span class="fl">0.005</span>» «<span class="fl">49.000</span>» <span class="fl">0.450</span> <span class="fl">0.300</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="fl">1.130</span> <span class="fl">0.004</span> <span class="fl">0.000</span> <span class="fl">0.000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Since rain is in inches, we are going to assume that any negative value (less than 0) or value above 10 is in error.</p>
<p>&nbsp;</p>
<p>In this case we are looking for&nbsp; <strong><em>precipBad</em></strong> values that are less than 0 <strong><em>OR</em></strong> greater than 10:</p>
<div id="fig-values-beyond-range" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-values-beyond-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-values-beyond-range"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-values-beyond-range-1"><a href="#fig-values-beyond-range-1" aria-hidden="true" tabindex="-1"></a>precipBad <span class="ot">=</span> weatherData<span class="sc">$</span>precipBad;</span>
<span id="fig-values-beyond-range-2"><a href="#fig-values-beyond-range-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-values-beyond-range-3"><a href="#fig-values-beyond-range-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-values-beyond-range-4"><a href="#fig-values-beyond-range-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># precipBad values less than 0 or greater than 10</span></span>
<span id="fig-values-beyond-range-5"><a href="#fig-values-beyond-range-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(precipBad[i] <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">|</span> precipBad[i] <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="fig-values-beyond-range-6"><a href="#fig-values-beyond-range-6" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-values-beyond-range-7"><a href="#fig-values-beyond-range-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"Day"</span>, i, <span class="st">"has a value of"</span> , precipBad[i], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-values-beyond-range-8"><a href="#fig-values-beyond-range-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-values-beyond-range-9"><a href="#fig-values-beyond-range-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-values-beyond-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Checking for values beyond the expected range
</figcaption>
</figure>
</div>
<p>And we see the two days in <strong><em>precipBad</em></strong> that are in error:</p>
<div class="sourceCode" id="cb17" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Day <span class="dv">7</span> has a value of <span class="sc">-</span><span class="fl">0.005</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>Day <span class="dv">8</span> has a value of <span class="dv">49</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="sec-booleanVec" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="sec-booleanVec"><span class="header-section-number">7</span> Boolean vectors</h2>
<p>Up until this point. we have been using conditional operators to check values individually.&nbsp; We can also use conditional operators to check every value in a vector at once and create a TRUE/FALSE (Boolean) vector from the result.</p>
<p>&nbsp;</p>
<p>For instance, we only might care about sunny days:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sunnyDayBool <span class="ot">=</span> (noonCondition <span class="sc">==</span> <span class="st">"Sunny"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, whether the day was both sunny and warm:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>niceDayBool <span class="ot">=</span> (highTemps <span class="sc">&gt;</span> <span class="dv">60</span> <span class="sc">&amp;</span> noonCondition <span class="sc">==</span> <span class="st">"Sunny"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, whether the was rain or snow:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>precipBool <span class="ot">=</span> (precipitation <span class="sc">==</span> <span class="st">"Rain"</span> <span class="sc">|</span> precipitation <span class="sc">==</span> <span class="st">"Snow"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result for all three of these commands is a 14-value <strong><em>Boolean</em></strong> (also called <strong><em>logical</em></strong>) vector:</p>
<div class="sourceCode" id="cb21" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>sunnyDayBool  logi [<span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span> FALSE...</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>niceDayBool   logi [<span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> FALSE...</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>precipBool    logi [<span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> TRUE...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can look at <strong><em>sunnyDayBool</em></strong> and see that the index of <strong>the</strong> <strong>TRUE</strong> values match the index of “Sunny” days in <strong><em>noonCond</em></strong> (values 3, 6, 7, 12, 13, and 14):</p>
<div class="sourceCode" id="cb22" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sunnyDayBool</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">12</span>] <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> noonCond</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">"Cloudy"</span> <span class="st">"Cloudy"</span> <span class="st">"Sunny"</span>  <span class="st">"Rain"</span>   <span class="st">"Fog"</span>    <span class="st">"Sunny"</span>  <span class="st">"Sunny"</span>  <span class="st">"Cloudy"</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">"Rain"</span>   <span class="st">"Rain"</span>   <span class="st">"Snow"</span>  <span class="st">"Sunny"</span>  <span class="st">"Sunny"</span>  <span class="st">"Sunny"</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, that only the last two days were both Sunny and over 60 degrees:</p>
<div class="sourceCode" id="cb23" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> niceDayBool</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">12</span>] <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, that 4 of the 14 days had some precipitation (rain or snow):</p>
<div class="sourceCode" id="cb24" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> precipBool</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">12</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="masking-a-dataframe" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="masking-a-dataframe"><span class="header-section-number">7.1</span> Masking a dataframe</h3>
<p>A common use for a Boolean vector is to reduce (or mask) a dataframe to rows that meet a condition. We can create a dataframe that contains only the rows with sunny days using the Boolean vector <strong><em>sunnyDayBool</em></strong>.</p>
<div id="fig-maskdf" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-maskdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-maskdf"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-maskdf-1"><a href="#fig-maskdf-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Using a Boolean vector to "mask" a dataframe </span></span>
<span id="fig-maskdf-2"><a href="#fig-maskdf-2" aria-hidden="true" tabindex="-1"></a>sunnyDayWD <span class="ot">=</span> weatherData[sunnyDayBool,];</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-maskdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Masking a dataframe using [X,Y] subset notation
</figcaption>
</figure>
</div>
<p>In <a href="#fig-maskdf" class="quarto-xref">Figure&nbsp;9</a>, we use [X,Y] notation to subset the dataframe with:</p>
<ul>
<li><p><strong><em>sunnyDayBool</em></strong> subsets <strong><em>X</em></strong> (the rows) – so only rows where sunnyDayBool is TRUE will be in the subsetted dataframe</p></li>
<li><p>nothing subsets <strong><em>Y</em></strong> (the columns) – so all columns will be in the subsetted dataframe</p></li>
</ul>
<p>&nbsp;</p>
<p>The subsetted dataframe, <strong><em>sunnyDayWD</em></strong> has 6 rows, representing the 6 of the 14 rows (rows 3, 6, 7, 12, 13, and 14) from the original dataframe where <strong><em>noonCondition</em></strong> was <strong>Sunny</strong>:</p>
<div class="sourceCode" id="cb25" data-tag="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sunnyDayWD</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    date highTemp lowTemp precipitation «noonCondition» noonCondMessy precipBad</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  Mar29       <span class="dv">54</span>      <span class="dv">46</span>         <span class="fl">0.040</span>         Sunny           sun     <span class="fl">0.040</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>   Apr1       <span class="dv">58</span>      <span class="dv">45</span>         <span class="fl">0.000</span>         Sunny         Sunny     <span class="fl">0.000</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   Apr2       <span class="dv">60</span>      <span class="dv">32</span>         <span class="fl">0.005</span>         Sunny         sunny    <span class="sc">-</span><span class="fl">0.005</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>  Apr7       <span class="dv">54</span>      <span class="dv">43</span>         <span class="fl">0.004</span>         Sunny         SUNNY     <span class="fl">0.004</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>  Apr8       <span class="dv">61</span>      <span class="dv">45</span>         <span class="fl">0.000</span>         Sunny           Sun     <span class="fl">0.000</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>  Apr9       <span class="dv">75</span>      <span class="dv">63</span>         <span class="fl">0.000</span>         Sunny           sun     <span class="fl">0.000</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="masking-rows-and-columns" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="masking-rows-and-columns"><span class="header-section-number">7.2</span> Masking rows and columns</h3>
<p>We can use the [X,Y] notation to subset columns. The following code will also remove the precipitation column, which is column 4.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Masking rows and columns</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>sunnyDayWD2 <span class="ot">=</span> weatherData[sunnyDayBool, <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>)];  <span class="co"># remove precipitation column (4)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And in the <strong><em>Console</em></strong>, we see the same data with the <strong><em>precipitation</em></strong> column removed:</p>
<div class="sourceCode" id="cb27" data-tag="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sunnyDayWD2                                                          <span class="st">")</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="st">    date highTemp lowTemp noonCondition noonCondMessy precipBad</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="st">3  Mar29       54      46         Sunny           sun     0.040</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="st">6   Apr1       58      45         Sunny         Sunny     0.000</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="st">7   Apr2       60      32         Sunny         sunny    -0.005</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="st">12  Apr7       54      43         Sunny         SUNNY     0.004</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="st">13  Apr8       61      45         Sunny           Sun     0.000</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="st">14  Apr9       75      63         Sunny           sun     0.000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="application" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="application"><span class="header-section-number">8</span> Application</h2>
<p>A) Create <em>one</em> <span class="hl"><strong>if-else-if</strong></span> structure that checks for:</p>
<ul>
<li><p>Sunny days greater than 54</p></li>
<li><p>Non-Sunny less than or equal to 54</p></li>
<li><p>Sunny days less than or equal to 54</p></li>
<li><p>Non-Sunny greater than 54</p></li>
</ul>
<p>In comments answer: Why do this as one <strong><em>if-else-if</em></strong> structure instead of 4 separate <strong><em>if</em></strong> statements?</p>
<p>&nbsp;</p>
<p>B) Create a Boolean (logical) vector that finds all cloudy days in <strong><em>noonCondMessy</em></strong> (note different spellings)</p>
<p>&nbsp;</p>
<p>C) Create a <strong><em>cloudyDays</em></strong> dataframe that:</p>
<ul>
<li><p>Only has the rows from weatherData where weather conditions were cloudy</p></li>
<li><p>Removes the last 2 columns from <strong><em>weatherData</em></strong> (<strong><em>noonCondMessy</em></strong> and <strong><em>precipBad</em></strong>)</p></li>
</ul>
<p>&nbsp;</p>
<p>D) Create an <strong><em>if()</em></strong> that combines all rainy, cloudy, and snowy days from <strong><em>noonCondition</em></strong>.</p>
<p>&nbsp;</p>
<p>E) Find which days meet <span class="hl">all three</span> of these conditions:</p>
<ul>
<li><p><strong><em>lowTemps</em></strong> &gt; 40</p></li>
<li><p><em><strong>highTemps</strong> &lt;</em> 60</p></li>
<li><p>Sunny</p></li>
</ul>
<p>&nbsp;</p>
<p>F) Use the following random number generator:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>randomTemp <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>, <span class="at">size=</span><span class="dv">1</span>);  <span class="co"># pick 1 random from 0 to 100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and create one <strong><em>if-else-if</em></strong> structure that outputs:</p>
<ul>
<li><p>“error” if <strong><em>randomTemp</em></strong> is less than 20 or greater than 80</p></li>
<li><p>“very cold” if <strong><em>randomTemp</em></strong> is 20-30</p></li>
<li><p>“cold” if <strong><em>randomTemp</em></strong> is 30-45</p></li>
<li><p>“nice” if <strong><em>randomTemp</em></strong> is 45-60</p></li>
<li><p>“unusually warm” if <strong><em>randomTemp</em></strong> 60-80</p></li>
</ul>
<p>&nbsp;</p>
<p>Save the script as&nbsp;<strong><em>app</em></strong>1-12<strong><em>.r</em></strong> in your&nbsp;<strong><em>scripts</em></strong> folder and&nbsp; email your Project Folder to Charlie Belinsky at belinsky@msu.edu.</p>
<p>&nbsp;</p>
<p><a href="1-01-RStudioProjectsSetup.html#sec-zip-folder" target="_blank">Instructions for zipping the Project Folder are here.</a></p>
<p>&nbsp;</p>
<p>If you have any questions regarding this application, feel free to email them to Charlie Belinsky at belinsky@msu.edu.</p>
<section id="questions-to-answer" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="questions-to-answer"><span class="header-section-number">8.1</span> Questions to answer</h3>
<p>Answer the following in comments inside your application script:</p>
<ol type="1">
<li><p>What was your level of comfort with the lesson/application?</p></li>
<li><p>What areas of the lesson/application confused or still confuses you?</p></li>
<li><p>What are some things you would like to know more about that is related to, but not covered in, this lesson?</p></li>
</ol>
</section>
</section>
<section id="extension-vs-and-vs" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="extension-vs-and-vs"><span class="header-section-number">9</span> Extension: &amp; vs &amp;&amp; and | vs ||</h2>
<p>R has two <strong>AND</strong> operators (<strong>&amp;</strong> and <strong>&amp;&amp;</strong>) and two <strong>OR</strong> operators (<strong>|</strong> and <strong>||</strong>), which I will refer to as the <span class="hl">singles</span>and <span class="hl">doubles</span>operators.</p>
<p>&nbsp;</p>
<p>The big difference is that <strong><em>singles</em></strong> work on one or multiple values, whereas <strong><em>doubles</em></strong> only work on one vaule. In other words, you can replace <strong><em>singles</em></strong> with <strong><em>doubles</em></strong> for the whole lesson except in <a href="#sec-booleanVec" class="quarto-xref">Section&nbsp;7</a>, where we are working with a vector of values. In <a href="#sec-booleanVec" class="quarto-xref">Section&nbsp;7</a>, switching the <strong><em>singles</em></strong> with <strong><em>doubles</em></strong> will cause an error.</p>
<p>&nbsp;</p>
<p>At this point it seems there is no reason to use <strong><em>doubles</em></strong> if <strong><em>singles</em></strong> do everything and more. And for a beginner, this is enough information. However, as you get into more advanced programming, there are benefits to using <strong><em>doubles</em></strong>.</p>
<section id="doubles-are-more-efficient" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="doubles-are-more-efficient"><span class="header-section-number">9.1</span> doubles are more efficient</h3>
<p>In the following code, <strong><em>&amp;</em></strong> will <strong><em>always</em></strong> check both if <strong><em>highTemps</em></strong> &gt; 50 and <strong><em>noonCond</em></strong> is Sunny:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(highTemps <span class="sc">&gt;</span> <span class="dv">50</span> «<span class="sc">&amp;</span>» noonCond <span class="sc">==</span> <span class="st">"Sunny"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But if <strong><em>highTemps</em></strong> is less than 50 then there is no point to checking <strong><em>noonCond</em></strong> because the condition is already <strong><em>FALSE</em></strong>.</p>
<p>&nbsp;</p>
<p><strong><em>&amp;&amp;</em></strong> will only check what is necessary to get the condition:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(highTemps <span class="sc">&gt;</span> <span class="dv">50</span> «<span class="sc">&amp;&amp;</span>» noonCond <span class="sc">==</span> <span class="st">"Sunny"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>if <strong><em>highTemps</em></strong> is less than 50, &amp;&amp; will not bother to check <strong><em>noonCond</em></strong>.</p>
</section>
<section id="doubles-can-used-to-avoid-errors" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="doubles-can-used-to-avoid-errors"><span class="header-section-number">9.2</span> doubles can used to avoid errors</h3>
<p>Another common usage of <strong><em>doubles</em></strong> is to check if a variable exists before checking the value of the variable. Here we are checking first to see if <strong><em>highTemps</em></strong> exists, then we will check if the value is greater than 50:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>( <span class="fu">exists</span>(highTemps) «<span class="sc">&amp;&amp;</span>» highTemps <span class="sc">&gt;</span> <span class="dv">50</span> )  <span class="co"># will avoid errors</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Because we are using <strong><em>&amp;&amp;</em></strong>, if <code>exists(highTemps)</code> is <strong><em>FALSE</em></strong>, the value of <strong><em>highTemps</em></strong> will not be checked.</p>
<p>&nbsp;</p>
<p>If we use <strong><em>&amp;</em></strong>, then the value of <strong><em>highTemps</em></strong> will be checked even if <strong><em>highTemps</em></strong> does not exist, causing an error in your script.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span>( <span class="fu">exists</span>(highTemps) «<span class="sc">&amp;</span>» highTemps <span class="sc">&gt;</span> <span class="dv">50</span> ) <span class="co"># error if highTemps does not exist</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="singles-and-double-in-other-programming-languages" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="singles-and-double-in-other-programming-languages"><span class="header-section-number">9.3</span> singles and double in other programming languages</h3>
<p>In a lot of language, the <strong><em>doubles</em></strong> have a similar meaning to the <strong><em>singles</em></strong> in R. Just remember where you use <strong><em>singles</em></strong> in R, you are likely using <strong><em>doubles</em></strong> in other languages.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>