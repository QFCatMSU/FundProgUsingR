<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1-10: For Loops</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0815817224b54744edbb51fc66bd26dc.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="shortcut icon" href="https://qfcatmsu.github.io/assets/quarto/qfc_icon.png">
<script>mod=true; menuCollapse=true;</script>
<script src="https://qfcatmsu.github.io/assets/quarto/qfc_styles.js"></script>
 


<link rel="stylesheet" href="https://qfcatmsu.github.io/assets/quarto/qfc_styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">1-10: For Loops</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><b>Fundamentals of Programming class</b></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/0-01-IntroductionAndSyllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">00: Introduction and Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-01-RStudioProjectsSetup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">01a: RStudio Projects Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-02-Variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-02: Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-03_Mathematical_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-03: Mathematical Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-04_Vectors_And_Data_Frames.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-04: Vectors and Data Frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-05_Functions_Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-05: Functions Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-06_Run_and_Source.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-06: Run and Source</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-07_Outputs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-07: Outputs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-08_Conditional_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-08: Conditional Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-09_If_Else_Statements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-09: Conditional Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-10_For_Loops.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1-10: For Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-11_For_Loops_and_State_Varibles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-11: For Loops and State Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-12_MultipleConditions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-12: Multiple Conditions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-13_Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-13: Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-14_Functions2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-14: Functions 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-15_Functions3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-15: Functions 3</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title"><b>Lesson Content</b></h2>
   
  <ul>
  <li><a href="#changes" id="toc-changes" class="nav-link active" data-scroll-target="#changes"><span class="header-section-number">0.1</span> Changes…</a></li>
  <li><a href="#purpose" id="toc-purpose" class="nav-link" data-scroll-target="#purpose"><span class="header-section-number">1</span> Purpose</a></li>
  <li><a href="#questions-about-the-material" id="toc-questions-about-the-material" class="nav-link" data-scroll-target="#questions-about-the-material"><span class="header-section-number">2</span> Questions about the material…</a></li>
  <li><a href="#four-structures-in-programming" id="toc-four-structures-in-programming" class="nav-link" data-scroll-target="#four-structures-in-programming"><span class="header-section-number">3</span> Four structures in programming</a></li>
  <li><a href="#conditional-statements-on-multiple-values" id="toc-conditional-statements-on-multiple-values" class="nav-link" data-scroll-target="#conditional-statements-on-multiple-values"><span class="header-section-number">4</span> Conditional statements on multiple values</a></li>
  <li><a href="#repeating-commands" id="toc-repeating-commands" class="nav-link" data-scroll-target="#repeating-commands"><span class="header-section-number">5</span> Repeating commands</a>
  <ul class="collapse">
  <li><a href="#the-codeblock-attached-to-the-for-loop" id="toc-the-codeblock-attached-to-the-for-loop" class="nav-link" data-scroll-target="#the-codeblock-attached-to-the-for-loop"><span class="header-section-number">5.1</span> The codeblock attached to the for loop</a></li>
  </ul></li>
  <li><a href="#repeated-code-on-values" id="toc-repeated-code-on-values" class="nav-link" data-scroll-target="#repeated-code-on-values"><span class="header-section-number">6</span> Repeated code on values</a></li>
  <li><a href="#the-index-variable-in-a-for-loop" id="toc-the-index-variable-in-a-for-loop" class="nav-link" data-scroll-target="#the-index-variable-in-a-for-loop"><span class="header-section-number">7</span> The index variable in a for loop</a>
  <ul class="collapse">
  <li><a href="#the-index-variable-as-a-counter" id="toc-the-index-variable-as-a-counter" class="nav-link" data-scroll-target="#the-index-variable-as-a-counter"><span class="header-section-number">7.1</span> The index variable as a counter</a></li>
  <li><a href="#taking-a-step-back-how-a-for-loop-cycles" id="toc-taking-a-step-back-how-a-for-loop-cycles" class="nav-link" data-scroll-target="#taking-a-step-back-how-a-for-loop-cycles"><span class="header-section-number">7.2</span> Taking a step back: How a for loop cycles</a></li>
  <li><a href="#changing-the-sequence" id="toc-changing-the-sequence" class="nav-link" data-scroll-target="#changing-the-sequence"><span class="header-section-number">7.3</span> Changing the sequence</a></li>
  <li><a href="#indexing-variables-and-more-complicated-sequence" id="toc-indexing-variables-and-more-complicated-sequence" class="nav-link" data-scroll-target="#indexing-variables-and-more-complicated-sequence"><span class="header-section-number">7.4</span> Indexing variables and more complicated sequence</a></li>
  </ul></li>
  <li><a href="#indexing-values-inside-a-for-loop" id="toc-indexing-values-inside-a-for-loop" class="nav-link" data-scroll-target="#indexing-values-inside-a-for-loop"><span class="header-section-number">8</span> Indexing values inside a for loop</a>
  <ul class="collapse">
  <li><a href="#making-code-more-extensible" id="toc-making-code-more-extensible" class="nav-link" data-scroll-target="#making-code-more-extensible"><span class="header-section-number">8.1</span> Making code more extensible</a></li>
  </ul></li>
  <li><a href="#if-else-within-a-for-loop" id="toc-if-else-within-a-for-loop" class="nav-link" data-scroll-target="#if-else-within-a-for-loop"><span class="header-section-number">9</span> If-else within a for loop</a>
  <ul class="collapse">
  <li><a href="#alternate-ways-to-bracket-the-for-loop-with-if-else-structure" id="toc-alternate-ways-to-bracket-the-for-loop-with-if-else-structure" class="nav-link" data-scroll-target="#alternate-ways-to-bracket-the-for-loop-with-if-else-structure"><span class="header-section-number">9.1</span> Alternate ways to bracket the for loop with if-else structure</a></li>
  </ul></li>
  <li><a href="#checking-a-subset-of-values" id="toc-checking-a-subset-of-values" class="nav-link" data-scroll-target="#checking-a-subset-of-values"><span class="header-section-number">10</span> Checking a subset of values</a></li>
  <li><a href="#state-variables-and-for-loops" id="toc-state-variables-and-for-loops" class="nav-link" data-scroll-target="#state-variables-and-for-loops"><span class="header-section-number">11</span> State variables and for loops</a>
  <ul class="collapse">
  <li><a href="#the-state-variable" id="toc-the-state-variable" class="nav-link" data-scroll-target="#the-state-variable"><span class="header-section-number">11.1</span> The state variable</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="header-section-number">12</span> Application:</a>
  <ul class="collapse">
  <li><a href="#questions-to-answer" id="toc-questions-to-answer" class="nav-link" data-scroll-target="#questions-to-answer"><span class="header-section-number">12.1</span> Questions to answer</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">1-10: For Loops</h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<section id="changes" class="level3" data-number="0.1">
<h3 data-number="0.1" class="anchored" data-anchor-id="changes"><span class="header-section-number">0.1</span> Changes…</h3>
<ul>
<li>Console in R format or no code format??</li>
</ul>
</section>
<section id="purpose" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="purpose"><span class="header-section-number">1</span> Purpose</h2>
<ul>
<li>Show how to perform <strong><em>if-else</em></strong> statements on multiple values in a vector using <strong><em>for</em></strong> loops</li>
</ul>
</section>
<section id="questions-about-the-material" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="questions-about-the-material"><span class="header-section-number">2</span> Questions about the material…</h2>
<p>The files for this lesson:</p>
<ul>
<li><p>Script:&nbsp;<a href="../scripts/1-10_ForLoops.R">you can download the script here</a></p></li>
<li><p>Data: <a href="../data/twoWeekWeatherData.csv">download the data file here</a></p></li>
</ul>
<p>&nbsp;</p>
<p>If you have any questions about the material in this lesson, feel free to email them to the instructor, Charlie Belinsky, at belinsky@msu.edu.</p>
</section>
<section id="four-structures-in-programming" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="four-structures-in-programming"><span class="header-section-number">3</span> Four structures in programming</h2>
<p>As mentioned in the second lesson on variables,&nbsp;there are basically 4 main structures that cover almost every aspect of programming:</p>
<ol type="1">
<li><p>Variables</p></li>
<li><p>If-Else Statements</p></li>
<li><p>For Loops</p></li>
<li><p>Functions</p></li>
</ol>
<p>In the next three lessons we cover <strong><em>for</em></strong> loops.&nbsp; One of the main benefits of <strong><em>for</em></strong> loops (and functions) in programming is they it generalize code.&nbsp; <strong><em>for</em></strong> loops allow you to write code once and execute the code on multiple values.&nbsp; <strong><em><br>
</em></strong></p>
</section>
<section id="conditional-statements-on-multiple-values" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="conditional-statements-on-multiple-values"><span class="header-section-number">4</span> Conditional statements on multiple values</h2>
<p>In the last couple of lessons, we used conditional statements on values in a vector (e.g., asking about the weather conditions or the high temperatures on a specific day) and then output a message to the <strong><em>Console</em></strong> based on the results of the conditional statement.</p>
<p>&nbsp;</p>
<p>But, when working with data, we rarely look at just one value – usually, we are looking at a whole vector of values (e.g., 365 high temperatures for a year) and we want to perform the same conditional statement on each of the values. In this lesson and the next lesson, we will learn to use conditional statements on multiple values – using <strong><em>for</em></strong> loops with embedded <strong><em>if-else</em></strong> statements.</p>
</section>
<section id="repeating-commands" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="repeating-commands"><span class="header-section-number">5</span> Repeating commands</h2>
<p>A <strong><em>for</em></strong> loop is used whenever you want to repeat a codeblock multiple times.&nbsp; The most basic example is repeating the exact same output a certain number of times:</p>
<div id="fig-basicForLoop" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-basicForLoop-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-basicForLoop"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-basicForLoop-1"><a href="#fig-basicForLoop-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)  <span class="co"># repeat 5 times</span></span>
<span id="fig-basicForLoop-2"><a href="#fig-basicForLoop-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-basicForLoop-3"><a href="#fig-basicForLoop-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Hello, World</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-basicForLoop-4"><a href="#fig-basicForLoop-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-basicForLoop-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The most basic for loop – repeating an output command multiple times
</figcaption>
</figure>
</div>
<p>And the <strong><em>Console</em></strong> tab will show 5 <em>Hellos</em>:</p>
<pre data-tab="Console"><code>Repeating the same code multiple times:
Hello, World
Hello, World
Hello, World
Hello, World
Hello, World</code></pre>
<section id="the-codeblock-attached-to-the-for-loop" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="the-codeblock-attached-to-the-for-loop"><span class="header-section-number">5.1</span> The codeblock attached to the for loop</h3>
<p>Just like <strong><em>if-else</em></strong> statements, <strong><em>for</em></strong> loops have an attached codeblock, designated by curly brackets ( <strong>{&nbsp; }</strong> ).&nbsp; <strong><em>If-else</em></strong> statements execute the codeblock conditionally based on the conditional statement in the parentheses.&nbsp; The number of times <strong><em>for loops</em></strong> execute their attached codeblocks is dependent upon the sequence inside the parentheses.&nbsp; In <a href="#fig-basicForLoop" class="quarto-xref">Figure&nbsp;1</a>, the sequence is <strong><em>1:5</em></strong>, and since the sequence has 5 values, the codeblock attached will execute 5 times.&nbsp;</p>
</section>
</section>
<section id="repeated-code-on-values" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="repeated-code-on-values"><span class="header-section-number">6</span> Repeated code on values</h2>
<p><a href="#fig-basicForLoop" class="quarto-xref">Figure&nbsp;1</a> repeats the exact same code 5 times. However, you rarely want to repeat the exact same code – usually, <span class="hl">you want to repeat similar code</span>.&nbsp; For instance, you might want to say hello to 5 different people given by a vector:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>helloVector <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ann"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>, <span class="st">"Dave"</span>, <span class="st">"Eve"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To do this we cycle through every value in the vector,&nbsp; which is <strong><em>helloVector[1], helloVector[2], helloVector[3], helloVector[4],</em></strong> and <strong><em>helloVector[5]</em></strong>.</p>
<p>&nbsp;</p>
<p>To cycle through the values we set the variable (often called <strong><em>i</em></strong>) in the for loop to the values <strong>1</strong> through <strong>5</strong> and then use that variable inside the codeblock for the for loop<em>.</em></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># i takes on the values 1 through 5 through the 5 cycles of the for loop</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Hello,"</span> helloVector[i], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb4" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Hello, Ann </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Hello, Bob </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>Hello, Charlie </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>Hello, Dave </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>Hello, Eve </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-index-variable-in-a-for-loop" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="the-index-variable-in-a-for-loop"><span class="header-section-number">7</span> The index variable in a for loop</h2>
<p>The true power of the for loops lies in the <span class="hl">indexing variable</span>, which is often named <span class="hl"><strong><em>i</em></strong></span>.&nbsp; <span class="note">Note: the indexing variable can be given any name – it’s just common to call it <strong>i</strong>.</span>&nbsp; The indexing variable changes every time the <strong><em>for</em></strong> loop executes so the indexing variable can be used to modify the code every time the codeblock is executed.</p>
<section id="the-index-variable-as-a-counter" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="the-index-variable-as-a-counter"><span class="header-section-number">7.1</span> The index variable as a counter</h3>
<p>Let’s look at the simplest of examples – using the indexing variable, <strong><em>i</em></strong>, as a counter:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the indexing variable i as a counter</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="co"># repeat 5 times</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"The count is:"</span>, i, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This outputs:</p>
<div class="sourceCode" id="cb6" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Using the indexing variable as a counter<span class="sc">:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>The count is<span class="sc">:</span> <span class="dv">1</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>The count is<span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>The count is<span class="sc">:</span> <span class="dv">3</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>The count is<span class="sc">:</span> <span class="dv">4</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>The count is<span class="sc">:</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="taking-a-step-back-how-a-for-loop-cycles" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="taking-a-step-back-how-a-for-loop-cycles"><span class="header-section-number">7.2</span> Taking a step back: How a for loop cycles</h3>
<p>A for loops always consists of 3 things:</p>
<ul>
<li><p>An indexing variable:&nbsp; for(<strong><em>i</em></strong> in 1:5)&nbsp;</p></li>
<li><p>A sequence of values: for(<strong><em>i</em></strong> in <em>1:5</em>)</p></li>
<li><p>A codeblock to execute: between the <strong>{ }</strong></p></li>
</ul>
<p>&nbsp;</p>
<p>The sequence of values determines how many times the codeblock will cycle.&nbsp; If there are 12 values in the sequence, then the for loop will cycle12 times.</p>
<p>&nbsp;</p>
<p><span class="hl">For each cycle, the indexing variable is set to a different value in the sequence.</span>&nbsp; The value of the indexing variable take will go in the same order as the sequence.</p>
<p>&nbsp;</p>
<p>So, if the sequence is <strong><em>1:5</em></strong>, then:</p>
<ul>
<li><p><strong><em>i</em></strong> will be set to <strong>1</strong> the first time the codeblock cycles</p></li>
<li><p><strong><em>i</em></strong> will be set to <strong>2</strong> the first time the codeblock cycles</p></li>
<li><p><strong><em>i</em></strong> will be set to <strong>3</strong> the first time the codeblock cycles</p></li>
<li><p><strong><em>i</em></strong> will be set to <strong>4</strong> the first time the codeblock cycles</p></li>
<li><p><strong><em>i</em></strong> will be set to <strong>5</strong> the first time the codeblock cycles</p></li>
</ul>
</section>
<section id="changing-the-sequence" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="changing-the-sequence"><span class="header-section-number">7.3</span> Changing the sequence</h3>
<p>The <strong><em>for</em></strong> loop executes for every value in the sequence, and the index variable takes on the values in order. The values in the sequence do not need to start with 1.</p>
<div id="fig-seqNot1" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-seqNot1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-seqNot1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-seqNot1-1"><a href="#fig-seqNot1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using a sequence that does not start with 1</span></span>
<span id="fig-seqNot1-2"><a href="#fig-seqNot1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">8</span>) <span class="co"># 12, 11, 10, 9 ,8 (there are five values in the sequence)</span></span>
<span id="fig-seqNot1-3"><a href="#fig-seqNot1-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-seqNot1-4"><a href="#fig-seqNot1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"The count is:"</span>, i, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-seqNot1-5"><a href="#fig-seqNot1-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-seqNot1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Using a sequence that does not start with 1 in a for loop
</figcaption>
</figure>
</div>
<p>In this case, the for loop will still execute 5 times, but <strong><em>i</em></strong> will take on values <strong>12</strong> down to <strong><em>8</em></strong> instead of 1-5:</p>
<pre data-tab="Console"><code>Changing the sequence numbers -- length is still 5:
The count is: 12
The count is: 11
The count is: 10
The count is: 9
The count is: 8</code></pre>
</section>
<section id="indexing-variables-and-more-complicated-sequence" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="indexing-variables-and-more-complicated-sequence"><span class="header-section-number">7.4</span> Indexing variables and more complicated sequence</h3>
<p>You do not have to name the index <strong><em>i</em></strong>, you can name it whatever you want.&nbsp; For instance, we will be working with weather so <strong><em>day</em></strong> might be a more appropriate name for the indexing variable.</p>
<p>&nbsp;</p>
<p>In this example we we use a more complicated sequence and change the name of the index variable to <strong><em>day</em></strong>:</p>
<div id="fig-seqInFor" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-seqInFor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-seqInFor"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-seqInFor-1"><a href="#fig-seqInFor-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(day <span class="cf">in</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">20</span>, <span class="at">to=</span><span class="dv">2</span>, <span class="at">by=</span><span class="sc">-</span><span class="dv">3</span>))  <span class="co"># 20, 17, 14, 11, 8, 5, 2 (seven values)</span></span>
<span id="fig-seqInFor-2"><a href="#fig-seqInFor-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-seqInFor-3"><a href="#fig-seqInFor-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"The count is:"</span>, day, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="fig-seqInFor-4"><a href="#fig-seqInFor-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-seqInFor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Using a more complicated sequence in a for loop
</figcaption>
</figure>
</div>
<pre data-tab="Console"><code>Using a more complicated sequence with seven values:
The count is: 20
The count is: 17
The count is: 14
The count is: 11
The count is: 8
The count is: 5
The count is: 2</code></pre>
<p>So, in <a href="#fig-seqInFor" class="quarto-xref">Figure&nbsp;3</a>, the codeblock cycles 7 times because there are 7 values in the sequence (20, 17, 14, 11, 8, 5, and 2).&nbsp; Each time the codeblock cycles,&nbsp; <strong><em>day</em></strong> is set to a different value in the sequence (going from the first value in the sequence to the last).</p>
</section>
</section>
<section id="indexing-values-inside-a-for-loop" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="indexing-values-inside-a-for-loop"><span class="header-section-number">8</span> Indexing values inside a for loop</h2>
<p>We are still using the indexing variable as a counter. The real power comes when you use the <em>indexing variable to index values</em> in a vector – this is how we perform an <strong><em>if-else</em></strong> statement on every value in a vector.</p>
<p>&nbsp;</p>
<p>Let’s use the same data we have been using in the previous lessons:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">### read in data from twoWeekWeatherData.csv</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>weatherData <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">"data/twoWeekWeatherData.csv"</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">sep=</span><span class="st">","</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">header=</span><span class="cn">TRUE</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>);</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="do">### Extract the highTemps column from the data frame -- save it to a variable</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>highTemps <span class="ot">=</span> weatherData<span class="sc">$</span>highTemp;</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>noonCond <span class="ot">=</span> weatherData<span class="sc">$</span>noonCondition;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Since we want to go through every value in the vector, we need to know the size of the vector.&nbsp; The easiest way to find the size of a vector is to use the function <strong><em>length()</em></strong>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>numDays <span class="ot">=</span> <span class="fu">length</span>(highTemps);  <span class="co"># numDays is 14 (the number of values in highTemps)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now let’s use a <strong><em>for</em></strong> loop to output all of the <strong><em>highTemp</em></strong> values.&nbsp; To do this we use the indexing variable, <strong><em>day</em></strong>, <span class="hl">as the index</span> for <strong><em>highTemp</em></strong>:</p>
<div id="fig-indexVarAsIndex" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-indexVarAsIndex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-indexVarAsIndex"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-indexVarAsIndex-1"><a href="#fig-indexVarAsIndex-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(day <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)  <span class="co"># numDays, in this case, is 14 (sequence is 1:14)</span></span>
<span id="fig-indexVarAsIndex-2"><a href="#fig-indexVarAsIndex-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-indexVarAsIndex-3"><a href="#fig-indexVarAsIndex-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(highTemp[day], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);  <span class="co"># day will take the values 1-14</span></span>
<span id="fig-indexVarAsIndex-4"><a href="#fig-indexVarAsIndex-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-indexVarAsIndex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Using the indexing variable as an index for highTemp
</figcaption>
</figure>
</div>
<pre data-tab="Console"><code>The 14 values in the vector highTemps in order:
57
50
54
40
39
58
60
53
55
44
39
54
61
75</code></pre>
<p>In the following example, we use the indexing variable day as both a counter and an index for <strong><em>noonCond</em></strong>:</p>
<div id="fig-IndexVarIndex" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-IndexVarIndex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-IndexVarIndex"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-IndexVarIndex-1"><a href="#fig-IndexVarIndex-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(day <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-IndexVarIndex-2"><a href="#fig-IndexVarIndex-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-IndexVarIndex-3"><a href="#fig-IndexVarIndex-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(day, <span class="st">") "</span>, noonCond[day], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="fig-IndexVarIndex-4"><a href="#fig-IndexVarIndex-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-IndexVarIndex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Using indexing variable as a counter and an index for noonCond
</figcaption>
</figure>
</div>
<div class="sourceCode" id="cb12" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Using indexing variable as a counter and an index <span class="cf">for</span> noonCond<span class="sc">:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="er">)</span> Cloudy</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="er">)</span> Cloudy</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="er">)</span> Sunny</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="er">)</span> Rain</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="er">)</span> Fog</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span><span class="er">)</span> Sunny</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span><span class="er">)</span> Sunny</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span><span class="er">)</span> Cloudy</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span><span class="er">)</span> Rain</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="er">)</span> Rain</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span><span class="er">)</span> Snow</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span><span class="er">)</span> Sunny</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span><span class="er">)</span> Sunny</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span><span class="er">)</span> Sunny</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="making-code-more-extensible" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="making-code-more-extensible"><span class="header-section-number">8.1</span> Making code more extensible</h3>
<p>In the code in <a href="#fig-indexVarAsIndex" class="quarto-xref">Figure&nbsp;4</a> and <a href="#fig-IndexVarIndex" class="quarto-xref">Figure&nbsp;5</a>,&nbsp; we already know that the number of values in the vector is <strong>14</strong> so we could just write:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(day <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(highTemp[day], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But this code will only work if the data frame does not change size.&nbsp; In general, <span class="hl">you want to make your code as generic as possible</span>, which means using variables instead of fixed numbers. When you make your code generic, you do not have to change the code when your data changes.&nbsp; In <a href="#fig-indexVarAsIndex" class="quarto-xref">Figure&nbsp;4</a>, <strong><em>numDays</em></strong> will automatically adjust to the size of the vector.</p>
</section>
</section>
<section id="if-else-within-a-for-loop" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="if-else-within-a-for-loop"><span class="header-section-number">9</span> If-else within a for loop</h2>
<p>We usually have a lot of questions that we want to ask of the values we are looking at. In other words, we want to use <strong><em>if-else</em></strong> statements within the <strong><em>for</em></strong> loops.&nbsp; Let’s first ask if each day was sunny or not and output the answer to the <strong><em>Console</em></strong>.</p>
<div id="fig-IfElse-in-For" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-IfElse-in-For-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-IfElse-in-For"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-IfElse-in-For-1"><a href="#fig-IfElse-in-For-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-IfElse-in-For-2"><a href="#fig-IfElse-in-For-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-IfElse-in-For-3"><a href="#fig-IfElse-in-For-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>)</span>
<span id="fig-IfElse-in-For-4"><a href="#fig-IfElse-in-For-4" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-IfElse-in-For-5"><a href="#fig-IfElse-in-For-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day "</span>, i, <span class="st">" was sunny</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="fig-IfElse-in-For-6"><a href="#fig-IfElse-in-For-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-IfElse-in-For-7"><a href="#fig-IfElse-in-For-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="fig-IfElse-in-For-8"><a href="#fig-IfElse-in-For-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-IfElse-in-For-9"><a href="#fig-IfElse-in-For-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day "</span>, i, <span class="st">" was not sunny</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="fig-IfElse-in-For-10"><a href="#fig-IfElse-in-For-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-IfElse-in-For-11"><a href="#fig-IfElse-in-For-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-IfElse-in-For-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Using if-else statements in a for loop
</figcaption>
</figure>
</div>
<pre data-tab="Console"><code>Using if-else statements within a for loop:
day 1 was not sunny
day 2 was not sunny
day 3 was sunny
day 4 was not sunny
day 5 was not sunny
day 6 was sunny
day 7 was sunny
day 8 was not sunny
day 9 was not sunny
day 10 was not sunny
day 11 was not sunny
day 12 was sunny
day 13 was sunny
day 14 was sunny</code></pre>
<section id="alternate-ways-to-bracket-the-for-loop-with-if-else-structure" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="alternate-ways-to-bracket-the-for-loop-with-if-else-structure"><span class="header-section-number">9.1</span> Alternate ways to bracket the for loop with if-else structure</h3>
<p>We can bracket using the previous <strong><em>for</em></strong> loop using the the other common programming method.&nbsp; The advantage to this method is that it uses less space:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays) {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>)  {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day "</span>, i, <span class="st">" was sunny</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>  {</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day "</span>, i, <span class="st">" was not sunny</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Both methods work well – the important aspect is that the <strong><em>if-else</em></strong> structure is clearly indented inside the <strong><em>for</em></strong> loop showing that the <strong><em>if-else</em></strong> structure is only executed when inside the <strong><em>for</em></strong> loop.</p>
</section>
</section>
<section id="checking-a-subset-of-values" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="checking-a-subset-of-values"><span class="header-section-number">10</span> Checking a subset of values</h2>
<p>We can use any type of sequence in the <strong><em>for</em></strong> loop so that we are only checking some of the values in the vector:</p>
<div id="fig-sequence-subset" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sequence-subset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-sequence-subset"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-sequence-subset-1"><a href="#fig-sequence-subset-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">2</span>,<span class="dv">13</span>)</span>
<span id="fig-sequence-subset-2"><a href="#fig-sequence-subset-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-sequence-subset-3"><a href="#fig-sequence-subset-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>)</span>
<span id="fig-sequence-subset-4"><a href="#fig-sequence-subset-4" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-sequence-subset-5"><a href="#fig-sequence-subset-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day "</span>, i, <span class="st">" was sunny</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="fig-sequence-subset-6"><a href="#fig-sequence-subset-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-sequence-subset-7"><a href="#fig-sequence-subset-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="fig-sequence-subset-8"><a href="#fig-sequence-subset-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-sequence-subset-9"><a href="#fig-sequence-subset-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"day "</span>, i, <span class="st">" was not sunny</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>);</span>
<span id="fig-sequence-subset-10"><a href="#fig-sequence-subset-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-sequence-subset-11"><a href="#fig-sequence-subset-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sequence-subset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Using the sequence to subset the values
</figcaption>
</figure>
</div>
<pre data-tab="Console"><code>Using a sequence to subset the values:
day 8 was not sunny
day 2 was not sunny
day 13 was sunny</code></pre>
</section>
<section id="state-variables-and-for-loops" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="state-variables-and-for-loops"><span class="header-section-number">11</span> State variables and for loops</h2>
<p>The problem with the code in <a href="#fig-IfElse-in-For" class="quarto-xref">Figure&nbsp;6</a> is that we are often not looking for specific information about each value in a vector.&nbsp; This would get quickly out of hand if there are thousands of values!&nbsp; We usually want to find out more general information – for instance, we might want to know <span class="hl">how many days were sunny?</span></p>
<p>&nbsp;</p>
<p>Finding more general information about the values in a vector requires the introduction of the last component of most <strong><em>for</em></strong> loops: the state variable.&nbsp; The <span class="hl">state variable</span> is a variable that keeps a running tab of some value through each cycle of the <strong><em>for</em></strong> loop.</p>
<p>&nbsp;</p>
<p>Let’s count the number of sunny days using a <strong><em>for</em></strong> loop.&nbsp; To do this we need to:</p>
<ul>
<li><p>create a state variable that holds the number of sunny days</p></li>
<li><p>have a for loop that cycles through every value in the <strong><em>noonCond</em></strong> vector</p></li>
<li><p>include an <strong><em>if()</em></strong> statement asking if the day is sunny</p></li>
<li><p>have a command to increase the number of sunny days by 1 if it is sunny</p></li>
</ul>
<p>&nbsp;</p>
<p><span class="note">Note: The state variable must be declared outside of the <strong>for</strong> loop.&nbsp; Think about why this is true – it is the first question in the Application.</span></p>
<p>&nbsp;</p>
<div id="fig-stateVariable" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-stateVariable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="fig-stateVariable"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="fig-stateVariable-1"><a href="#fig-stateVariable-1" aria-hidden="true" tabindex="-1"></a>sunnyDays <span class="ot">=</span> <span class="dv">0</span>; <span class="co"># state variable -- will hold the count of cloudy days</span></span>
<span id="fig-stateVariable-2"><a href="#fig-stateVariable-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numDays)</span>
<span id="fig-stateVariable-3"><a href="#fig-stateVariable-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="fig-stateVariable-4"><a href="#fig-stateVariable-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(noonCond[i] <span class="sc">==</span> <span class="st">"Sunny"</span>)  <span class="co"># was the day sunny</span></span>
<span id="fig-stateVariable-5"><a href="#fig-stateVariable-5" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="fig-stateVariable-6"><a href="#fig-stateVariable-6" aria-hidden="true" tabindex="-1"></a>    sunnyDays <span class="ot">=</span> sunnyDays <span class="sc">+</span><span class="dv">1</span>;   <span class="co"># it was -- increase sunnyDays by 1</span></span>
<span id="fig-stateVariable-7"><a href="#fig-stateVariable-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="fig-stateVariable-8"><a href="#fig-stateVariable-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># there is no else here -- we don't care about non-sunny days</span></span>
<span id="fig-stateVariable-9"><a href="#fig-stateVariable-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-stateVariable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Using a state variable to calculate how many sunny days there was in noonCond
</figcaption>
</figure>
</div>
<p>And we can look in the <strong><em>Environment</em></strong> tab to see what the final value of <strong><em>sunnyDays</em></strong> was:</p>
<div class="sourceCode" id="cb17" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sunnyDays<span class="sc">:</span>   <span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="the-state-variable" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="the-state-variable"><span class="header-section-number">11.1</span> The state variable</h3>
<p><strong><em>sunnyDays</em></strong> does a lot of heavy lifting in <a href="#fig-stateVariable" class="quarto-xref">Figure&nbsp;8</a>.&nbsp; We initially set <strong><em>sunnyDays</em></strong> to <strong><em>0</em></strong> because <strong><em>0</em></strong> is the <span class="hl">default value</span>, or the value if the <strong><em>for</em></strong> loop cycles zero times.</p>
<p>&nbsp;</p>
<p>Whenever the value in <strong><em>noonCond</em></strong> is “Sunny” the following code is executed:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>   sunnyDays <span class="ot">=</span> sunnyDays <span class="sc">+</span><span class="dv">1</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This code works because the right side of the equation is always evaluated first.</p>
<p>&nbsp;</p>
<p>So, R will first calculate: <strong><em>sunnyDays +1</em></strong></p>
<ul>
<li>If <strong><em>sunnyDays</em></strong> is <strong>0</strong>, then <strong><em>sunnyDays +1</em></strong> evaluates to <strong>1</strong></li>
</ul>
<p>&nbsp;</p>
<p>Then R assigns the value on the right-side to the variable on the left, which is <strong><em>sunnyDays</em></strong>.&nbsp;</p>
<ul>
<li><strong><em>sunnyDays</em></strong> is assigned the value of <strong>1</strong>.</li>
</ul>
<p>&nbsp;</p>
<p>This process adds <strong>1</strong> to <strong><em>sunnyDays</em></strong> every time (<strong><em>noonCond[i]</em></strong> == “Sunny”)</p>
</section>
</section>
<section id="application" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="application"><span class="header-section-number">12</span> Application:</h2>
<p>1) Why must the state variable be declared outside the <strong><em>for</em></strong> loop as opposed to inside the <strong><em>for</em></strong> loop?&nbsp; Think about what happens to the state variable every time the for loop cycles if it is declared inside the for loop.&nbsp; Put the answer in comments at the top of your script.</p>
<p>&nbsp;</p>
<p>2) Create one <strong><em>for</em></strong> loop that outputs the (a) square (2nd power), cube (3rd power), and cube root (1/3<sup>rd</sup> power) for the numbers 1 through 10.</p>
<p>&nbsp;</p>
<p>3) Using a <strong><em>for</em></strong> loop, find out how many days had high temperatures less than 50.</p>
<p>&nbsp;</p>
<p>4) Using a <strong><em>for</em></strong> loop, find out how many even days were cloudy</p>
<p>&nbsp;</p>
<p>5) Using a <strong><em>for</em></strong> loop, find out how many of the last 8 days were cloudy.</p>
<p>&nbsp;</p>
<p>6) Challenge: Using <strong><em>for</em></strong> loops, find the total precipitation (i.e., add up all the <strong><em>precipitation</em></strong> values).&nbsp; Hint: you keep adding each new precipitation value to the total precipitation.</p>
<p>Save the script as&nbsp;<strong><em>app</em></strong>1-10<strong><em>.r</em></strong> in your&nbsp;<strong><em>scripts</em></strong> folder and&nbsp; email your Project Folder to Charlie Belinsky at belinsky@msu.edu.</p>
<p>&nbsp;</p>
<p><a href="..\content/DEVELOPMENT/2020/courses/DEV-belinsky-2020-ProgrammingFundamentalsUsingR/R/Lessons/1-01_Setup_and_RStudio_Projects.html?ou=1247781#zip">Instructions for zipping the Project Folder are here.</a></p>
<p>&nbsp;</p>
<p>If you have any questions regarding this application, feel free to email them to Charlie Belinsky at belinsky@msu.edu.</p>
<section id="questions-to-answer" class="level3" data-number="12.1">
<h3 data-number="12.1" class="anchored" data-anchor-id="questions-to-answer"><span class="header-section-number">12.1</span> Questions to answer</h3>
<p>Answer the following in comments inside your application script:</p>
<ol type="1">
<li><p>What was your level of comfort with the lesson/application?</p></li>
<li><p>What areas of the lesson/application confused or still confuses you?</p></li>
<li><p>What are some things you would like to know more about that is related to, but not covered in, this lesson?</p></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>