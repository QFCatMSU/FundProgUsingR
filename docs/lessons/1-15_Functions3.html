<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.13">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1-15: Functions 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-66ab7fd5e73b7f0a764e0d49b3e29ab1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-72661a85cb42d0e740a1e23e6bdfe279.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="shortcut icon" href="https://qfcatmsu.github.io/assets/quarto/qfc_icon.png">
<script>mod=true; menuCollapse=true;</script>
<script src="https://qfcatmsu.github.io/assets/quarto/qfc_styles.js"></script>
 


<link rel="stylesheet" href="https://qfcatmsu.github.io/assets/quarto/qfc_styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">1-15: Functions 3</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><b>Fundamentals of Programming class</b></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/0-01-IntroductionAndSyllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction and Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-01-RStudioProjectsSetup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-01: RStudio Projects Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-02-Variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-02: Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-03_Mathematical_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-03: Mathematical Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-04_Vectors_And_Data_Frames.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-04: Vectors and Data Frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-05_Functions_Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-05: Functions Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-06_Run_and_Source.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-06: Run and Source</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-07_Outputs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-07: Outputs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-08_Conditional_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-08: Conditional Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-09_If_Else_Statements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-09: If-Else Statements</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-10_For_Loops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-10: For Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-11_For_Loops_and_State_Varibles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-11: For Loops and State Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-12_MultipleConditions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-12: Multiple Conditions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-13_Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-13: Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-14_Functions2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-14: Functions 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/1-15_Functions3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1-15: Functions 3</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title"><b>Lesson Content</b></h2>
   
  <ul>
  <li><a href="#sec-first" id="toc-sec-first" class="nav-link active" data-scroll-target="#sec-first"><span class="header-section-number">1</span> Purpose</a></li>
  <li><a href="#questions-about-the-material" id="toc-questions-about-the-material" class="nav-link" data-scroll-target="#questions-about-the-material"><span class="header-section-number">2</span> Questions about the material…</a></li>
  <li><a href="#functions-within-a-script" id="toc-functions-within-a-script" class="nav-link" data-scroll-target="#functions-within-a-script"><span class="header-section-number">3</span> Functions within a script</a>
  <ul class="collapse">
  <li><a href="#functions-like-variables-need-to-be-declared-first" id="toc-functions-like-variables-need-to-be-declared-first" class="nav-link" data-scroll-target="#functions-like-variables-need-to-be-declared-first"><span class="header-section-number">3.1</span> functions, like variables, need to be declared first</a></li>
  </ul></li>
  <li><a href="#checking-multiple-values-for-prime" id="toc-checking-multiple-values-for-prime" class="nav-link" data-scroll-target="#checking-multiple-values-for-prime"><span class="header-section-number">4</span> Checking multiple values for prime</a>
  <ul class="collapse">
  <li><a href="#set-up-the-return-value" id="toc-set-up-the-return-value" class="nav-link" data-scroll-target="#set-up-the-return-value"><span class="header-section-number">4.1</span> Set up the return value</a></li>
  <li><a href="#for-loops-within-a-for-loops" id="toc-for-loops-within-a-for-loops" class="nav-link" data-scroll-target="#for-loops-within-a-for-loops"><span class="header-section-number">4.2</span> for loops within a for loops</a></li>
  <li><a href="#two-index-values-i-and-j" id="toc-two-index-values-i-and-j" class="nav-link" data-scroll-target="#two-index-values-i-and-j"><span class="header-section-number">4.3</span> Two index values: i and j</a></li>
  <li><a href="#return-value" id="toc-return-value" class="nav-link" data-scroll-target="#return-value"><span class="header-section-number">4.4</span> REturn value</a></li>
  <li><a href="#testing-out-isprime3" id="toc-testing-out-isprime3" class="nav-link" data-scroll-target="#testing-out-isprime3"><span class="header-section-number">4.5</span> Testing out isPrime3()</a></li>
  </ul></li>
  <li><a href="#a-matrix-of-values" id="toc-a-matrix-of-values" class="nav-link" data-scroll-target="#a-matrix-of-values"><span class="header-section-number">5</span> A Matrix of values</a>
  <ul class="collapse">
  <li><a href="#matrix-setup" id="toc-matrix-setup" class="nav-link" data-scroll-target="#matrix-setup"><span class="header-section-number">5.1</span> matrix setup</a></li>
  <li><a href="#for-loops-handling-matrix-rows-and-columns" id="toc-for-loops-handling-matrix-rows-and-columns" class="nav-link" data-scroll-target="#for-loops-handling-matrix-rows-and-columns"><span class="header-section-number">5.2</span> for loops handling matrix rows and columns</a></li>
  <li><a href="#populating-the-matrix" id="toc-populating-the-matrix" class="nav-link" data-scroll-target="#populating-the-matrix"><span class="header-section-number">5.3</span> Populating the matrix:</a></li>
  <li><a href="#return-the-matrix-back-to-the-caller" id="toc-return-the-matrix-back-to-the-caller" class="nav-link" data-scroll-target="#return-the-matrix-back-to-the-caller"><span class="header-section-number">5.4</span> REturn the matrix back to the caller</a></li>
  <li><a href="#testing-out-windchill" id="toc-testing-out-windchill" class="nav-link" data-scroll-target="#testing-out-windchill"><span class="header-section-number">5.5</span> Testing out windChill</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="header-section-number">6</span> Application</a>
  <ul class="collapse">
  <li><a href="#questions-to-answer" id="toc-questions-to-answer" class="nav-link" data-scroll-target="#questions-to-answer"><span class="header-section-number">6.1</span> Questions to answer</a></li>
  </ul></li>
  <li><a href="#functions-and-arguments" id="toc-functions-and-arguments" class="nav-link" data-scroll-target="#functions-and-arguments"><span class="header-section-number">7</span> Functions and arguments</a>
  <ul class="collapse">
  <li><a href="#arguments-and-variables" id="toc-arguments-and-variables" class="nav-link" data-scroll-target="#arguments-and-variables"><span class="header-section-number">7.1</span> Arguments and variables</a></li>
  </ul></li>
  <li><a href="#functions-are-kind-of-like-black-boxes" id="toc-functions-are-kind-of-like-black-boxes" class="nav-link" data-scroll-target="#functions-are-kind-of-like-black-boxes"><span class="header-section-number">8</span> Functions are kind of like black boxes</a></li>
  <li><a href="#creating-your-own-functions" id="toc-creating-your-own-functions" class="nav-link" data-scroll-target="#creating-your-own-functions"><span class="header-section-number">9</span> Creating your own functions</a>
  <ul class="collapse">
  <li><a href="#categorizing-temperatures-using-a-function" id="toc-categorizing-temperatures-using-a-function" class="nav-link" data-scroll-target="#categorizing-temperatures-using-a-function"><span class="header-section-number">9.1</span> Categorizing temperatures using a function</a></li>
  <li><a href="#getting-functions-into-a-script" id="toc-getting-functions-into-a-script" class="nav-link" data-scroll-target="#getting-functions-into-a-script"><span class="header-section-number">9.2</span> Getting functions into a script</a></li>
  <li><a href="#calling-functions" id="toc-calling-functions" class="nav-link" data-scroll-target="#calling-functions"><span class="header-section-number">9.3</span> Calling functions</a></li>
  <li><a href="#return-values" id="toc-return-values" class="nav-link" data-scroll-target="#return-values"><span class="header-section-number">9.4</span> Return values</a></li>
  </ul></li>
  <li><a href="#adding-an-argument-for-the-unit" id="toc-adding-an-argument-for-the-unit" class="nav-link" data-scroll-target="#adding-an-argument-for-the-unit"><span class="header-section-number">10</span> Adding an argument for the unit</a>
  <ul class="collapse">
  <li><a href="#calling-tempcategory2" id="toc-calling-tempcategory2" class="nav-link" data-scroll-target="#calling-tempcategory2"><span class="header-section-number">10.1</span> Calling tempCategory2()</a></li>
  <li><a href="#setting-vs-comparing" id="toc-setting-vs-comparing" class="nav-link" data-scroll-target="#setting-vs-comparing"><span class="header-section-number">10.2</span> setting ( = ) vs comparing ( == )</a></li>
  </ul></li>
  <li><a href="#boolean-argument" id="toc-boolean-argument" class="nav-link" data-scroll-target="#boolean-argument"><span class="header-section-number">11</span> Boolean argument</a>
  <ul class="collapse">
  <li><a href="#using-tempcategory3" id="toc-using-tempcategory3" class="nav-link" data-scroll-target="#using-tempcategory3"><span class="header-section-number">11.1</span> Using tempCategory3()</a></li>
  <li><a href="#advantagesdisadvantages-of-using-boolean" id="toc-advantagesdisadvantages-of-using-boolean" class="nav-link" data-scroll-target="#advantagesdisadvantages-of-using-boolean"><span class="header-section-number">11.2</span> Advantages/disadvantages of using Boolean</a></li>
  <li><a href="#using-tempcategory4" id="toc-using-tempcategory4" class="nav-link" data-scroll-target="#using-tempcategory4"><span class="header-section-number">11.3</span> Using tempCategory4()</a></li>
  </ul></li>
  <li><a href="#using-a-vector-instead-of-a-single-value" id="toc-using-a-vector-instead-of-a-single-value" class="nav-link" data-scroll-target="#using-a-vector-instead-of-a-single-value"><span class="header-section-number">12</span> Using a vector instead of a single value</a>
  <ul class="collapse">
  <li><a href="#for-loop-to-cycle-through-every-value" id="toc-for-loop-to-cycle-through-every-value" class="nav-link" data-scroll-target="#for-loop-to-cycle-through-every-value"><span class="header-section-number">12.1</span> For loop to cycle through every value</a></li>
  <li><a href="#index-the-temperature-values" id="toc-index-the-temperature-values" class="nav-link" data-scroll-target="#index-the-temperature-values"><span class="header-section-number">12.2</span> Index the temperature values</a></li>
  <li><a href="#return-a-vector-output" id="toc-return-a-vector-output" class="nav-link" data-scroll-target="#return-a-vector-output"><span class="header-section-number">12.3</span> Return a vector output</a></li>
  <li><a href="#using-tempcategory5" id="toc-using-tempcategory5" class="nav-link" data-scroll-target="#using-tempcategory5"><span class="header-section-number">12.4</span> Using tempCategory5()</a></li>
  <li><a href="#saving-vectors-to-a-data-frame" id="toc-saving-vectors-to-a-data-frame" class="nav-link" data-scroll-target="#saving-vectors-to-a-data-frame"><span class="header-section-number">12.5</span> Saving vectors to a data frame</a></li>
  </ul></li>
  <li><a href="#application-1" id="toc-application-1" class="nav-link" data-scroll-target="#application-1"><span class="header-section-number">13</span> Application</a>
  <ul class="collapse">
  <li><a href="#questions-to-answer-1" id="toc-questions-to-answer-1" class="nav-link" data-scroll-target="#questions-to-answer-1"><span class="header-section-number">13.1</span> Questions to answer</a></li>
  <li><a href="#end-of-unit-survey" id="toc-end-of-unit-survey" class="nav-link" data-scroll-target="#end-of-unit-survey"><span class="header-section-number">13.2</span> End-of-unit survey</a></li>
  </ul></li>
  <li><a href="#extension-creating-a-factor-categorical-vector" id="toc-extension-creating-a-factor-categorical-vector" class="nav-link" data-scroll-target="#extension-creating-a-factor-categorical-vector"><span class="header-section-number">14</span> Extension: Creating a factor (categorical) vector</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">1-15: Functions 3</h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<section id="sec-first" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-first"><span class="header-section-number">1</span> Purpose</h2>
<ul>
<li>Add page number (PDF), remove header/footer</li>
</ul>
</section>
<section id="questions-about-the-material" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="questions-about-the-material"><span class="header-section-number">2</span> Questions about the material…</h2>
<p>The files for this lesson:</p>
<ul>
<li><p>Script (only one this lesson):&nbsp;<a href="../scripts/1-15_Functions3.R">you can download the script here</a></p></li>
<li><p>Data (should there be data?)</p></li>
</ul>
<p>&nbsp;</p>
<p>If you have any questions about the material in this lesson, feel free to email them to the instructor, Charlie Belinsky, at belinsky@msu.edu.</p>
</section>
<section id="functions-within-a-script" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="functions-within-a-script"><span class="header-section-number">3</span> Functions within a script</h2>
<p>In the previous two lessons, we created a separate script for the functions. For this lesson, the functions we use will be put inside the main script. This is not usually the best place to put functions (why this is true will be an application question). However, there are many occasions where you will see functions put directly inside a script, so it is good to be familiar with this practice.</p>
<section id="functions-like-variables-need-to-be-declared-first" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="functions-like-variables-need-to-be-declared-first"><span class="header-section-number">3.1</span> functions, like variables, need to be declared first</h3>
<p>Functions are like variables in that they store information to a named objects – and <span class="hl">objects must be declared before they are used</span>. If you are going to put a function directly in a script then you need to declare the function before you call the function.</p>
</section>
</section>
<section id="checking-multiple-values-for-prime" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="checking-multiple-values-for-prime"><span class="header-section-number">4</span> Checking multiple values for prime</h2>
<p>For the first function, we have modified <strong><em>isPrime2()</em></strong> from last lesson so that it can check multiple numbers for prime. Instead of one number being passed in to check for prime, the caller passes in a vector of numbers and <strong><em>isPrime3()</em></strong> will check through each number to see which are prime.</p>
<p>&nbsp;</p>
<p>In this case, <u><strong><em>isPrime3()</em></strong></u> will return a <strong><em>TRUE/FALSE</em></strong> vector that marks each number as prime (<strong>TRUE</strong>) or not prime (<strong>FALSE</strong>).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does not handle one or two well</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>isPrime3 <span class="ot">=</span> <span class="cf">function</span>(vals)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  isPrime <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="fu">length</span>(vals)));</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(isPrime) <span class="ot">=</span> vals; </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vals))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(vals[i]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(vals[i] <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        isPrime[i] <span class="ot">=</span> <span class="cn">FALSE</span>;</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(isPrime);</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="set-up-the-return-value" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="set-up-the-return-value"><span class="header-section-number">4.1</span> Set up the return value</h3>
<p>The function returns a Boolean vector to the caller that is the same length as the number of dividends the caller passed in .</p>
<p>&nbsp;</p>
<p>All numbers are assumed to be prime (<strong>TRUE</strong>) before they get checked in the <strong><em>for</em></strong> loops. In the <strong><em>for</em></strong> loops, if one number divides the dividend evenly then we switch the value to <strong>FALSE</strong>.</p>
<p>&nbsp;</p>
<p>&lt;The Out Loop&gt;</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vals))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(vals[i]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(vals[i] <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        isPrime[i] <span class="ot">=</span> <span class="cn">FALSE</span>;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>&lt;The Inner Loop&gt;</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(vals[i]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(vals[i] <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        isPrime[i] <span class="ot">=</span> <span class="cn">FALSE</span>;</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>&lt;Environment: show rep() and names() &gt;</p>
<p>&lt;use breakpoints here to show Environment??&gt;</p>
</section>
<section id="for-loops-within-a-for-loops" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="for-loops-within-a-for-loops"><span class="header-section-number">4.2</span> for loops within a for loops</h3>
<p>In <strong><em>isPrime2()</em></strong>, we needed a <strong><em>for</em></strong> loop so we could cycle through all numbers to check if any of them divided the value evenly.</p>
<p>&nbsp;</p>
<p>In <strong><em>isPrime3()</em></strong>, we need to add a <strong><em>for</em></strong> loop that goes through each value we are checking for prime</p>
<p>&nbsp;</p>
<p>&lt;highlight outer for loop here&gt;</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does not handle one or two well</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>isPrime3 <span class="ot">=</span> <span class="cf">function</span>(vals)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  isPrime <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="fu">length</span>(vals)));</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(isPrime) <span class="ot">=</span> vals; </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vals))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(vals[i]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(vals[i] <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        isPrime[i] <span class="ot">=</span> <span class="cn">FALSE</span>;</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(isPrime);</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="two-index-values-i-and-j" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="two-index-values-i-and-j"><span class="header-section-number">4.3</span> Two index values: i and j</h3>
<p>In general, in programming the first, or outer, for loop uses i as its cycling value and the second, or inner, for loop uses j.</p>
<p>&nbsp;</p>
<p>This is not a hard-and-fast rule, and it is not neccessarity best practice, but it is what we will use for now.</p>
<p>&lt;highlight i and j&gt;</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does not handle one or two well</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>isPrime3 <span class="ot">=</span> <span class="cf">function</span>(vals)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  isPrime <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="fu">length</span>(vals)));</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(isPrime) <span class="ot">=</span> vals; </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vals))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(vals[i]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(vals[i] <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        isPrime[i] <span class="ot">=</span> <span class="cn">FALSE</span>;</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(isPrime);</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="return-value" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="return-value"><span class="header-section-number">4.4</span> REturn value</h3>
<p>&lt;highlight return – talk about how its a vector (like the return value in <strong><em>findFactors()</em></strong> )&gt;</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does not handle one or two well</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>isPrime3 <span class="ot">=</span> <span class="cf">function</span>(vals)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  isPrime <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="fu">length</span>(vals)));</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(isPrime) <span class="ot">=</span> vals; </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vals))</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(vals[i]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(vals[i] <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        isPrime[i] <span class="ot">=</span> <span class="cn">FALSE</span>;</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(isPrime);</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="testing-out-isprime3" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="testing-out-isprime3"><span class="header-section-number">4.5</span> Testing out isPrime3()</h3>
<p>&nbsp;</p>
</section>
</section>
<section id="a-matrix-of-values" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="a-matrix-of-values"><span class="header-section-number">5</span> A Matrix of values</h2>
<p>We have a second function that also uses <strong><em>for</em></strong> loops within <strong><em>for</em></strong> loops. In this case, the for loops are creating a two-dimensional vector called a <span class="hl">matrix</span>. The matrix contains wind chill values calculated from temperatures (rows) and wind speeds (columns)</p>
<p>&lt;image of matrix&gt;</p>
<section id="matrix-setup" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="matrix-setup"><span class="header-section-number">5.1</span> matrix setup</h3>
<p>Structuring is the most important part – proper structure makes <strong><em>for</em></strong> loops much easier to embed.</p>
<p>&nbsp;</p>
<p>Much like <strong><em>isPrime3()</em></strong>, one of the most important tasks is setting up the return value, which is a two-dimensional matrix whose length and width are determined by the number of temperature and wind speed values:</p>
<p>&nbsp;</p>
<p>Create the sequences based on user input</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>tempSeq <span class="ot">=</span> <span class="fu">seq</span>(tempStart, tempEnd, tempStep) </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>windSeq <span class="ot">=</span> <span class="fu">seq</span>(windStart, windEnd, windStep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Get the length of each sequence (this is the number of rows and columns):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  numRows <span class="ot">=</span> <span class="fu">length</span>(tempSeq);</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  numCols <span class="ot">=</span> <span class="fu">length</span>(windSeq);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Create a blank matrix with the appropriate number of rows and columns:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>windChillTable <span class="ot">=</span> <span class="fu">matrix</span>(<span class="at">nrow=</span>numRows, <span class="at">ncol=</span>numCols); </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Give the rows and columns names that match the temperature and wind speed values they represent:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(windChillTable) <span class="ot">=</span> tempSeq; </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(windChillTable) <span class="ot">=</span> windSeq;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="for-loops-handling-matrix-rows-and-columns" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="for-loops-handling-matrix-rows-and-columns"><span class="header-section-number">5.2</span> for loops handling matrix rows and columns</h3>
<p>&lt;explcitly talk about the inner and out for loops and highlight them&gt;</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numRows)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numCols)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      windChillMatrix[i,j] <span class="ot">=</span> <span class="fl">35.74</span> <span class="sc">+</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">0.6215</span><span class="sc">*</span>tempSeq[i] <span class="sc">-</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">35.75</span><span class="sc">*</span>(windSeq[j]<span class="sc">^</span><span class="fl">0.16</span>) <span class="sc">+</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">0.4275</span><span class="sc">*</span>tempSeq[i]<span class="sc">*</span>(windSeq[j]<span class="sc">^</span><span class="fl">0.16</span>);</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numRows)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>numCols)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>      windChillMatrix[i,j] <span class="ot">=</span> <span class="fl">35.74</span> <span class="sc">+</span> </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">0.6215</span><span class="sc">*</span>tempSeq[i] <span class="sc">-</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">35.75</span><span class="sc">*</span>(windSeq[j]<span class="sc">^</span><span class="fl">0.16</span>) <span class="sc">+</span> </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">0.4275</span><span class="sc">*</span>tempSeq[i]<span class="sc">*</span>(windSeq[j]<span class="sc">^</span><span class="fl">0.16</span>);</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="populating-the-matrix" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="populating-the-matrix"><span class="header-section-number">5.3</span> Populating the matrix:</h3>
<p>This line of code calculates a wind chill based on the i<sup>th</sup> temperature and j<sup>th</sup> wind speed temperature values (based on the <a href="https://www.weather.gov/media/epz/wxcalc/windChill.pdf">wind chill formula given by the National Weather Service</a>) and adds the value to the <strong><em>windChillMatrix</em></strong> at the appropriate position:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>      windChillMatrix[i,j] <span class="ot">=</span> <span class="fl">35.74</span> <span class="sc">+</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">0.6215</span><span class="sc">*</span>tempSeq[i] <span class="sc">-</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">35.75</span><span class="sc">*</span>(windSeq[j]<span class="sc">^</span><span class="fl">0.16</span>) <span class="sc">+</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fl">0.4275</span><span class="sc">*</span>tempSeq[i]<span class="sc">*</span>(windSeq[j]<span class="sc">^</span><span class="fl">0.16</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="return-the-matrix-back-to-the-caller" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="return-the-matrix-back-to-the-caller"><span class="header-section-number">5.4</span> REturn the matrix back to the caller</h3>
<p>The fully populated <strong><em>windChillMatrix</em></strong> is returned to the caller. When we look at it in RStudio, we can see the values</p>
<p>&nbsp;</p>
<p>&lt;View windChillMatrix in RStudio&gt;</p>
</section>
<section id="testing-out-windchill" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="testing-out-windchill"><span class="header-section-number">5.5</span> Testing out windChill</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
</section>
</section>
<section id="application" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="application"><span class="header-section-number">6</span> Application</h2>
<p>1) Why might is be better to put functions in a separate script?</p>
<p>&nbsp;</p>
<p>2) heat index matrix</p>
<p>error checking the matrix</p>
<p>&nbsp;</p>
<p>3) find all connected #s within a List</p>
<ul>
<li><p>find pairs that evenly divide</p></li>
<li><p>return named vector</p>
<ul>
<li><p>dividend1: divisor1</p></li>
<li><p>dividend2: divisor2</p></li>
<li><p>…</p></li>
</ul></li>
</ul>
<p>&nbsp;</p>
<p>4) difference between #s in vector</p>
<p>&nbsp;<br>
5) MLE Calc</p>
<p>&nbsp;</p>
<p>6) Create a function that finds the <span class="hl">difference in temperatures</span> between consecutive days and returns the temperature differences as a vector.</p>
<p>&nbsp;</p>
<p>So if you have four high temperatures: <strong>40, 45, 35, 42</strong>:</p>
<ul>
<li><p>the four calculations would be: <strong>(no calculation), (45-40), (35-45), (42-35)</strong></p></li>
<li><p>and the return vector would be:&nbsp; <strong>(NA, 5, -10, 7</strong></p></li>
</ul>
<p><span class="note">Note: The first value of the return vector is always NA because there is nothing to subtract.</span></p>
<p><span class="note">Save you script file as <strong>app1-15.r</strong>&nbsp; in the <strong>scripts</strong> folder of your RStudio Project for the class.</span></p>
<p>&nbsp;</p>
<p>Save the script as&nbsp;<strong><em>app</em></strong>1-15<strong><em>.r</em></strong> in your&nbsp;<strong><em>scripts</em></strong> folder and&nbsp; email your Project Folder to Charlie Belinsky at belinsky@msu.edu.</p>
<p>&nbsp;</p>
<p><a href="1-01-RStudioProjectsSetup.html#sec-zip-folder" target="_blank">Instructions for zipping the Project Folder are here.</a></p>
<p>&nbsp;</p>
<p>If you have any questions regarding this application, feel free to email them to Charlie Belinsky at belinsky@msu.edu.</p>
<section id="questions-to-answer" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="questions-to-answer"><span class="header-section-number">6.1</span> Questions to answer</h3>
<p>Answer the following in comments inside your application script:</p>
<ol type="1">
<li><p>What was your level of comfort with the lesson/application?</p></li>
<li><p>What areas of the lesson/application confused or still confuses you?</p></li>
<li><p>What are some things you would like to know more about that is related to, but not covered in, this lesson?</p></li>
</ol>
<p>____</p>
</section>
</section>
<section id="functions-and-arguments" class="level2" data-link="Functions and arguments" data-number="7">
<h2 data-link="Functions and arguments" data-number="7" class="anchored" data-anchor-id="functions-and-arguments"><span class="header-section-number">7</span> Functions and arguments</h2>
<p>In this lesson we will build up to a function that takes two arguments:</p>
<ul>
<li><p>a vector of temperature values</p></li>
<li><p>the units of the temperature (e.g., F, C)</p></li>
</ul>
<p>&nbsp;</p>
<p>And the function will return:</p>
<ul>
<li>a vector that has categorical values for the temperatures (e.g.&nbsp;“high”, “low”, “medium”).</li>
</ul>
<p>&nbsp;</p>
<p>From the outside the function will look like this:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tempCategory5 <span class="ot">=</span> <span class="cf">function</span>(tempVector, <span class="at">unit=</span><span class="st">"F"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong><em>tempVector</em></strong> and <strong><em>unit</em></strong> are the two arguments for the function and <strong><em>unit</em></strong> is given a default value of “F” (Fahrenheit), but can be changed by the caller.&nbsp;</p>
<section id="arguments-and-variables" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="arguments-and-variables"><span class="header-section-number">7.1</span> Arguments and variables</h3>
<p><span class="hl">Arguments are variables</span> – more specifically, argumentsare variables that are:</p>
<ul>
<li>set by the caller of the function</li>
</ul>
<pre><code>-   or, sometimes set to default value by the function if the caller does not set the value</code></pre>
<ul>
<li>used inside the function’s codeblock</li>
</ul>
<p>&nbsp;</p>
<p>So, <strong><em>tempCategory5()</em></strong> has two variables that can be set by the caller (<strong><em>tempVector</em></strong> and <strong><em>unit</em></strong>).&nbsp; It might have more variables inside, but those are hidden from the caller.</p>
</section>
</section>
<section id="functions-are-kind-of-like-black-boxes" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="functions-are-kind-of-like-black-boxes"><span class="header-section-number">8</span> Functions are kind of like black boxes</h2>
<p>R has numerous built-in function in what is called the R Base package, the R Base package is automatically installed in every version of R. <a href="#0">Here is a list of all the functions in R Base</a>. Even though these function are not a part of your script, you can access any of these functions from your script – you just need to know what arguments to pass to the function.</p>
<p>&nbsp;</p>
<p>Most functions have arguments.&nbsp; <strong><em>mean()</em></strong> will take the <strong><em>x</em></strong> value passed in by the caller and find the mean value.&nbsp; It will probably do this by adding all the value and dividing that by the number of values.&nbsp; But, we do not know this for sure because we cannot see inside a function – we just see the input (arguments) and the output (return value).</p>
<p>&nbsp;</p>
<p>When you call <strong><em>mean()</em></strong>, you are setting the variable <strong><em>x</em></strong> for the function and <strong><em>x</em></strong> gets used inside the function.&nbsp; You can also, optionally, set <strong><em>trim</em></strong> and <strong><em>na.rm</em></strong> – but those already have default values (<strong>0</strong> and <strong>FALSE</strong>).</p>
<div id="fig-mean-function" class="fs quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mean-function-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/R-1-15_MeanFunction.png" class="fs img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mean-function-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The mean() function – note than stat.ethz.ch is the website used in the RStudio Help tab
</figcaption>
</figure>
</div>
</section>
<section id="creating-your-own-functions" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="creating-your-own-functions"><span class="header-section-number">9</span> Creating your own functions</h2>
<p>You can create your own function to perform a task that you do multiple times, and this function can be used in any of your scripts.&nbsp; It is best to put functions in a script of their own because they should be designed to operate independently.&nbsp; Putting functions in a separate script also helps reinforce the independence of functions from the rest of script.</p>
<p>&nbsp;</p>
<p>We will start be creating a new script file called <strong><em>termperature.r</em></strong> and save it to the <strong><em>script</em></strong> folder.&nbsp; <strong><em>temperature.r</em></strong>.</p>
<section id="categorizing-temperatures-using-a-function" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="categorizing-temperatures-using-a-function"><span class="header-section-number">9.1</span> Categorizing temperatures using a function</h3>
<p>We will start off simply and have our first function, <strong><em>tempCategory()</em></strong>, take one value as an argument and give a category for the temperature (e.g., hot, warm, cold).&nbsp; This argument will be called <strong><em>tempValue</em></strong>.&nbsp; <strong><em>tempValue</em></strong> could be given a default value (e.g., <strong><em>tempValue = 50</em></strong>), but this probably does not make sense because there are too many values the caller could use (and infinitely many if you include decimals).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tempCategory <span class="ot">=</span> <span class="cf">function</span>(tempValue)  <span class="co"># there is no default value for tempValue {   # like if-else statements and for loops, the curly brackets create a codeblock   # attached to the function -- and all code inside the function gets indented }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next we add in a <strong><em>if-else-if</em></strong> structure to categorize the temperature value:</p>
<ul>
<li><p>freezing (1-20 degrees)</p></li>
<li><p>cold (21-40 degrees)</p></li>
<li><p>moderate (41-60 degrees)</p></li>
<li><p>warm (61-80 degrees)</p></li>
<li><p>hot (81-100 degrees)</p></li>
</ul>
<p>&nbsp;</p>
<p>And for each <strong><em>if-else-if</em></strong> statement, we will return the temperature category.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>tempCategory <span class="ot">=</span> <span class="cf">function</span>(tempValue) {   <span class="cf">if</span>(tempValue <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> tempValue <span class="sc">&lt;=</span> <span class="dv">20</span>)   {     <span class="fu">return</span>(<span class="st">"freezing"</span>);   }   <span class="cf">else</span> <span class="cf">if</span>(tempValue <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> tempValue <span class="sc">&lt;=</span> <span class="dv">40</span>)   {     <span class="fu">return</span>(<span class="st">"cold"</span>);   }   <span class="cf">else</span> <span class="cf">if</span>(tempValue <span class="sc">&gt;=</span> <span class="dv">41</span> <span class="sc">&amp;</span> tempValue <span class="sc">&lt;=</span> <span class="dv">60</span>)   {     <span class="fu">return</span>(<span class="st">"moderate"</span>);   }   <span class="cf">else</span> <span class="cf">if</span>(tempValue <span class="sc">&gt;=</span> <span class="dv">61</span> <span class="sc">&amp;</span> tempValue <span class="sc">&lt;=</span> <span class="dv">80</span>)   {     <span class="fu">return</span>(<span class="st">"warm"</span>);   }   <span class="cf">else</span> <span class="cf">if</span>(tempValue <span class="sc">&gt;=</span> <span class="dv">81</span> <span class="sc">&amp;</span> tempValue <span class="sc">&lt;=</span> <span class="dv">100</span>)   {     <span class="fu">return</span>(<span class="st">"hot"</span>);   } }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="getting-functions-into-a-script" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="getting-functions-into-a-script"><span class="header-section-number">9.2</span> Getting functions into a script</h3>
<p><strong><em>tempCategory()</em></strong> exists in the script <strong><em>temperature.r</em></strong> in the scripts folder of you project.&nbsp; <strong><em>tempCategory()</em></strong> can be used in any script file in your project by including the line:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="at">file=</span><span class="st">"scripts/temperature.r"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The line above reads all the functions inside <strong><em>temperature.r</em></strong> and puts them into the <strong><em>Environment</em></strong> so that the rest of the script can use the functions inside <strong><em>temperature.r</em></strong>.</p>
<div class="sourceCode" id="cb19" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>tempCategory<span class="sc">:</span>   <span class="cf">function</span> (tempValue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="calling-functions" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="calling-functions"><span class="header-section-number">9.3</span> Calling functions</h3>
<p>Now we can call <strong><em>tempCategory()</em></strong>.</p>
<p>&nbsp;</p>
<p><span class="hl">The argument <strong>tempValue</strong> is a variable</span> that is set by the caller and used by the function <strong><em>tempCategory()</em></strong>.&nbsp; Here we test out 4 different calls to <strong><em>tempCategory()</em></strong> – each setting <strong><em>tempValue</em></strong> to a value:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cat1a <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="dv">45</span>); cat1b <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="at">tempValue=</span><span class="dv">85</span>); cat1c <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="at">tempValue=</span><span class="dv">17</span>); cat1d <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="sc">-</span><span class="dv">2</span>); </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb21" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>cat1a<span class="sc">:</span>   <span class="st">"moderate"</span> cat1b<span class="sc">:</span>   <span class="st">"hot"</span> cat1c<span class="sc">:</span>   <span class="st">"freezing"</span> cat1d<span class="sc">:</span>   <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When <strong>-2</strong> is the argument, <strong>NULL</strong> is the return value.&nbsp; The function does not handle negative values so <strong>nothing</strong>, or <strong><em>NULL</em></strong>, was returned<strong>.<br>
</strong></p>
<p><span class="note">Note: In programming, NULL is an empty object whereas NA is an empty or nonexistent value.</span></p>
</section>
<section id="return-values" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="return-values"><span class="header-section-number">9.4</span> Return values</h3>
<p>Functions, in many ways, are designed to answer a question from the caller.&nbsp; The answer comes in the form of a return value given by <strong><em>return()</em></strong>.&nbsp; It is up to the caller to determine how to use the return value.&nbsp;&nbsp; When the following line of code is executed:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>cat1b <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="at">tempValue=</span><span class="dv">85</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong><em>tempCategory()</em></strong> is called with the argument <strong><em>tempValue</em></strong> set to <strong>85</strong>.&nbsp; The code inside <strong><em>tempCategory()</em></strong> is executed and the value “hot” is returned.&nbsp; The variable <strong><em>cat1b</em></strong> is set to the return value, “hot”.</p>
</section>
</section>
<section id="adding-an-argument-for-the-unit" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="adding-an-argument-for-the-unit"><span class="header-section-number">10</span> Adding an argument for the unit</h2>
<p>Up to this point we are assuming that the temperature will be in Fahrenheit.&nbsp; But, we want to make the function more robust and allow for both Fahrenheit and Celsius temperatures.&nbsp; This means we need the caller to give us two pieces of information (i.e., two arguments).&nbsp; One that gives the temperature and one that gives the unit.</p>
<p>&nbsp;</p>
<p>The easiest way is to just create a string argument that holds the unit.&nbsp; Since there are only two choices (at this point), we will put a default value of “F”.&nbsp; This means that if the caller does not set <strong><em>unit</em></strong>, the temperature is assumed to be in Fahrenheit:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>tempCategory2 <span class="ot">=</span> <span class="cf">function</span>(tempValue, <span class="at">unit=</span><span class="st">"F"</span>) <span class="co"># there is a default value for unit. {  }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The function will allow for two possibilities units for <strong><em>tempValue</em></strong>: Fahrenheit (F) and Celsius (C).&nbsp; This means we need code to handle both situations.</p>
<p>&nbsp;</p>
<p>The <strong><em>if-else</em></strong> structure already uses Fahrenheit temperatures so we only need to do something extra if the unit is Celsius.&nbsp; The easiest thing to do is convert the Celsius temperatures into Fahrenheit before the <strong><em>if-else</em></strong> structure:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>tempCategory2 <span class="ot">=</span> <span class="cf">function</span>(tempValue, <span class="at">unit=</span><span class="st">"F"</span>) {   «<span class="fu">if</span>(unit <span class="sc">==</span> <span class="st">"C"</span>)»  <span class="co"># if the unit is set to Celsius by the caller   {     «tempValue = (9/5)*tempValue + 32;»    # Convert tempValue to Fahrenheit   }   # note: the if statement above is completely independent from the   #       if-else-if structure below   if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)   {     return("freezing");   }   else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)   {     return("cold");   }   else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)   {     return("moderate");   }   else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)   {     return("warm");   }   else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)   {     return("hot");   } }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="calling-tempcategory2" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="calling-tempcategory2"><span class="header-section-number">10.1</span> Calling tempCategory2()</h3>
<p>Let’s test the <strong><em>unit</em></strong> argument in <strong><em>tempCategory2()</em></strong> from our outside script:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>cat2a <span class="ot">=</span> <span class="fu">tempCategory2</span>(<span class="dv">45</span>);        cat2b <span class="ot">=</span> <span class="fu">tempCategory2</span>(<span class="dv">15</span>, <span class="st">"F"</span>);   cat2c <span class="ot">=</span> <span class="fu">tempCategory2</span>(<span class="dv">15</span>, <span class="st">"C"</span>);                 <span class="co"># 15C ~ 59F cat2d = tempCategory2(tempValue=35, unit="C");  # 35C ~ 95F cat2e = tempCategory2(tempValue=45, unit="C");  # NULL because 45C &gt; 100F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb26" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>cat2a<span class="sc">:</span>   <span class="st">"moderate"</span> cat2b<span class="sc">:</span>   <span class="st">"freezing"</span> cat2c<span class="sc">:</span>   <span class="st">"moderate"</span> cat2d<span class="sc">:</span>   <span class="st">"hot"</span> cat2e<span class="sc">:</span>   <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="setting-vs-comparing" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="setting-vs-comparing"><span class="header-section-number">10.2</span> setting ( = ) vs comparing ( == )</h3>
<p>This is probably a good time to reinforce the difference between these two commonly mixed up operations: ( = ) and ( == ).&nbsp;</p>
<p>The ( <strong>=</strong> ) operation <span class="hl">sets</span>the variable on the left to the value on the right:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="dv">4</span>;           <span class="co"># set a to be 4 tempValue = 45;  # set tempValue to be 45 unit = "F";      # set unit to be "F"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The ( <strong>==</strong> ) operation <span class="hl">compares</span>the variable on the left to the value on the right and returns a Boolean (TRUE/FALSE) value:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">==</span> <span class="dv">4</span>          <span class="co"># Is a equal to 4?  TRUE if a is 4, FALSE otherwise tempValue == 45 # Is tempValue equal to 45? TRUE if tempValue is 45, FALSE otherwise unit == "F"     # Is unit equal to "F"? TRUE if unit is "F", FALSE otherwise</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="note">Note: “F” here means Fahrenheit – another reason to not use T or F to represent TRUE and FALSE</span></p>
</section>
</section>
<section id="boolean-argument" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="boolean-argument"><span class="header-section-number">11</span> Boolean argument</h2>
<p>An alternate way to setup the <strong><em>tempCategory()</em></strong> function is to use a Boolean argument to determine whether the temperature is Fahrenheit or Celsius.&nbsp; A <span class="hl">Boolean</span>has two possible values: <strong>TRUE</strong> and <strong>FALSE</strong>.&nbsp; Boolean values are convenient to use when there are only two choice.&nbsp; In this case the two choice are Fahrenheit and Celsius, or, another way to put it: <strong>Fahrenheit</strong> and <strong>not Fahrenheit</strong>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>tempCategory3 <span class="ot">=</span> <span class="cf">function</span>(tempValue, <span class="at">isFahr=</span><span class="cn">TRUE</span>) <span class="co"># isFahr = FALSE means Celsius {  }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="hl">TRUE and FALSE do not go into quotes.&nbsp; They are predefined variables in R.</span>&nbsp; If you use quotes then R will think you mean the character “T” followed by the character “R” followed by the character “U” followed by the character “E”.&nbsp; This is not the same as the Boolean <strong>TRUE</strong>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>tempCategory3 <span class="ot">=</span> <span class="cf">function</span>(tempValue, <span class="at">isFahr=</span><span class="cn">TRUE</span>) {   <span class="co"># Do not put TRUE and FALSE in quotes. They are variables in R -- not strings.   «if(isFahr == FALSE)»  # the tempValue is Celsius   {     # convert tempValue to Fahrenheit     «tempValue = (9/5)*tempValue + 32;»   }    if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)   {     return("freezing");   }   else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)   {     return("cold");   }   else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)   {     return("moderate");   }   else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)   {     return("warm");   }   else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)   {     return("hot");   } }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="using-tempcategory3" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="using-tempcategory3"><span class="header-section-number">11.1</span> Using tempCategory3()</h3>
<p>Aside from changing the second argument to a Boolean value, this function works the same as the last:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>cat3a <span class="ot">=</span> <span class="fu">tempCategory3</span>(<span class="dv">45</span>); cat3b <span class="ot">=</span> <span class="fu">tempCategory3</span>(<span class="dv">15</span>, <span class="cn">TRUE</span>); cat3c <span class="ot">=</span> <span class="fu">tempCategory3</span>(<span class="dv">15</span>, <span class="cn">FALSE</span>); cat3d <span class="ot">=</span> <span class="fu">tempCategory3</span>(<span class="at">tempValue=</span><span class="dv">35</span>, <span class="at">isFahr=</span><span class="cn">FALSE</span>); cat3e <span class="ot">=</span> <span class="fu">tempCategory3</span>(<span class="at">tempValue=</span><span class="dv">45</span>, <span class="at">isFahr=</span><span class="cn">FALSE</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Since we used the same values and units as last time, the results are the same:</p>
<div class="sourceCode" id="cb32" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>cat3a<span class="sc">:</span>   <span class="st">"moderate"</span> cat3b<span class="sc">:</span>   <span class="st">"freezing"</span> cat3c<span class="sc">:</span>   <span class="st">"moderate"</span> cat3d<span class="sc">:</span>   <span class="st">"hot"</span> cat3e<span class="sc">:</span>   <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="advantagesdisadvantages-of-using-boolean" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="advantagesdisadvantages-of-using-boolean"><span class="header-section-number">11.2</span> Advantages/disadvantages of using Boolean</h3>
<p>The <strong><em>advantages</em></strong> to using Boolean arguments over string arguments:</p>
<ul>
<li><p>The script runs faster.&nbsp; The difference is tiny but tiny differences could become noticeable if you are executing the function 100,000 times.</p></li>
<li><p>The script is less prone to user error.&nbsp; A Boolean has two possible values for the caller: <strong>TRUE</strong> and <strong>FALSE</strong>.&nbsp; Whereas strings can be misinterpreted – someone might type in “Fahr” instead of “F”, or just misspell Fahrenheit and the function will not be able to handle it.</p></li>
</ul>
<p>&nbsp;</p>
<p>The <strong><em>disadvantage</em></strong> to Boolean arguments is that string values are more robust and can handle more complex situations.&nbsp; For instance, you might want to extend the function to include Kelvin temperatures.&nbsp; You cannot handle 3 units (F, K, and C) with one Boolean variable, but you can handle as many units as you want with one string variable – you just need to extend the <strong><em>if-else-if</em></strong> structure that coverts the value:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>tempCategory4 <span class="ot">=</span> <span class="cf">function</span>(tempValue, <span class="at">unit=</span><span class="st">"F"</span>) {   <span class="cf">if</span>(unit <span class="sc">==</span> <span class="st">"C"</span>)   {     tempValue <span class="ot">=</span> (<span class="dv">9</span><span class="sc">/</span><span class="dv">5</span>)<span class="sc">*</span>tempValue <span class="sc">+</span> <span class="dv">32</span>;   }   «else <span class="cf">if</span>(unit <span class="sc">==</span> <span class="st">"K"</span>)»   {     «tempValue <span class="ot">=</span> tempValue <span class="sc">-</span> <span class="dv">273</span>;»      <span class="co"># convert K to C     tempValue = (9/5)*tempValue + 32; # convert C to F   }    if(tempValue &gt;= 1 &amp; tempValue &lt;= 20)   {     return("freezing");   }   else if(tempValue &gt;= 21 &amp; tempValue &lt;= 40)   {     return("cold");   }   else if(tempValue &gt;= 41 &amp; tempValue &lt;= 60)   {     return("moderate");   }   else if(tempValue &gt;= 61 &amp; tempValue &lt;= 80)   {     return("warm");   }   else if(tempValue &gt;= 81 &amp; tempValue &lt;= 100)   {     return("hot");   } }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="note">Note: I broke the conversion from Kelvin to Fahrenheit into 2 steps: Kelvin to Celsius and Celsius to Fahrenheit.&nbsp; This could have been done in one step.</span></p>
</section>
<section id="using-tempcategory4" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="using-tempcategory4"><span class="header-section-number">11.3</span> Using tempCategory4()</h3>
<p>Testing out the Kelvin is less intuitive as 300K is about room temperature:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>cat4a <span class="ot">=</span> <span class="fu">tempCategory4</span>(<span class="dv">305</span>, <span class="st">"K"</span>);   <span class="co"># ~89F cat4b = tempCategory4(270, "K");   # ~26F             cat4c = tempCategory4(285, "K");   # ~53F cat4d = tempCategory4(tempValue=325, unit="K"); # ~125F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Since we used the same values and units as last time, the results are the same:</p>
<div class="sourceCode" id="cb35" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>cat4a<span class="sc">:</span>   <span class="st">"hot"</span> cat4b<span class="sc">:</span>   <span class="st">"cold"</span> cat4c<span class="sc">:</span>   <span class="st">"moderate"</span> cat4d<span class="sc">:</span>   <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="using-a-vector-instead-of-a-single-value" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="using-a-vector-instead-of-a-single-value"><span class="header-section-number">12</span> Using a vector instead of a single value</h2>
<p>Finally, we do not just want to categorize one value at a time, we want to be able to categorize a vector of values.</p>
<p>&nbsp;</p>
<p>There are three changes we need to make to the code to handle vectors instead of single values:</p>
<ol type="1">
<li><p>a <strong><em>for</em></strong> loop to cycle through each value in the vector</p></li>
<li><p>index the temperature vector so that we are checking one value at a time</p></li>
<li><p>a vector output of categories (i.e, we need a category for each value in the vector)</p></li>
</ol>
<section id="for-loop-to-cycle-through-every-value" class="level3" data-number="12.1">
<h3 data-number="12.1" class="anchored" data-anchor-id="for-loop-to-cycle-through-every-value"><span class="header-section-number">12.1</span> For loop to cycle through every value</h3>
<p>We need a <strong><em>for</em></strong> loop to cycle through, and categorize, every value in the vector <strong><em>tempVector</em></strong>.&nbsp; The number of cycles we need is the same as the length of <strong><em>tempVector</em></strong>, which is given by <strong><em>length(tempVector)</em></strong>.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>tempCategory5 <span class="ot">=</span> <span class="cf">function</span>(tempVector, <span class="at">unit=</span><span class="st">"F"</span>) {   «<span class="co"># This part stays the same»    if(unit == "C")    {     tempVector = (9/5)*tempVector + 32;   }   else if(unit == "K")   {     tempValue = tempValue - 273;      # convert K to C     tempValue = (9/5)*tempValue + 32; # convert C to F   }    # go through each value in tempVector   «for(i in 1:length(tempVector))»   {     # the i will index tempVector each time through the loop     # i will go from 1 to the length of the vector   } }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="index-the-temperature-values" class="level3" data-link="Index the temperature values" data-number="12.2">
<h3 data-link="Index the temperature values" data-number="12.2" class="anchored" data-anchor-id="index-the-temperature-values"><span class="header-section-number">12.2</span> Index the temperature values</h3>
<p>Inside the <strong><em>for</em></strong> loop, we need to index the vector, <strong><em>tempVector</em></strong> so that we are only checking one value at a time.&nbsp; <strong><em>i</em></strong> is the value that index <strong><em>tempVector</em></strong> and <strong><em>i</em></strong> changes each time the for loop cycles (<strong><em>i</em></strong> goes from 1 to the length of the vector)</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>tempCategory5 <span class="ot">=</span> <span class="cf">function</span>(tempVector, <span class="at">unit=</span><span class="st">"F"</span>) {   <span class="co"># This part stays the same   if(unit == "C")    {     tempVector = (9/5)*tempVector + 32;   }   else if(unit == "K")   {     tempValue = tempValue - 273;      # convert K to C     tempValue = (9/5)*tempValue + 32; # convert C to F   }    # go through each value in tempVector   for(i in 1:length(tempVector))   {     if(tempVector«[i]» &gt;= 1 &amp; tempVector«[i]» &lt;= 20)     {      }     else if(tempVector«[i]» &gt;= 21 &amp; tempVector«[i]» &lt;= 40)     {      }     else if(tempVector«[i]» &gt;= 41 &amp; tempVector«[i]» &lt;= 60)     {       }     else if(tempVector«[i]» &gt;= 61 &amp; tempVector«[i]» &lt;= 80)     {      }     else if(tempVector«[i]» &gt;= 81 &amp; tempVector«[i]» &lt;= 100)     {      }   } }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="return-a-vector-output" class="level3" data-number="12.3">
<h3 data-number="12.3" class="anchored" data-anchor-id="return-a-vector-output"><span class="header-section-number">12.3</span> Return a vector output</h3>
<p>We are no longer returning a single categorical value, we are returning a vector of categorical values.&nbsp; The return vector is the same size at the temperature vector.</p>
<p>&nbsp;</p>
<p>There are 3 steps here:</p>
<ol type="1">
<li><p>Create a return vector before the <strong><em>for</em></strong> loop (this is a state variable that updates each time through the <strong><em>for</em></strong> loop)</p></li>
<li><p>Append categorical values to the return vector inside the <strong><em>for</em></strong> loop</p></li>
<li><p>Return the vector to the caller after the <strong><em>for</em></strong> loop (after the vector has been fully populated with values)</p></li>
</ol>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>tempCategory5 <span class="ot">=</span> <span class="cf">function</span>(tempVector, <span class="at">unit=</span><span class="st">"F"</span>) {   <span class="co"># This part stays the same   if(unit == "C")    {     tempVector = (9/5)*tempVector + 32;   }   else if(unit == "K")   {     tempValue = tempValue - 273;      # convert K to C     tempValue = (9/5)*tempValue + 32; # convert C to F   }    «# step 1: create a return vector»   «retVector = c();»   # c() means this is a vector    # go through each value in tempVector   for(i in 1:length(tempVector))   {     if(tempVector[i] &gt;= 1 &amp; tempVector[i] &lt;= 20)     {       «# step 2: populate the return value inside the for loop»       «retVector[i] = "freezing";»      }     else if(tempVector[i] &gt;= 21 &amp; tempVector[i] &lt;= 40)     {       retVector[i] = "cold";       }     else if(tempVector[i] &gt;= 41 &amp; tempVector[i] &lt;= 60)     {       retVector[i] = "moderate";       }     else if(tempVector[i] &gt;= 61 &amp; tempVector[i] &lt;= 80)     {       retVector[i] = "warm";       }     else if(tempVector[i] &gt;= 81 &amp; tempVector[i] &lt;= 100)     {       retVector[i] = "hot";       }   }   «# step 3: return the populated vector to the caller:»   «return(retVector);» }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-tempcategory5" class="level3" data-number="12.4">
<h3 data-number="12.4" class="anchored" data-anchor-id="using-tempcategory5"><span class="header-section-number">12.4</span> Using tempCategory5()</h3>
<p>Let’s first test to make sure the function still works with one value:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>cat5a <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="dv">45</span>); cat5b <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="at">tempVector=</span><span class="dv">85</span>); cat5c <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="at">tempVector=</span><span class="dv">17</span>); cat5d <span class="ot">=</span> <span class="fu">tempCategory</span>(<span class="sc">-</span><span class="dv">2</span>); </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb40" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>cat5a<span class="sc">:</span>   <span class="st">"moderate"</span> cat5b<span class="sc">:</span>   <span class="st">"hot"</span> cat5c<span class="sc">:</span>   <span class="st">"freezing"</span> cat5d<span class="sc">:</span>   <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And next test <strong><em>tempCategory5()</em></strong> with vectors that we create using <strong><em>c()</em></strong> and <strong><em>seq()</em></strong>:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cat5e <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">50</span>,<span class="dv">70</span>,<span class="dv">90</span>)); cat5f <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="fu">seq</span>(<span class="at">from=</span><span class="dv">5</span>, <span class="at">to=</span><span class="dv">90</span>, <span class="at">by=</span><span class="dv">20</span>)); cat5g <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="at">tempVector=</span><span class="fu">c</span>(<span class="dv">30</span>,<span class="dv">25</span>,<span class="dv">20</span>,<span class="dv">15</span>,<span class="dv">10</span>), <span class="at">unit=</span><span class="st">"C"</span>); cat5h <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="at">tempVector=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">25</span>, <span class="at">to=</span><span class="sc">-</span><span class="dv">5</span>, <span class="at">by=</span><span class="sc">-</span><span class="dv">5</span>), <span class="at">unit=</span><span class="st">"C"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb42" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>cat5e <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">50</span>,<span class="dv">70</span>,<span class="dv">90</span>)); cat5f <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="fu">seq</span>(<span class="at">from=</span><span class="dv">5</span>, <span class="at">to=</span><span class="dv">90</span>, <span class="at">by=</span><span class="dv">20</span>)); cat5g <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="at">tempVector=</span><span class="fu">c</span>(<span class="dv">30</span>,<span class="dv">25</span>,<span class="dv">20</span>,<span class="dv">15</span>,<span class="dv">10</span>), <span class="at">unit=</span><span class="st">"C"</span>); cat5h <span class="ot">=</span> <span class="fu">tempCategory5</span>(<span class="at">tempVector=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">25</span>, <span class="at">to=</span><span class="sc">-</span><span class="dv">5</span>, <span class="at">by=</span><span class="sc">-</span><span class="dv">5</span>), <span class="at">unit=</span><span class="st">"C"</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And, lastly, test <strong><em>tempCategory5()</em></strong> with vectors from a data frame.&nbsp; For this we will use the Lansing weather data for the year 2016 and use the <strong><em>maxTemp</em></strong> and <strong><em>minTemp</em></strong> columns:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>weatherData <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">"data/LansingNOAA2016.csv"</span>,                         <span class="at">sep=</span><span class="st">","</span>,                        <span class="at">header=</span><span class="cn">TRUE</span>,                         <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>);   cat5i <span class="ot">=</span> <span class="fu">tempCategory5</span>(weatherData<span class="sc">$</span>maxTemp); cat5j <span class="ot">=</span> <span class="fu">tempCategory5</span>(weatherData<span class="sc">$</span>minTemp);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="saving-vectors-to-a-data-frame" class="level3" data-number="12.5">
<h3 data-number="12.5" class="anchored" data-anchor-id="saving-vectors-to-a-data-frame"><span class="header-section-number">12.5</span> Saving vectors to a data frame</h3>
<p>The <strong><em>Environment</em></strong> says that there are <strong>366</strong> values inside <strong><em>cat5i</em></strong> and <strong><em>cat5j</em></strong>, but it would be easier to see the values in context – by adding the vectors to the <strong><em>weatherData</em></strong> data frame.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>  weatherData<span class="sc">$</span>maxTempCat <span class="ot">=</span> cat5i;   weatherData<span class="sc">$</span>minTempCat <span class="ot">=</span> cat5j;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you double-click on <strong><em>weatherData</em></strong> in the <strong><em>Environment</em></strong>, you will see the new columns at the end (<strong><em>maxTempCat</em></strong> and <strong><em>minTempCat</em></strong>).&nbsp; The view in <a href="#fig-add-vector-to-df" class="quarto-xref">Figure&nbsp;2</a> is days at the beginning of the year – so, January and it’s cold.</p>
<div id="fig-add-vector-to-df" class="fs quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-add-vector-to-df-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1744612833.png" class="fs img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-add-vector-to-df-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Adding the temperature vectors to the weatherData data frame
</figcaption>
</figure>
</div>
<p>&nbsp;</p>
<p><a href="#extension-creating-a-factor-categorical-vector">Extension: Creating a factor (categorical) vector</a></p>
</section>
</section>
<section id="application-1" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="application-1"><span class="header-section-number">13</span> Application</h2>
<p>1) Create a script named <strong><em>app1-15.r</em></strong> in your scripts folder.</p>
<p><span class="note">Note: in this application you will by modifying and creating functions in the <strong><em>temperature.r</em></strong> script – these functions all need to be tested in the <strong><em>app1-15.r</em></strong> script.</span></p>
<p>&nbsp;</p>
<p>2) In comments at the top of your script, answer the following questions:</p>
<ul>
<li><p>How do arguments make a function more robust?&nbsp;</p></li>
<li><p>Why does this code from <a href="#functions-and-arguments">Functions and arguments</a> have a default value for <strong><em>unit</em></strong> but not for <strong><em>tempVector</em></strong>?</p></li>
<li><p>Why does the first part of <strong><em>tempCategory5</em></strong> (in <a href="#index-the-temperature-values">Index the temperature values</a>), where you check for the unit and convert all the values in the vector,<span class="hl">not need to be in a <strong><em>for</em></strong> loop</span>?</p></li>
</ul>
<p>&nbsp;</p>
<p>3) Fix the following two issues in <strong><em>tempCategory5()</em></strong>:</p>
<ul>
<li><p>Give errors for temperatures not covered in the <strong><em>if-else-if</em></strong> structure – and have a different error for temperature that are too high and temperatures that are too low.</p></li>
<li><p>The function works for all integer values from 1-100.&nbsp; Have the function work for all decimal values.&nbsp; Some values that do not currently not work (i.e., returns <strong>NULL</strong>) in <strong><em>tempCategory5()</em></strong> are <strong>20.5</strong>, <strong>40.5</strong>, <strong>60.5</strong>, and <strong>80.5</strong>.</p></li>
</ul>
<p>&nbsp;</p>
<p>Questions 4 and 5 can be done <span class="hl">with or without a for loop</span>.&nbsp; You should first get 4 and 5 to work for a single value and then move to multiple values (i.e., vectors)</p>
<p>4) Create <span class="hl">one function</span> in <strong><em>temperature.r</em></strong> that converts a vector from Celsius to Fahrenheit and Fahrenheit to Celsius.&nbsp;</p>
<ul>
<li>Have the function use a Boolean argument to determine the direction of the conversion</li>
</ul>
<p>&nbsp;</p>
<p>5) Create<span class="hl">one function</span> that does all of the following temperature conversions (note: Kelvin = Celsius + 273):</p>
<p>a) F -&gt; C</p>
<p>b) C -&gt; F</p>
<p>c) F -&gt; K</p>
<p>d) C -&gt; K</p>
<p>e) K -&gt; C</p>
<p>f) K -&gt; F</p>
<p>&nbsp;</p>
<p>This can be done with 2 arguments:</p>
<ul>
<li><p>a temperature vector</p></li>
<li><p>a string that gives the conversion type (“FtoC”, “CtoK”…)</p>
<p>&nbsp;</p></li>
</ul>
<p>This method requires an <strong><em>if-else-if</em></strong> structure that looks at the second argument to determine which conversion is needed.</p>
<p>&nbsp;</p>
<p><span class="hl">A better way to do it is with 3 arguments:</span></p>
<ul>
<li><p>the temperature vector</p></li>
<li><p>the unit to convert from</p></li>
<li><p>the unit to convert to</p>
<p>&nbsp;</p></li>
</ul>
<p>The second method will require multiple conditions in your <strong><em>if-else-if</em></strong> structure:</p>
<p><strong>if(convertFrom == “C” &amp; convertTo == “F”)</strong></p>
<p>&nbsp;</p>
<p>6) Create a function that finds the <span class="hl">difference in temperatures</span> between consecutive days and returns the temperature differences as a vector.</p>
<p>&nbsp;</p>
<p>So if you have four high temperatures: <strong>40, 45, 35, 42</strong>:</p>
<ul>
<li><p>the four calculations would be: <strong>(no calculation), (45-40), (35-45), (42-35)</strong></p></li>
<li><p>and the return vector would be:&nbsp; <strong>(NA, 5, -10, 7</strong></p></li>
</ul>
<p><span class="note">Note: The first value of the return vector is always NA because there is nothing to subtract.</span></p>
<p><span class="note">Save you script file as <strong>app1-15.r</strong>&nbsp; in the <strong>scripts</strong> folder of your RStudio Project for the class.</span></p>
<p>&nbsp;</p>
<p>Save the script as&nbsp;<strong><em>app</em></strong>1-15<strong><em>.r</em></strong> in your&nbsp;<strong><em>scripts</em></strong> folder and&nbsp; email your Project Folder to Charlie Belinsky at belinsky@msu.edu.</p>
<p>&nbsp;</p>
<p><a href="1-01-RStudioProjectsSetup.html#sec-zip-folder" target="_blank">Instructions for zipping the Project Folder are here.</a></p>
<p>&nbsp;</p>
<p>If you have any questions regarding this application, feel free to email them to Charlie Belinsky at belinsky@msu.edu.</p>
<section id="questions-to-answer-1" class="level3" data-number="13.1">
<h3 data-number="13.1" class="anchored" data-anchor-id="questions-to-answer-1"><span class="header-section-number">13.1</span> Questions to answer</h3>
<p>Answer the following in comments inside your application script:</p>
<ol type="1">
<li><p>What was your level of comfort with the lesson/application?</p></li>
<li><p>What areas of the lesson/application confused or still confuses you?</p></li>
<li><p>What are some things you would like to know more about that is related to, but not covered in, this lesson?</p></li>
</ol>
</section>
<section id="end-of-unit-survey" class="level3" data-number="13.2">
<h3 data-number="13.2" class="anchored" data-anchor-id="end-of-unit-survey"><span class="header-section-number">13.2</span> End-of-unit survey</h3>
<p><a href="https://msu.co1.qualtrics.com/jfe/form/SV_b9I3VPJ2We28Qzs?online=true&amp;sync=false&amp;class=rfund">Please take this short (less than 5 minute) survey regarding this class.</a></p>
</section>
</section>
<section id="extension-creating-a-factor-categorical-vector" class="level2" data-number="14">
<h2 data-number="14" class="anchored" data-anchor-id="extension-creating-a-factor-categorical-vector"><span class="header-section-number">14</span> Extension: Creating a factor (categorical) vector</h2>
<p><strong><em>cat5i</em></strong> is a string vector with only 5 values in it: <strong>hot</strong>, <strong>warm</strong>, <strong>moderate</strong>, <strong>cold</strong>, and <strong>freezing</strong>.</p>
<p>&nbsp;</p>
<p>We can convert this vector into a factor, or categorical, vector using as.factor();</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>  factorVector <span class="ot">=</span> <span class="fu">as.factor</span>(cat5i);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the <strong><em>Environment</em></strong> we see <strong><em>factorVector</em></strong> is:</p>
<div class="sourceCode" id="cb46" data-tab="Environment"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>factorVector<span class="sc">:</span>  Factor w<span class="sc">/</span> <span class="dv">5</span> levels <span class="st">"cold"</span>, <span class="st">"freezing"</span>,...<span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The 5 levels are just the five possible values from the original vector <strong><em>cat5i</em></strong> in alphabetical order.&nbsp; You can also get these five levels in the <strong><em>Console</em></strong>:</p>
<div class="sourceCode" id="cb47" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">levels</span>(factorVector) [<span class="dv">1</span>] <span class="st">"cold"</span>     <span class="st">"freezing"</span> <span class="st">"hot"</span>      <span class="st">"moderate"</span> <span class="st">"warm"</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The numbers refer to the 5 levels.&nbsp; 1 is “cold”, 2 is “freezing”… We can look at the numbers in the <strong><em>Console</em></strong> using <strong><em>as.numeric()</em></strong>:</p>
<div class="sourceCode" id="cb48" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">as.numeric</span>(factorVector)   [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>  [<span class="dv">38</span>] <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span>  [<span class="dv">75</span>] <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> [<span class="dv">112</span>] <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> [<span class="dv">149</span>] <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> [<span class="dv">186</span>] <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> [<span class="dv">223</span>] <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> [<span class="dv">260</span>] <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> [<span class="dv">297</span>] <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> [<span class="dv">334</span>] <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can reorder the levels to go by temperature category instead of alphabetical instead using factor():</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>  reorderedFactor <span class="ot">=</span> <span class="fu">factor</span>(factorVector,                             <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"freezing"</span>, <span class="st">"cold"</span>, <span class="st">"moderate"</span>,                                      <span class="st">"warm"</span>, <span class="st">"hot"</span>));</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And now the output is a bit more intuitive:</p>
<div class="sourceCode" id="cb50" data-tab="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">levels</span>(reorderedFactor) [<span class="dv">1</span>] <span class="st">"freezing"</span> <span class="st">"cold"</span>     <span class="st">"moderate"</span> <span class="st">"warm"</span>     <span class="st">"hot"</span>      <span class="sc">&gt;</span> <span class="fu">as.numeric</span>(reorderedFactor)   [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span>  [<span class="dv">38</span>] <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span>  [<span class="dv">75</span>] <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> [<span class="dv">112</span>] <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> [<span class="dv">149</span>] <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> [<span class="dv">186</span>] <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> [<span class="dv">223</span>] <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> [<span class="dv">260</span>] <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> [<span class="dv">297</span>] <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> [<span class="dv">334</span>] <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The advantage to using factors is that they are faster.&nbsp; Factors are actually numeric vectors with each possible number asigned a string value.&nbsp; So, there are 366 numeric values and 5 string values in <strong><em>reorderedFactor</em></strong>.&nbsp; Numeric values can be be read in and processed much quicker than string values.&nbsp; Also, there are older statistical and plotting functions that only accept factors as an argument.</p>
<p>&nbsp;</p>
<p>The disadvantage is that factors are clumsy to work with.&nbsp; While they are faster than string vectors, modern functions will essentially factorize a string vector in the background – minimizing the lost processing time.&nbsp; And pretty much all modern statistical and plotting functions will happily take string vectors – including GGPlot.&nbsp;</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>